var iF=Object.defineProperty;var aF=(r,e,n)=>e in r?iF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var mt=(r,e,n)=>aF(r,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rh={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function oF(){if(Uw)return uu;Uw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var l=null;if(u!==void 0&&(l=""+u),o.key!==void 0&&(l=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:l,ref:o!==void 0?o:null,props:u}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var Lw;function sF(){return Lw||(Lw=1,Rh.exports=oF()),Rh.exports}var pr=sF(),Dh={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function uF(){if(Bw)return xt;Bw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function R(q,le,Ae){this.props=q,this.context=le,this.refs=S,this.updater=Ae||A}R.prototype.isReactComponent={},R.prototype.setState=function(q,le){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,le,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=R.prototype;function D(q,le,Ae){this.props=q,this.context=le,this.refs=S,this.updater=Ae||A}var C=D.prototype=new T;C.constructor=D,x(C,R.prototype),C.isPureReactComponent=!0;var N=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function j(q,le,Ae,be,We,Xe){return Ae=Xe.ref,{$$typeof:r,type:q,key:le,ref:Ae!==void 0?Ae:null,props:Xe}}function X(q,le){return j(q.type,le,void 0,void 0,void 0,q.props)}function re(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function B(q){var le={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ae){return le[Ae]})}var Y=/\/+/g;function me(q,le){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):le.toString(36)}function ne(){}function ke(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ne,ne):(q.status="pending",q.then(function(le){q.status==="pending"&&(q.status="fulfilled",q.value=le)},function(le){q.status==="pending"&&(q.status="rejected",q.reason=le)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Ve(q,le,Ae,be,We){var Xe=typeof q;(Xe==="undefined"||Xe==="boolean")&&(q=null);var rt=!1;if(q===null)rt=!0;else switch(Xe){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(q.$$typeof){case r:case e:rt=!0;break;case v:return rt=q._init,Ve(rt(q._payload),le,Ae,be,We)}}if(rt)return We=We(q),rt=be===""?"."+me(q,0):be,N(We)?(Ae="",rt!=null&&(Ae=rt.replace(Y,"$&/")+"/"),Ve(We,le,Ae,"",function(He){return He})):We!=null&&(re(We)&&(We=X(We,Ae+(We.key==null||q&&q.key===We.key?"":(""+We.key).replace(Y,"$&/")+"/")+rt)),le.push(We)),1;rt=0;var st=be===""?".":be+":";if(N(q))for(var Ce=0;Ce<q.length;Ce++)be=q[Ce],Xe=st+me(be,Ce),rt+=Ve(be,le,Ae,Xe,We);else if(Ce=_(q),typeof Ce=="function")for(q=Ce.call(q),Ce=0;!(be=q.next()).done;)be=be.value,Xe=st+me(be,Ce++),rt+=Ve(be,le,Ae,Xe,We);else if(Xe==="object"){if(typeof q.then=="function")return Ve(ke(q),le,Ae,be,We);throw le=String(q),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return rt}function ge(q,le,Ae){if(q==null)return q;var be=[],We=0;return Ve(q,be,"","",function(Xe){return le.call(Ae,Xe,We++)}),be}function Oe(q){if(q._status===-1){var le=q._result;le=le(),le.then(function(Ae){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ae)},function(Ae){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ae)}),q._status===-1&&(q._status=0,q._result=le)}if(q._status===1)return q._result.default;throw q._result}var we=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Be(){}return xt.Children={map:ge,forEach:function(q,le,Ae){ge(q,function(){le.apply(this,arguments)},Ae)},count:function(q){var le=0;return ge(q,function(){le++}),le},toArray:function(q){return ge(q,function(le){return le})||[]},only:function(q){if(!re(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},xt.Component=R,xt.Fragment=n,xt.Profiler=o,xt.PureComponent=D,xt.StrictMode=i,xt.Suspense=g,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,xt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},xt.cache=function(q){return function(){return q.apply(null,arguments)}},xt.cloneElement=function(q,le,Ae){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var be=x({},q.props),We=q.key,Xe=void 0;if(le!=null)for(rt in le.ref!==void 0&&(Xe=void 0),le.key!==void 0&&(We=""+le.key),le)!L.call(le,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&le.ref===void 0||(be[rt]=le[rt]);var rt=arguments.length-2;if(rt===1)be.children=Ae;else if(1<rt){for(var st=Array(rt),Ce=0;Ce<rt;Ce++)st[Ce]=arguments[Ce+2];be.children=st}return j(q.type,We,void 0,void 0,Xe,be)},xt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},xt.createElement=function(q,le,Ae){var be,We={},Xe=null;if(le!=null)for(be in le.key!==void 0&&(Xe=""+le.key),le)L.call(le,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(We[be]=le[be]);var rt=arguments.length-2;if(rt===1)We.children=Ae;else if(1<rt){for(var st=Array(rt),Ce=0;Ce<rt;Ce++)st[Ce]=arguments[Ce+2];We.children=st}if(q&&q.defaultProps)for(be in rt=q.defaultProps,rt)We[be]===void 0&&(We[be]=rt[be]);return j(q,Xe,void 0,void 0,null,We)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(q){return{$$typeof:c,render:q}},xt.isValidElement=re,xt.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:Oe}},xt.memo=function(q,le){return{$$typeof:p,type:q,compare:le===void 0?null:le}},xt.startTransition=function(q){var le=k.T,Ae={};k.T=Ae;try{var be=q(),We=k.S;We!==null&&We(Ae,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(Be,we)}catch(Xe){we(Xe)}finally{k.T=le}},xt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},xt.use=function(q){return k.H.use(q)},xt.useActionState=function(q,le,Ae){return k.H.useActionState(q,le,Ae)},xt.useCallback=function(q,le){return k.H.useCallback(q,le)},xt.useContext=function(q){return k.H.useContext(q)},xt.useDebugValue=function(){},xt.useDeferredValue=function(q,le){return k.H.useDeferredValue(q,le)},xt.useEffect=function(q,le,Ae){var be=k.H;if(typeof Ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(q,le)},xt.useId=function(){return k.H.useId()},xt.useImperativeHandle=function(q,le,Ae){return k.H.useImperativeHandle(q,le,Ae)},xt.useInsertionEffect=function(q,le){return k.H.useInsertionEffect(q,le)},xt.useLayoutEffect=function(q,le){return k.H.useLayoutEffect(q,le)},xt.useMemo=function(q,le){return k.H.useMemo(q,le)},xt.useOptimistic=function(q,le){return k.H.useOptimistic(q,le)},xt.useReducer=function(q,le,Ae){return k.H.useReducer(q,le,Ae)},xt.useRef=function(q){return k.H.useRef(q)},xt.useState=function(q){return k.H.useState(q)},xt.useSyncExternalStore=function(q,le,Ae){return k.H.useSyncExternalStore(q,le,Ae)},xt.useTransition=function(){return k.H.useTransition()},xt.version="19.1.0",xt}var jw;function bm(){return jw||(jw=1,Dh.exports=uF()),Dh.exports}var dt=bm();const De=zr(dt);var Ch={exports:{}},lu={},Fh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function lF(){return qw||(qw=1,function(r){function e(ge,Oe){var we=ge.length;ge.push(Oe);e:for(;0<we;){var Be=we-1>>>1,q=ge[Be];if(0<o(q,Oe))ge[Be]=Oe,ge[we]=q,we=Be;else break e}}function n(ge){return ge.length===0?null:ge[0]}function i(ge){if(ge.length===0)return null;var Oe=ge[0],we=ge.pop();if(we!==Oe){ge[0]=we;e:for(var Be=0,q=ge.length,le=q>>>1;Be<le;){var Ae=2*(Be+1)-1,be=ge[Ae],We=Ae+1,Xe=ge[We];if(0>o(be,we))We<q&&0>o(Xe,be)?(ge[Be]=Xe,ge[We]=we,Be=We):(ge[Be]=be,ge[Ae]=we,Be=Ae);else if(We<q&&0>o(Xe,we))ge[Be]=Xe,ge[We]=we,Be=We;else break e}}return Oe}function o(ge,Oe){var we=ge.sortIndex-Oe.sortIndex;return we!==0?we:ge.id-Oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var g=[],p=[],v=1,y=null,_=3,A=!1,x=!1,S=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(ge){for(var Oe=n(p);Oe!==null;){if(Oe.callback===null)i(p);else if(Oe.startTime<=ge)i(p),Oe.sortIndex=Oe.expirationTime,e(g,Oe);else break;Oe=n(p)}}function k(ge){if(S=!1,N(ge),!x)if(n(g)!==null)x=!0,L||(L=!0,me());else{var Oe=n(p);Oe!==null&&Ve(k,Oe.startTime-ge)}}var L=!1,j=-1,X=5,re=-1;function B(){return R?!0:!(r.unstable_now()-re<X)}function Y(){if(R=!1,L){var ge=r.unstable_now();re=ge;var Oe=!0;try{e:{x=!1,S&&(S=!1,D(j),j=-1),A=!0;var we=_;try{t:{for(N(ge),y=n(g);y!==null&&!(y.expirationTime>ge&&B());){var Be=y.callback;if(typeof Be=="function"){y.callback=null,_=y.priorityLevel;var q=Be(y.expirationTime<=ge);if(ge=r.unstable_now(),typeof q=="function"){y.callback=q,N(ge),Oe=!0;break t}y===n(g)&&i(g),N(ge)}else i(g);y=n(g)}if(y!==null)Oe=!0;else{var le=n(p);le!==null&&Ve(k,le.startTime-ge),Oe=!1}}break e}finally{y=null,_=we,A=!1}Oe=void 0}}finally{Oe?me():L=!1}}}var me;if(typeof C=="function")me=function(){C(Y)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ke=ne.port2;ne.port1.onmessage=Y,me=function(){ke.postMessage(null)}}else me=function(){T(Y,0)};function Ve(ge,Oe){j=T(function(){ge(r.unstable_now())},Oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ge){ge.callback=null},r.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<ge?Math.floor(1e3/ge):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(ge){switch(_){case 1:case 2:case 3:var Oe=3;break;default:Oe=_}var we=_;_=Oe;try{return ge()}finally{_=we}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(ge,Oe){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var we=_;_=ge;try{return Oe()}finally{_=we}},r.unstable_scheduleCallback=function(ge,Oe,we){var Be=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Be+we:Be):we=Be,ge){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=we+q,ge={id:v++,callback:Oe,priorityLevel:ge,startTime:we,expirationTime:q,sortIndex:-1},we>Be?(ge.sortIndex=we,e(p,ge),n(g)===null&&ge===n(p)&&(S?(D(j),j=-1):S=!0,Ve(k,we-Be))):(ge.sortIndex=q,e(g,ge),x||A||(x=!0,L||(L=!0,me()))),ge},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(ge){var Oe=_;return function(){var we=_;_=Oe;try{return ge.apply(this,arguments)}finally{_=we}}}}(Oh)),Oh}var Hw;function cF(){return Hw||(Hw=1,Fh.exports=lF()),Fh.exports}var Nh={exports:{}},Wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function fF(){if(Kw)return Wr;Kw=1;var r=bm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:p,implementation:v}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wr.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Wr.flushSync=function(g){var p=l.T,v=i.p;try{if(l.T=null,i.p=2,g)return g()}finally{l.T=p,i.p=v,i.d.f()}},Wr.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Wr.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Wr.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,y=c(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:A}):v==="script"&&i.d.X(g,{crossOrigin:y,integrity:_,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wr.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=c(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Wr.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=c(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wr.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=c(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Wr.requestFormReset=function(g){i.d.r(g)},Wr.unstable_batchedUpdates=function(g,p){return g(p)},Wr.useFormState=function(g,p,v){return l.H.useFormState(g,p,v)},Wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wr.version="19.1.0",Wr}var zw;function DA(){if(zw)return Nh.exports;zw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nh.exports=fF(),Nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function dF(){if(Vw)return lu;Vw=1;var r=cF(),e=bm(),n=DA();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function l(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(i(188))}function g(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,f=a;;){var b=s.return;if(b===null)break;var E=b.alternate;if(E===null){if(f=b.return,f!==null){s=f;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===s)return c(b),t;if(E===f)return c(b),a;E=E.sibling}throw Error(i(188))}if(s.return!==f.return)s=b,f=E;else{for(var K=!1,J=b.child;J;){if(J===s){K=!0,s=b,f=E;break}if(J===f){K=!0,f=b,s=E;break}J=J.sibling}if(!K){for(J=E.child;J;){if(J===s){K=!0,s=E,f=b;break}if(J===f){K=!0,f=E,s=b;break}J=J.sibling}if(!K)throw Error(i(189))}}if(s.alternate!==f)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function p(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=p(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ne?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case R:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case L:return"SuspenseList";case re:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case C:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case N:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return a=t.displayName||null,a!==null?a:ke(t.type)||"Memo";case X:a=t._payload,t=t._init;try{return ke(t(a))}catch{}}return null}var Ve=Array.isArray,ge=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Be=[],q=-1;function le(t){return{current:t}}function Ae(t){0>q||(t.current=Be[q],Be[q]=null,q--)}function be(t,a){q++,Be[q]=t.current,t.current=a}var We=le(null),Xe=le(null),rt=le(null),st=le(null);function Ce(t,a){switch(be(rt,a),be(Xe,t),be(We,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?fw(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=fw(a),t=dw(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ae(We),be(We,t)}function He(){Ae(We),Ae(Xe),Ae(rt)}function Qe(t){t.memoizedState!==null&&be(st,t);var a=We.current,s=dw(a,t.type);a!==s&&(be(Xe,t),be(We,s))}function ie(t){Xe.current===t&&(Ae(We),Ae(Xe)),st.current===t&&(Ae(st),nu._currentValue=we)}var U=Object.prototype.hasOwnProperty,O=r.unstable_scheduleCallback,z=r.unstable_cancelCallback,$=r.unstable_shouldYield,fe=r.unstable_requestPaint,ue=r.unstable_now,Pe=r.unstable_getCurrentPriorityLevel,he=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,Ge=r.unstable_NormalPriority,qe=r.unstable_LowPriority,at=r.unstable_IdlePriority,St=r.log,it=r.unstable_setDisableYieldValue,gt=null,V=null;function M(t){if(typeof St=="function"&&it(t),V&&typeof V.setStrictMode=="function")try{V.setStrictMode(gt,t)}catch{}}var P=Math.clz32?Math.clz32:Fe,I=Math.log,Ee=Math.LN2;function Fe(t){return t>>>=0,t===0?32:31-(I(t)/Ee|0)|0}var Se=256,vt=4194304;function Nt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ot(t,a,s){var f=t.pendingLanes;if(f===0)return 0;var b=0,E=t.suspendedLanes,K=t.pingedLanes;t=t.warmLanes;var J=f&134217727;return J!==0?(f=J&~E,f!==0?b=Nt(f):(K&=J,K!==0?b=Nt(K):s||(s=J&~t,s!==0&&(b=Nt(s))))):(J=f&~E,J!==0?b=Nt(J):K!==0?b=Nt(K):s||(s=f&~t,s!==0&&(b=Nt(s)))),b===0?0:a!==0&&a!==b&&(a&E)===0&&(E=b&-b,s=a&-a,E>=s||E===32&&(s&4194048)!==0)?a:b}function At(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Dt(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var t=Se;return Se<<=1,(Se&4194048)===0&&(Se=256),t}function rr(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function Ut(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function hn(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function or(t,a,s,f,b,E){var K=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var J=t.entanglements,ye=t.expirationTimes,Ie=t.hiddenUpdates;for(s=K&~s;0<s;){var Ye=31-P(s),Ze=1<<Ye;J[Ye]=0,ye[Ye]=-1;var je=Ie[Ye];if(je!==null)for(Ie[Ye]=null,Ye=0;Ye<je.length;Ye++){var Ke=je[Ye];Ke!==null&&(Ke.lane&=-536870913)}s&=~Ze}f!==0&&kr(t,f,0),E!==0&&b===0&&t.tag!==0&&(t.suspendedLanes|=E&~(K&~a))}function kr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var f=31-P(a);t.entangledLanes|=a,t.entanglements[f]=t.entanglements[f]|1073741824|s&4194090}function Pr(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var f=31-P(s),b=1<<f;b&a|t[f]&a&&(t[f]|=a),s&=~b}}function yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ee(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function de(){var t=Oe.p;return t!==0?t:(t=window.event,t===void 0?32:Ow(t.type))}function nt(t,a){var s=Oe.p;try{return Oe.p=t,a()}finally{Oe.p=s}}var tt=Math.random().toString(36).slice(2),ut="__reactFiber$"+tt,It="__reactProps$"+tt,nr="__reactContainer$"+tt,Pn="__reactEvents$"+tt,En="__reactListeners$"+tt,Da="__reactHandles$"+tt,Wi="__reactResources$"+tt,Un="__reactMarker$"+tt;function Ln(t){delete t[ut],delete t[It],delete t[Pn],delete t[En],delete t[Da]}function pn(t){var a=t[ut];if(a)return a;for(var s=t.parentNode;s;){if(a=s[nr]||s[ut]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=vw(t);t!==null;){if(s=t[ut])return s;t=vw(t)}return a}t=s,s=t.parentNode}return null}function tn(t){if(t=t[ut]||t[nr]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function xn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function Mt(t){var a=t[Wi];return a||(a=t[Wi]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function wt(t){t[Un]=!0}var Xr=new Set,ys={};function Zn(t,a){Xt(t,a),Xt(t+"Capture",a)}function Xt(t,a){for(ys[t]=a,t=0;t<a.length;t++)Xr.add(a[t])}var Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},cl={};function Mf(t){return U.call(cl,t)?!0:U.call(ll,t)?!1:Nf.test(t)?cl[t]=!0:(ll[t]=!0,!1)}function lo(t,a,s){if(Mf(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function co(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Bn(t,a,s,f){if(f===null)t.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+f)}}var ms,fl;function Gi(t){if(ms===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);ms=a&&a[1]||"",fl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+t+fl}var h=!1;function d(t,a){if(!t||h)return"";h=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Ke){var je=Ke}Reflect.construct(t,[],Ze)}else{try{Ze.call()}catch(Ke){je=Ke}t.call(Ze.prototype)}}else{try{throw Error()}catch(Ke){je=Ke}(Ze=t())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Ke){if(Ke&&je&&typeof Ke.stack=="string")return[Ke.stack,je.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=f.DetermineComponentFrameRoot(),K=E[0],J=E[1];if(K&&J){var ye=K.split(`
`),Ie=J.split(`
`);for(b=f=0;f<ye.length&&!ye[f].includes("DetermineComponentFrameRoot");)f++;for(;b<Ie.length&&!Ie[b].includes("DetermineComponentFrameRoot");)b++;if(f===ye.length||b===Ie.length)for(f=ye.length-1,b=Ie.length-1;1<=f&&0<=b&&ye[f]!==Ie[b];)b--;for(;1<=f&&0<=b;f--,b--)if(ye[f]!==Ie[b]){if(f!==1||b!==1)do if(f--,b--,0>b||ye[f]!==Ie[b]){var Ye=`
`+ye[f].replace(" at new "," at ");return t.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",t.displayName)),Ye}while(1<=f&&0<=b);break}}}finally{h=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Gi(s):""}function m(t){switch(t.tag){case 26:case 27:case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return d(t.type,!1);case 11:return d(t.type.render,!1);case 1:return d(t.type,!0);case 31:return Gi("Activity");default:return""}}function w(t){try{var a="";do a+=m(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function F(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function G(t){var a=H(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),f=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var b=s.get,E=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return b.call(this)},set:function(K){f=""+K,E.call(this,K)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return f},setValue:function(K){f=""+K},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function te(t){t._valueTracker||(t._valueTracker=G(t))}function Q(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),f="";return t&&(f=H(t)?t.checked?"true":"false":t.value),t=f,t!==s?(a.setValue(t),!0):!1}function Z(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var se=/[\n"\\]/g;function oe(t){return t.replace(se,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ve(t,a,s,f,b,E,K,J){t.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?t.type=K:t.removeAttribute("type"),a!=null?K==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+F(a)):t.value!==""+F(a)&&(t.value=""+F(a)):K!=="submit"&&K!=="reset"||t.removeAttribute("value"),a!=null?Re(t,K,F(a)):s!=null?Re(t,K,F(s)):f!=null&&t.removeAttribute("value"),b==null&&E!=null&&(t.defaultChecked=!!E),b!=null&&(t.checked=b&&typeof b!="function"&&typeof b!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?t.name=""+F(J):t.removeAttribute("name")}function _e(t,a,s,f,b,E,K,J){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.type=E),a!=null||s!=null){if(!(E!=="submit"&&E!=="reset"||a!=null))return;s=s!=null?""+F(s):"",a=a!=null?""+F(a):s,J||a===t.value||(t.value=a),t.defaultValue=a}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,t.checked=J?t.checked:!!f,t.defaultChecked=!!f,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(t.name=K)}function Re(t,a,s){a==="number"&&Z(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ue(t,a,s,f){if(t=t.options,a){a={};for(var b=0;b<s.length;b++)a["$"+s[b]]=!0;for(s=0;s<t.length;s++)b=a.hasOwnProperty("$"+t[s].value),t[s].selected!==b&&(t[s].selected=b),b&&f&&(t[s].defaultSelected=!0)}else{for(s=""+F(s),a=null,b=0;b<t.length;b++){if(t[b].value===s){t[b].selected=!0,f&&(t[b].defaultSelected=!0);return}a!==null||t[b].disabled||(a=t[b])}a!==null&&(a.selected=!0)}}function ze(t,a,s){if(a!=null&&(a=""+F(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+F(s):""}function W(t,a,s,f){if(a==null){if(f!=null){if(s!=null)throw Error(i(92));if(Ve(f)){if(1<f.length)throw Error(i(93));f=f[0]}s=f}s==null&&(s=""),a=s}s=F(a),t.defaultValue=s,f=t.textContent,f===s&&f!==""&&f!==null&&(t.value=f)}function ae(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var ce=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pe(t,a,s){var f=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?f?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":f?t.setProperty(a,s):typeof s!="number"||s===0||ce.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Ne(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var f in s)!s.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?t.setProperty(f,""):f==="float"?t.cssFloat="":t[f]="");for(var b in a)f=a[b],a.hasOwnProperty(b)&&s[b]!==f&&pe(t,b,f)}else for(var E in a)a.hasOwnProperty(E)&&pe(t,E,a[E])}function $e(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(t){return et.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var lt=null;function ht(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pt=null,Bt=null;function Vt(t){var a=tn(t);if(a&&(t=a.stateNode)){var s=t[It]||null;e:switch(t=a.stateNode,a.type){case"input":if(ve(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+oe(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var f=s[a];if(f!==t&&f.form===t.form){var b=f[It]||null;if(!b)throw Error(i(90));ve(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<s.length;a++)f=s[a],f.form===t.form&&Q(f)}break e;case"textarea":ze(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Ue(t,!!s.multiple,a,!1)}}}var Fr=!1;function xr(t,a,s){if(Fr)return t(a,s);Fr=!0;try{var f=t(a);return f}finally{if(Fr=!1,(Pt!==null||Bt!==null)&&(Wl(),Pt&&(a=Pt,t=Bt,Bt=Pt=null,Vt(a),t)))for(a=0;a<t.length;a++)Vt(t[a])}}function yr(t,a){var s=t.stateNode;if(s===null)return null;var f=s[It]||null;if(f===null)return null;s=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(t=t.type,f=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!f;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(jt)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){sr=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{sr=!1}var ir=null,mi=null,jn=null;function Yi(){if(jn)return jn;var t,a=mi,s=a.length,f,b="value"in ir?ir.value:ir.textContent,E=b.length;for(t=0;t<s&&a[t]===b[t];t++);var K=s-t;for(f=1;f<=K&&a[s-f]===b[E-f];f++);return jn=b.slice(t,1<f?1-f:void 0)}function qn(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function Xi(){return!1}function Qt(t){function a(s,f,b,E,K){this._reactName=s,this._targetInst=b,this.type=f,this.nativeEvent=E,this.target=K,this.currentTarget=null;for(var J in t)t.hasOwnProperty(J)&&(s=t[J],this[J]=s?s(E):E[J]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ji:Xi,this.isPropagationStopped=Xi,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),a}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Qt(wr),Hn=v({},wr,{view:0,detail:0}),fo=Qt(Hn),_i,Ca,Kn,Vr=v({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(_i=t.screenX-Kn.screenX,Ca=t.screenY-Kn.screenY):Ca=_i=0,Kn=t),_i)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),ei=Qt(Vr),zn=v({},Vr,{dataTransfer:0}),Zt=Qt(zn),Vn=v({},Hn,{relatedTarget:0}),ti=Qt(Vn),mr=v({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=Qt(mr),wi=v({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Si=Qt(wi),If=v({},wr,{data:0}),dl=Qt(If),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=gD[t])?!!a[t]:!1}function kf(){return vD}var yD=v({},Hn,{key:function(t){if(t.key){var a=hl[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mD=Qt(yD),bD=v({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Qt(bD),_D=v({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),wD=Qt(_D),SD=v({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=Qt(SD),xD=v({},Vr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AD=Qt(xD),TD=v({},wr,{newState:0,oldState:0}),RD=Qt(TD),DD=[9,13,27,32],Pf=jt&&"CompositionEvent"in window,_s=null;jt&&"documentMode"in document&&(_s=document.documentMode);var CD=jt&&"TextEvent"in window&&!_s,_0=jt&&(!Pf||_s&&8<_s&&11>=_s),w0=" ",S0=!1;function E0(t,a){switch(t){case"keyup":return DD.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function FD(t,a){switch(t){case"compositionend":return x0(a);case"keypress":return a.which!==32?null:(S0=!0,w0);case"textInput":return t=a.data,t===w0&&S0?null:t;default:return null}}function OD(t,a){if(ho)return t==="compositionend"||!Pf&&E0(t,a)?(t=Yi(),jn=mi=ir=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _0&&a.locale!=="ko"?null:a.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!ND[t.type]:a==="textarea"}function T0(t,a,s,f){Pt?Bt?Bt.push(f):Bt=[f]:Pt=f,a=Zl(a,"onChange"),0<a.length&&(s=new bi("onChange","change",null,s,f),t.push({event:s,listeners:a}))}var ws=null,Ss=null;function MD(t){ow(t,0)}function pl(t){var a=xn(t);if(Q(a))return t}function R0(t,a){if(t==="change")return a}var D0=!1;if(jt){var Uf;if(jt){var Lf="oninput"in document;if(!Lf){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),Lf=typeof C0.oninput=="function"}Uf=Lf}else Uf=!1;D0=Uf&&(!document.documentMode||9<document.documentMode)}function F0(){ws&&(ws.detachEvent("onpropertychange",O0),Ss=ws=null)}function O0(t){if(t.propertyName==="value"&&pl(Ss)){var a=[];T0(a,Ss,t,ht(t)),xr(MD,a)}}function ID(t,a,s){t==="focusin"?(F0(),ws=a,Ss=s,ws.attachEvent("onpropertychange",O0)):t==="focusout"&&F0()}function kD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pl(Ss)}function PD(t,a){if(t==="click")return pl(a)}function UD(t,a){if(t==="input"||t==="change")return pl(a)}function LD(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var gn=typeof Object.is=="function"?Object.is:LD;function Es(t,a){if(gn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),f=Object.keys(a);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var b=s[f];if(!U.call(a,b)||!gn(t[b],a[b]))return!1}return!0}function N0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M0(t,a){var s=N0(t);t=0;for(var f;s;){if(s.nodeType===3){if(f=t+s.textContent.length,t<=a&&f>=a)return{node:s,offset:a-t};t=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=N0(s)}}function I0(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?I0(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function k0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Z(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Z(t.document)}return a}function Bf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var BD=jt&&"documentMode"in document&&11>=document.documentMode,po=null,jf=null,xs=null,qf=!1;function P0(t,a,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qf||po==null||po!==Z(f)||(f=po,"selectionStart"in f&&Bf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xs&&Es(xs,f)||(xs=f,f=Zl(jf,"onSelect"),0<f.length&&(a=new bi("onSelect","select",null,a,s),t.push({event:a,listeners:f}),a.target=po)))}function Fa(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var go={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Hf={},U0={};jt&&(U0=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Oa(t){if(Hf[t])return Hf[t];if(!go[t])return t;var a=go[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in U0)return Hf[t]=a[s];return t}var L0=Oa("animationend"),B0=Oa("animationiteration"),j0=Oa("animationstart"),jD=Oa("transitionrun"),qD=Oa("transitionstart"),HD=Oa("transitioncancel"),q0=Oa("transitionend"),H0=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function $n(t,a){H0.set(t,a),Zn(a,[t])}var K0=new WeakMap;function An(t,a){if(typeof t=="object"&&t!==null){var s=K0.get(t);return s!==void 0?s:(a={value:t,source:a,stack:w(a)},K0.set(t,a),a)}return{value:t,source:a,stack:w(a)}}var Tn=[],vo=0,zf=0;function gl(){for(var t=vo,a=zf=vo=0;a<t;){var s=Tn[a];Tn[a++]=null;var f=Tn[a];Tn[a++]=null;var b=Tn[a];Tn[a++]=null;var E=Tn[a];if(Tn[a++]=null,f!==null&&b!==null){var K=f.pending;K===null?b.next=b:(b.next=K.next,K.next=b),f.pending=b}E!==0&&z0(s,b,E)}}function vl(t,a,s,f){Tn[vo++]=t,Tn[vo++]=a,Tn[vo++]=s,Tn[vo++]=f,zf|=f,t.lanes|=f,t=t.alternate,t!==null&&(t.lanes|=f)}function Vf(t,a,s,f){return vl(t,a,s,f),yl(t)}function yo(t,a){return vl(t,null,null,a),yl(t)}function z0(t,a,s){t.lanes|=s;var f=t.alternate;f!==null&&(f.lanes|=s);for(var b=!1,E=t.return;E!==null;)E.childLanes|=s,f=E.alternate,f!==null&&(f.childLanes|=s),E.tag===22&&(t=E.stateNode,t===null||t._visibility&1||(b=!0)),t=E,E=E.return;return t.tag===3?(E=t.stateNode,b&&a!==null&&(b=31-P(s),t=E.hiddenUpdates,f=t[b],f===null?t[b]=[a]:f.push(a),a.lane=s|536870912),E):null}function yl(t){if(50<Ys)throw Ys=0,Xd=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var mo={};function KD(t,a,s,f){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,a,s,f){return new KD(t,a,s,f)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,a){var s=t.alternate;return s===null?(s=vn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function V0(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function ml(t,a,s,f,b,E){var K=0;if(f=t,typeof t=="function")$f(t)&&(K=1);else if(typeof t=="string")K=VC(t,s,We.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case re:return t=vn(31,s,a,b),t.elementType=re,t.lanes=E,t;case x:return Na(s.children,b,E,a);case S:K=8,b|=24;break;case R:return t=vn(12,s,a,b|2),t.elementType=R,t.lanes=E,t;case k:return t=vn(13,s,a,b),t.elementType=k,t.lanes=E,t;case L:return t=vn(19,s,a,b),t.elementType=L,t.lanes=E,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case C:K=10;break e;case D:K=9;break e;case N:K=11;break e;case j:K=14;break e;case X:K=16,f=null;break e}K=29,s=Error(i(130,t===null?"null":typeof t,"")),f=null}return a=vn(K,s,a,b),a.elementType=t,a.type=f,a.lanes=E,a}function Na(t,a,s,f){return t=vn(7,t,f,a),t.lanes=s,t}function Wf(t,a,s){return t=vn(6,t,null,a),t.lanes=s,t}function Gf(t,a,s){return a=vn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var bo=[],_o=0,bl=null,_l=0,Rn=[],Dn=0,Ma=null,xi=1,Ai="";function Ia(t,a){bo[_o++]=_l,bo[_o++]=bl,bl=t,_l=a}function $0(t,a,s){Rn[Dn++]=xi,Rn[Dn++]=Ai,Rn[Dn++]=Ma,Ma=t;var f=xi;t=Ai;var b=32-P(f)-1;f&=~(1<<b),s+=1;var E=32-P(a)+b;if(30<E){var K=b-b%5;E=(f&(1<<K)-1).toString(32),f>>=K,b-=K,xi=1<<32-P(a)+b|s<<b|f,Ai=E+t}else xi=1<<E|s<<b|f,Ai=t}function Yf(t){t.return!==null&&(Ia(t,1),$0(t,1,0))}function Jf(t){for(;t===bl;)bl=bo[--_o],bo[_o]=null,_l=bo[--_o],bo[_o]=null;for(;t===Ma;)Ma=Rn[--Dn],Rn[Dn]=null,Ai=Rn[--Dn],Rn[Dn]=null,xi=Rn[--Dn],Rn[Dn]=null}var Qr=null,dr=null,qt=!1,ka=null,ri=!1,Xf=Error(i(519));function Pa(t){var a=Error(i(418,""));throw Rs(An(a,t)),Xf}function W0(t){var a=t.stateNode,s=t.type,f=t.memoizedProps;switch(a[ut]=t,a[It]=f,s){case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":case"embed":Ft("load",a);break;case"video":case"audio":for(s=0;s<Xs.length;s++)Ft(Xs[s],a);break;case"source":Ft("error",a);break;case"img":case"image":case"link":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"input":Ft("invalid",a),_e(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),te(a);break;case"select":Ft("invalid",a);break;case"textarea":Ft("invalid",a),W(a,f.value,f.defaultValue,f.children),te(a)}s=f.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||f.suppressHydrationWarning===!0||cw(a.textContent,s)?(f.popover!=null&&(Ft("beforetoggle",a),Ft("toggle",a)),f.onScroll!=null&&Ft("scroll",a),f.onScrollEnd!=null&&Ft("scrollend",a),f.onClick!=null&&(a.onclick=ec),a=!0):a=!1,a||Pa(t)}function G0(t){for(Qr=t.return;Qr;)switch(Qr.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Qr=Qr.return}}function As(t){if(t!==Qr)return!1;if(!qt)return G0(t),qt=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||hh(t.type,t.memoizedProps)),s=!s),s&&dr&&Pa(t),G0(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){dr=Gn(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}dr=null}}else a===27?(a=dr,ha(t.type)?(t=yh,yh=null,dr=t):dr=a):dr=Qr?Gn(t.stateNode.nextSibling):null;return!0}function Ts(){dr=Qr=null,qt=!1}function Y0(){var t=ka;return t!==null&&(an===null?an=t:an.push.apply(an,t),ka=null),t}function Rs(t){ka===null?ka=[t]:ka.push(t)}var Qf=le(null),Ua=null,Ti=null;function Qi(t,a,s){be(Qf,a._currentValue),a._currentValue=s}function Ri(t){t._currentValue=Qf.current,Ae(Qf)}function Zf(t,a,s){for(;t!==null;){var f=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),t===s)break;t=t.return}}function ed(t,a,s,f){var b=t.child;for(b!==null&&(b.return=t);b!==null;){var E=b.dependencies;if(E!==null){var K=b.child;E=E.firstContext;e:for(;E!==null;){var J=E;E=b;for(var ye=0;ye<a.length;ye++)if(J.context===a[ye]){E.lanes|=s,J=E.alternate,J!==null&&(J.lanes|=s),Zf(E.return,s,t),f||(K=null);break e}E=J.next}}else if(b.tag===18){if(K=b.return,K===null)throw Error(i(341));K.lanes|=s,E=K.alternate,E!==null&&(E.lanes|=s),Zf(K,s,t),K=null}else K=b.child;if(K!==null)K.return=b;else for(K=b;K!==null;){if(K===t){K=null;break}if(b=K.sibling,b!==null){b.return=K.return,K=b;break}K=K.return}b=K}}function Ds(t,a,s,f){t=null;for(var b=a,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var K=b.alternate;if(K===null)throw Error(i(387));if(K=K.memoizedProps,K!==null){var J=b.type;gn(b.pendingProps.value,K.value)||(t!==null?t.push(J):t=[J])}}else if(b===st.current){if(K=b.alternate,K===null)throw Error(i(387));K.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}b=b.return}t!==null&&ed(a,t,s,f),a.flags|=262144}function wl(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function La(t){Ua=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $r(t){return J0(Ua,t)}function Sl(t,a){return Ua===null&&La(t),J0(t,a)}function J0(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ti===null){if(t===null)throw Error(i(308));Ti=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ti=Ti.next=a;return s}var zD=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,f){t.push(f)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},VD=r.unstable_scheduleCallback,$D=r.unstable_NormalPriority,Ar={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new zD,data:new Map,refCount:0}}function Cs(t){t.refCount--,t.refCount===0&&VD($D,function(){t.controller.abort()})}var Fs=null,rd=0,wo=0,So=null;function WD(t,a){if(Fs===null){var s=Fs=[];rd=0,wo=ih(),So={status:"pending",value:void 0,then:function(f){s.push(f)}}}return rd++,a.then(X0,X0),a}function X0(){if(--rd===0&&Fs!==null){So!==null&&(So.status="fulfilled");var t=Fs;Fs=null,wo=0,So=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function GD(t,a){var s=[],f={status:"pending",value:null,reason:null,then:function(b){s.push(b)}};return t.then(function(){f.status="fulfilled",f.value=a;for(var b=0;b<s.length;b++)(0,s[b])(a)},function(b){for(f.status="rejected",f.reason=b,b=0;b<s.length;b++)(0,s[b])(void 0)}),f}var Q0=ge.S;ge.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&WD(t,a),Q0!==null&&Q0(t,a)};var Ba=le(null);function nd(){var t=Ba.current;return t!==null?t:er.pooledCache}function El(t,a){a===null?be(Ba,Ba.current):be(Ba,a.pool)}function Z0(){var t=nd();return t===null?null:{parent:Ar._currentValue,pool:t}}var Os=Error(i(460)),eb=Error(i(474)),xl=Error(i(542)),id={then:function(){}};function tb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Al(){}function rb(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(Al,Al),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ib(t),t;default:if(typeof a.status=="string")a.then(Al,Al);else{if(t=er,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(f){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=f}},function(f){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,ib(t),t}throw Ns=a,Os}}var Ns=null;function nb(){if(Ns===null)throw Error(i(459));var t=Ns;return Ns=null,t}function ib(t){if(t===Os||t===xl)throw Error(i(483))}var Zi=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,a,s){var f=t.updateQueue;if(f===null)return null;if(f=f.shared,(Ht&2)!==0){var b=f.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),f.pending=a,a=yl(t),z0(t,null,s),a}return vl(t,f,a,s),yl(t)}function Ms(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var f=a.lanes;f&=t.pendingLanes,s|=f,a.lanes=s,Pr(t,s)}}function sd(t,a){var s=t.updateQueue,f=t.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var b=null,E=null;if(s=s.firstBaseUpdate,s!==null){do{var K={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};E===null?b=E=K:E=E.next=K,s=s.next}while(s!==null);E===null?b=E=a:E=E.next=a}else b=E=a;s={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:f.shared,callbacks:f.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var ud=!1;function Is(){if(ud){var t=So;if(t!==null)throw t}}function ks(t,a,s,f){ud=!1;var b=t.updateQueue;Zi=!1;var E=b.firstBaseUpdate,K=b.lastBaseUpdate,J=b.shared.pending;if(J!==null){b.shared.pending=null;var ye=J,Ie=ye.next;ye.next=null,K===null?E=Ie:K.next=Ie,K=ye;var Ye=t.alternate;Ye!==null&&(Ye=Ye.updateQueue,J=Ye.lastBaseUpdate,J!==K&&(J===null?Ye.firstBaseUpdate=Ie:J.next=Ie,Ye.lastBaseUpdate=ye))}if(E!==null){var Ze=b.baseState;K=0,Ye=Ie=ye=null,J=E;do{var je=J.lane&-536870913,Ke=je!==J.lane;if(Ke?(kt&je)===je:(f&je)===je){je!==0&&je===wo&&(ud=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var _t=t,yt=J;je=a;var Gt=s;switch(yt.tag){case 1:if(_t=yt.payload,typeof _t=="function"){Ze=_t.call(Gt,Ze,je);break e}Ze=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=yt.payload,je=typeof _t=="function"?_t.call(Gt,Ze,je):_t,je==null)break e;Ze=v({},Ze,je);break e;case 2:Zi=!0}}je=J.callback,je!==null&&(t.flags|=64,Ke&&(t.flags|=8192),Ke=b.callbacks,Ke===null?b.callbacks=[je]:Ke.push(je))}else Ke={lane:je,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ye===null?(Ie=Ye=Ke,ye=Ze):Ye=Ye.next=Ke,K|=je;if(J=J.next,J===null){if(J=b.shared.pending,J===null)break;Ke=J,J=Ke.next,Ke.next=null,b.lastBaseUpdate=Ke,b.shared.pending=null}}while(!0);Ye===null&&(ye=Ze),b.baseState=ye,b.firstBaseUpdate=Ie,b.lastBaseUpdate=Ye,E===null&&(b.shared.lanes=0),la|=K,t.lanes=K,t.memoizedState=Ze}}function ab(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function ob(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ab(s[t],a)}var Eo=le(null),Tl=le(0);function sb(t,a){t=Ii,be(Tl,t),be(Eo,a),Ii=t|a.baseLanes}function ld(){be(Tl,Ii),be(Eo,Eo.current)}function cd(){Ii=Tl.current,Ae(Eo),Ae(Tl)}var ra=0,Tt=null,$t=null,Sr=null,Rl=!1,xo=!1,ja=!1,Dl=0,Ps=0,Ao=null,YD=0;function br(){throw Error(i(321))}function fd(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!gn(t[s],a[s]))return!1;return!0}function dd(t,a,s,f,b,E){return ra=E,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ge.H=t===null||t.memoizedState===null?zb:Vb,ja=!1,E=s(f,b),ja=!1,xo&&(E=lb(a,s,f,b)),ub(t),E}function ub(t){ge.H=Il;var a=$t!==null&&$t.next!==null;if(ra=0,Sr=$t=Tt=null,Rl=!1,Ps=0,Ao=null,a)throw Error(i(300));t===null||Or||(t=t.dependencies,t!==null&&wl(t)&&(Or=!0))}function lb(t,a,s,f){Tt=t;var b=0;do{if(xo&&(Ao=null),Ps=0,xo=!1,25<=b)throw Error(i(301));if(b+=1,Sr=$t=null,t.updateQueue!=null){var E=t.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ge.H=rC,E=a(s,f)}while(xo);return E}function JD(){var t=ge.H,a=t.useState()[0];return a=typeof a.then=="function"?Us(a):a,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Tt.flags|=1024),a}function hd(){var t=Dl!==0;return Dl=0,t}function pd(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function gd(t){if(Rl){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Rl=!1}ra=0,Sr=$t=Tt=null,xo=!1,Ps=Dl=0,Ao=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Tt.memoizedState=Sr=t:Sr=Sr.next=t,Sr}function Er(){if($t===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var a=Sr===null?Tt.memoizedState:Sr.next;if(a!==null)Sr=a,$t=t;else{if(t===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Sr===null?Tt.memoizedState=Sr=t:Sr=Sr.next=t}return Sr}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Us(t){var a=Ps;return Ps+=1,Ao===null&&(Ao=[]),t=rb(Ao,t,a),a=Tt,(Sr===null?a.memoizedState:Sr.next)===null&&(a=a.alternate,ge.H=a===null||a.memoizedState===null?zb:Vb),t}function Cl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Us(t);if(t.$$typeof===C)return $r(t)}throw Error(i(438,String(t)))}function yd(t){var a=null,s=Tt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var f=Tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=vd(),Tt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),f=0;f<t;f++)s[f]=B;return a.index++,s}function Di(t,a){return typeof a=="function"?a(t):a}function Fl(t){var a=Er();return md(a,$t,t)}function md(t,a,s){var f=t.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=s;var b=t.baseQueue,E=f.pending;if(E!==null){if(b!==null){var K=b.next;b.next=E.next,E.next=K}a.baseQueue=b=E,f.pending=null}if(E=t.baseState,b===null)t.memoizedState=E;else{a=b.next;var J=K=null,ye=null,Ie=a,Ye=!1;do{var Ze=Ie.lane&-536870913;if(Ze!==Ie.lane?(kt&Ze)===Ze:(ra&Ze)===Ze){var je=Ie.revertLane;if(je===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Ze===wo&&(Ye=!0);else if((ra&je)===je){Ie=Ie.next,je===wo&&(Ye=!0);continue}else Ze={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ye===null?(J=ye=Ze,K=E):ye=ye.next=Ze,Tt.lanes|=je,la|=je;Ze=Ie.action,ja&&s(E,Ze),E=Ie.hasEagerState?Ie.eagerState:s(E,Ze)}else je={lane:Ze,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ye===null?(J=ye=je,K=E):ye=ye.next=je,Tt.lanes|=Ze,la|=Ze;Ie=Ie.next}while(Ie!==null&&Ie!==a);if(ye===null?K=E:ye.next=J,!gn(E,t.memoizedState)&&(Or=!0,Ye&&(s=So,s!==null)))throw s;t.memoizedState=E,t.baseState=K,t.baseQueue=ye,f.lastRenderedState=E}return b===null&&(f.lanes=0),[t.memoizedState,f.dispatch]}function bd(t){var a=Er(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var f=s.dispatch,b=s.pending,E=a.memoizedState;if(b!==null){s.pending=null;var K=b=b.next;do E=t(E,K.action),K=K.next;while(K!==b);gn(E,a.memoizedState)||(Or=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),s.lastRenderedState=E}return[E,f]}function cb(t,a,s){var f=Tt,b=Er(),E=qt;if(E){if(s===void 0)throw Error(i(407));s=s()}else s=a();var K=!gn(($t||b).memoizedState,s);K&&(b.memoizedState=s,Or=!0),b=b.queue;var J=hb.bind(null,f,b,t);if(Ls(2048,8,J,[t]),b.getSnapshot!==a||K||Sr!==null&&Sr.memoizedState.tag&1){if(f.flags|=2048,To(9,Ol(),db.bind(null,f,b,s,a),null),er===null)throw Error(i(349));E||(ra&124)!==0||fb(f,a,s)}return s}function fb(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Tt.updateQueue,a===null?(a=vd(),Tt.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function db(t,a,s,f){a.value=s,a.getSnapshot=f,pb(a)&&gb(t)}function hb(t,a,s){return s(function(){pb(a)&&gb(t)})}function pb(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!gn(t,s)}catch{return!0}}function gb(t){var a=yo(t,2);a!==null&&wn(a,t,2)}function _d(t){var a=rn();if(typeof t=="function"){var s=t;if(t=s(),ja){M(!0);try{s()}finally{M(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},a}function vb(t,a,s,f){return t.baseState=s,md(t,$t,typeof f=="function"?f:Di)}function XD(t,a,s,f,b){if(Ml(t))throw Error(i(485));if(t=a.action,t!==null){var E={payload:b,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){E.listeners.push(K)}};ge.T!==null?s(!0):E.isTransition=!1,f(E),s=a.pending,s===null?(E.next=a.pending=E,yb(a,E)):(E.next=s.next,a.pending=s.next=E)}}function yb(t,a){var s=a.action,f=a.payload,b=t.state;if(a.isTransition){var E=ge.T,K={};ge.T=K;try{var J=s(b,f),ye=ge.S;ye!==null&&ye(K,J),mb(t,a,J)}catch(Ie){wd(t,a,Ie)}finally{ge.T=E}}else try{E=s(b,f),mb(t,a,E)}catch(Ie){wd(t,a,Ie)}}function mb(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(f){bb(t,a,f)},function(f){return wd(t,a,f)}):bb(t,a,s)}function bb(t,a,s){a.status="fulfilled",a.value=s,_b(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,yb(t,s)))}function wd(t,a,s){var f=t.pending;if(t.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=s,_b(a),a=a.next;while(a!==f)}t.action=null}function _b(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function wb(t,a){return a}function Sb(t,a){if(qt){var s=er.formState;if(s!==null){e:{var f=Tt;if(qt){if(dr){t:{for(var b=dr,E=ri;b.nodeType!==8;){if(!E){b=null;break t}if(b=Gn(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){dr=Gn(b.nextSibling),f=b.data==="F!";break e}}Pa(f)}f=!1}f&&(a=s[0])}}return s=rn(),s.memoizedState=s.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wb,lastRenderedState:a},s.queue=f,s=qb.bind(null,Tt,f),f.dispatch=s,f=_d(!1),E=Td.bind(null,Tt,!1,f.queue),f=rn(),b={state:a,dispatch:null,action:t,pending:null},f.queue=b,s=XD.bind(null,Tt,b,E,s),b.dispatch=s,f.memoizedState=t,[a,s,!1]}function Eb(t){var a=Er();return xb(a,$t,t)}function xb(t,a,s){if(a=md(t,a,wb)[0],t=Fl(Di)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Us(a)}catch(K){throw K===Os?xl:K}else f=a;a=Er();var b=a.queue,E=b.dispatch;return s!==a.memoizedState&&(Tt.flags|=2048,To(9,Ol(),QD.bind(null,b,s),null)),[f,E,t]}function QD(t,a){t.action=a}function Ab(t){var a=Er(),s=$t;if(s!==null)return xb(a,s,t);Er(),a=a.memoizedState,s=Er();var f=s.queue.dispatch;return s.memoizedState=t,[a,f,!1]}function To(t,a,s,f){return t={tag:t,create:s,deps:f,inst:a,next:null},a=Tt.updateQueue,a===null&&(a=vd(),Tt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(f=s.next,s.next=t,t.next=f,a.lastEffect=t),t}function Ol(){return{destroy:void 0,resource:void 0}}function Tb(){return Er().memoizedState}function Nl(t,a,s,f){var b=rn();f=f===void 0?null:f,Tt.flags|=t,b.memoizedState=To(1|a,Ol(),s,f)}function Ls(t,a,s,f){var b=Er();f=f===void 0?null:f;var E=b.memoizedState.inst;$t!==null&&f!==null&&fd(f,$t.memoizedState.deps)?b.memoizedState=To(a,E,s,f):(Tt.flags|=t,b.memoizedState=To(1|a,E,s,f))}function Rb(t,a){Nl(8390656,8,t,a)}function Db(t,a){Ls(2048,8,t,a)}function Cb(t,a){return Ls(4,2,t,a)}function Fb(t,a){return Ls(4,4,t,a)}function Ob(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Nb(t,a,s){s=s!=null?s.concat([t]):null,Ls(4,4,Ob.bind(null,a,t),s)}function Sd(){}function Mb(t,a){var s=Er();a=a===void 0?null:a;var f=s.memoizedState;return a!==null&&fd(a,f[1])?f[0]:(s.memoizedState=[t,a],t)}function Ib(t,a){var s=Er();a=a===void 0?null:a;var f=s.memoizedState;if(a!==null&&fd(a,f[1]))return f[0];if(f=t(),ja){M(!0);try{t()}finally{M(!1)}}return s.memoizedState=[f,a],f}function Ed(t,a,s){return s===void 0||(ra&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=U_(),Tt.lanes|=t,la|=t,s)}function kb(t,a,s,f){return gn(s,a)?s:Eo.current!==null?(t=Ed(t,s,f),gn(t,a)||(Or=!0),t):(ra&42)===0?(Or=!0,t.memoizedState=s):(t=U_(),Tt.lanes|=t,la|=t,a)}function Pb(t,a,s,f,b){var E=Oe.p;Oe.p=E!==0&&8>E?E:8;var K=ge.T,J={};ge.T=J,Td(t,!1,a,s);try{var ye=b(),Ie=ge.S;if(Ie!==null&&Ie(J,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ye=GD(ye,f);Bs(t,a,Ye,_n(t))}else Bs(t,a,f,_n(t))}catch(Ze){Bs(t,a,{then:function(){},status:"rejected",reason:Ze},_n())}finally{Oe.p=E,ge.T=K}}function ZD(){}function xd(t,a,s,f){if(t.tag!==5)throw Error(i(476));var b=Ub(t).queue;Pb(t,b,a,we,s===null?ZD:function(){return Lb(t),s(f)})}function Ub(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:we},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Lb(t){var a=Ub(t).next.queue;Bs(t,a,{},_n())}function Ad(){return $r(nu)}function Bb(){return Er().memoizedState}function jb(){return Er().memoizedState}function eC(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=_n();t=ea(s);var f=ta(a,t,s);f!==null&&(wn(f,a,s),Ms(f,a,s)),a={cache:td()},t.payload=a;return}a=a.return}}function tC(t,a,s){var f=_n();s={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ml(t)?Hb(a,s):(s=Vf(t,a,s,f),s!==null&&(wn(s,t,f),Kb(s,a,f)))}function qb(t,a,s){var f=_n();Bs(t,a,s,f)}function Bs(t,a,s,f){var b={lane:f,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ml(t))Hb(a,b);else{var E=t.alternate;if(t.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var K=a.lastRenderedState,J=E(K,s);if(b.hasEagerState=!0,b.eagerState=J,gn(J,K))return vl(t,a,b,0),er===null&&gl(),!1}catch{}finally{}if(s=Vf(t,a,b,f),s!==null)return wn(s,t,f),Kb(s,a,f),!0}return!1}function Td(t,a,s,f){if(f={lane:2,revertLane:ih(),action:f,hasEagerState:!1,eagerState:null,next:null},Ml(t)){if(a)throw Error(i(479))}else a=Vf(t,s,f,2),a!==null&&wn(a,t,2)}function Ml(t){var a=t.alternate;return t===Tt||a!==null&&a===Tt}function Hb(t,a){xo=Rl=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Kb(t,a,s){if((s&4194048)!==0){var f=a.lanes;f&=t.pendingLanes,s|=f,a.lanes=s,Pr(t,s)}}var Il={readContext:$r,use:Cl,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br},zb={readContext:$r,use:Cl,useCallback:function(t,a){return rn().memoizedState=[t,a===void 0?null:a],t},useContext:$r,useEffect:Rb,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Nl(4194308,4,Ob.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Nl(4194308,4,t,a)},useInsertionEffect:function(t,a){Nl(4,2,t,a)},useMemo:function(t,a){var s=rn();a=a===void 0?null:a;var f=t();if(ja){M(!0);try{t()}finally{M(!1)}}return s.memoizedState=[f,a],f},useReducer:function(t,a,s){var f=rn();if(s!==void 0){var b=s(a);if(ja){M(!0);try{s(a)}finally{M(!1)}}}else b=a;return f.memoizedState=f.baseState=b,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:b},f.queue=t,t=t.dispatch=tC.bind(null,Tt,t),[f.memoizedState,t]},useRef:function(t){var a=rn();return t={current:t},a.memoizedState=t},useState:function(t){t=_d(t);var a=t.queue,s=qb.bind(null,Tt,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Sd,useDeferredValue:function(t,a){var s=rn();return Ed(s,t,a)},useTransition:function(){var t=_d(!1);return t=Pb.bind(null,Tt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var f=Tt,b=rn();if(qt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),er===null)throw Error(i(349));(kt&124)!==0||fb(f,a,s)}b.memoizedState=s;var E={value:s,getSnapshot:a};return b.queue=E,Rb(hb.bind(null,f,E,t),[t]),f.flags|=2048,To(9,Ol(),db.bind(null,f,E,s,a),null),s},useId:function(){var t=rn(),a=er.identifierPrefix;if(qt){var s=Ai,f=xi;s=(f&~(1<<32-P(f)-1)).toString(32)+s,a="«"+a+"R"+s,s=Dl++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=YD++,a="«"+a+"r"+s.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:Ad,useFormState:Sb,useActionState:Sb,useOptimistic:function(t){var a=rn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Td.bind(null,Tt,!0,s),s.dispatch=a,[t,a]},useMemoCache:yd,useCacheRefresh:function(){return rn().memoizedState=eC.bind(null,Tt)}},Vb={readContext:$r,use:Cl,useCallback:Mb,useContext:$r,useEffect:Db,useImperativeHandle:Nb,useInsertionEffect:Cb,useLayoutEffect:Fb,useMemo:Ib,useReducer:Fl,useRef:Tb,useState:function(){return Fl(Di)},useDebugValue:Sd,useDeferredValue:function(t,a){var s=Er();return kb(s,$t.memoizedState,t,a)},useTransition:function(){var t=Fl(Di)[0],a=Er().memoizedState;return[typeof t=="boolean"?t:Us(t),a]},useSyncExternalStore:cb,useId:Bb,useHostTransitionStatus:Ad,useFormState:Eb,useActionState:Eb,useOptimistic:function(t,a){var s=Er();return vb(s,$t,t,a)},useMemoCache:yd,useCacheRefresh:jb},rC={readContext:$r,use:Cl,useCallback:Mb,useContext:$r,useEffect:Db,useImperativeHandle:Nb,useInsertionEffect:Cb,useLayoutEffect:Fb,useMemo:Ib,useReducer:bd,useRef:Tb,useState:function(){return bd(Di)},useDebugValue:Sd,useDeferredValue:function(t,a){var s=Er();return $t===null?Ed(s,t,a):kb(s,$t.memoizedState,t,a)},useTransition:function(){var t=bd(Di)[0],a=Er().memoizedState;return[typeof t=="boolean"?t:Us(t),a]},useSyncExternalStore:cb,useId:Bb,useHostTransitionStatus:Ad,useFormState:Ab,useActionState:Ab,useOptimistic:function(t,a){var s=Er();return $t!==null?vb(s,$t,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:yd,useCacheRefresh:jb},Ro=null,js=0;function kl(t){var a=js;return js+=1,Ro===null&&(Ro=[]),rb(Ro,t,a)}function qs(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Pl(t,a){throw a.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function $b(t){var a=t._init;return a(t._payload)}function Wb(t){function a(Te,xe){if(t){var Me=Te.deletions;Me===null?(Te.deletions=[xe],Te.flags|=16):Me.push(xe)}}function s(Te,xe){if(!t)return null;for(;xe!==null;)a(Te,xe),xe=xe.sibling;return null}function f(Te){for(var xe=new Map;Te!==null;)Te.key!==null?xe.set(Te.key,Te):xe.set(Te.index,Te),Te=Te.sibling;return xe}function b(Te,xe){return Te=Ei(Te,xe),Te.index=0,Te.sibling=null,Te}function E(Te,xe,Me){return Te.index=Me,t?(Me=Te.alternate,Me!==null?(Me=Me.index,Me<xe?(Te.flags|=67108866,xe):Me):(Te.flags|=67108866,xe)):(Te.flags|=1048576,xe)}function K(Te){return t&&Te.alternate===null&&(Te.flags|=67108866),Te}function J(Te,xe,Me,Je){return xe===null||xe.tag!==6?(xe=Wf(Me,Te.mode,Je),xe.return=Te,xe):(xe=b(xe,Me),xe.return=Te,xe)}function ye(Te,xe,Me,Je){var ft=Me.type;return ft===x?Ye(Te,xe,Me.props.children,Je,Me.key):xe!==null&&(xe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===X&&$b(ft)===xe.type)?(xe=b(xe,Me.props),qs(xe,Me),xe.return=Te,xe):(xe=ml(Me.type,Me.key,Me.props,null,Te.mode,Je),qs(xe,Me),xe.return=Te,xe)}function Ie(Te,xe,Me,Je){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Me.containerInfo||xe.stateNode.implementation!==Me.implementation?(xe=Gf(Me,Te.mode,Je),xe.return=Te,xe):(xe=b(xe,Me.children||[]),xe.return=Te,xe)}function Ye(Te,xe,Me,Je,ft){return xe===null||xe.tag!==7?(xe=Na(Me,Te.mode,Je,ft),xe.return=Te,xe):(xe=b(xe,Me),xe.return=Te,xe)}function Ze(Te,xe,Me){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Wf(""+xe,Te.mode,Me),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case _:return Me=ml(xe.type,xe.key,xe.props,null,Te.mode,Me),qs(Me,xe),Me.return=Te,Me;case A:return xe=Gf(xe,Te.mode,Me),xe.return=Te,xe;case X:var Je=xe._init;return xe=Je(xe._payload),Ze(Te,xe,Me)}if(Ve(xe)||me(xe))return xe=Na(xe,Te.mode,Me,null),xe.return=Te,xe;if(typeof xe.then=="function")return Ze(Te,kl(xe),Me);if(xe.$$typeof===C)return Ze(Te,Sl(Te,xe),Me);Pl(Te,xe)}return null}function je(Te,xe,Me,Je){var ft=xe!==null?xe.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ft!==null?null:J(Te,xe,""+Me,Je);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:return Me.key===ft?ye(Te,xe,Me,Je):null;case A:return Me.key===ft?Ie(Te,xe,Me,Je):null;case X:return ft=Me._init,Me=ft(Me._payload),je(Te,xe,Me,Je)}if(Ve(Me)||me(Me))return ft!==null?null:Ye(Te,xe,Me,Je,null);if(typeof Me.then=="function")return je(Te,xe,kl(Me),Je);if(Me.$$typeof===C)return je(Te,xe,Sl(Te,Me),Je);Pl(Te,Me)}return null}function Ke(Te,xe,Me,Je,ft){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Te=Te.get(Me)||null,J(xe,Te,""+Je,ft);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case _:return Te=Te.get(Je.key===null?Me:Je.key)||null,ye(xe,Te,Je,ft);case A:return Te=Te.get(Je.key===null?Me:Je.key)||null,Ie(xe,Te,Je,ft);case X:var Rt=Je._init;return Je=Rt(Je._payload),Ke(Te,xe,Me,Je,ft)}if(Ve(Je)||me(Je))return Te=Te.get(Me)||null,Ye(xe,Te,Je,ft,null);if(typeof Je.then=="function")return Ke(Te,xe,Me,kl(Je),ft);if(Je.$$typeof===C)return Ke(Te,xe,Me,Sl(xe,Je),ft);Pl(xe,Je)}return null}function _t(Te,xe,Me,Je){for(var ft=null,Rt=null,pt=xe,bt=xe=0,Mr=null;pt!==null&&bt<Me.length;bt++){pt.index>bt?(Mr=pt,pt=null):Mr=pt.sibling;var Lt=je(Te,pt,Me[bt],Je);if(Lt===null){pt===null&&(pt=Mr);break}t&&pt&&Lt.alternate===null&&a(Te,pt),xe=E(Lt,xe,bt),Rt===null?ft=Lt:Rt.sibling=Lt,Rt=Lt,pt=Mr}if(bt===Me.length)return s(Te,pt),qt&&Ia(Te,bt),ft;if(pt===null){for(;bt<Me.length;bt++)pt=Ze(Te,Me[bt],Je),pt!==null&&(xe=E(pt,xe,bt),Rt===null?ft=pt:Rt.sibling=pt,Rt=pt);return qt&&Ia(Te,bt),ft}for(pt=f(pt);bt<Me.length;bt++)Mr=Ke(pt,Te,bt,Me[bt],Je),Mr!==null&&(t&&Mr.alternate!==null&&pt.delete(Mr.key===null?bt:Mr.key),xe=E(Mr,xe,bt),Rt===null?ft=Mr:Rt.sibling=Mr,Rt=Mr);return t&&pt.forEach(function(ma){return a(Te,ma)}),qt&&Ia(Te,bt),ft}function yt(Te,xe,Me,Je){if(Me==null)throw Error(i(151));for(var ft=null,Rt=null,pt=xe,bt=xe=0,Mr=null,Lt=Me.next();pt!==null&&!Lt.done;bt++,Lt=Me.next()){pt.index>bt?(Mr=pt,pt=null):Mr=pt.sibling;var ma=je(Te,pt,Lt.value,Je);if(ma===null){pt===null&&(pt=Mr);break}t&&pt&&ma.alternate===null&&a(Te,pt),xe=E(ma,xe,bt),Rt===null?ft=ma:Rt.sibling=ma,Rt=ma,pt=Mr}if(Lt.done)return s(Te,pt),qt&&Ia(Te,bt),ft;if(pt===null){for(;!Lt.done;bt++,Lt=Me.next())Lt=Ze(Te,Lt.value,Je),Lt!==null&&(xe=E(Lt,xe,bt),Rt===null?ft=Lt:Rt.sibling=Lt,Rt=Lt);return qt&&Ia(Te,bt),ft}for(pt=f(pt);!Lt.done;bt++,Lt=Me.next())Lt=Ke(pt,Te,bt,Lt.value,Je),Lt!==null&&(t&&Lt.alternate!==null&&pt.delete(Lt.key===null?bt:Lt.key),xe=E(Lt,xe,bt),Rt===null?ft=Lt:Rt.sibling=Lt,Rt=Lt);return t&&pt.forEach(function(nF){return a(Te,nF)}),qt&&Ia(Te,bt),ft}function Gt(Te,xe,Me,Je){if(typeof Me=="object"&&Me!==null&&Me.type===x&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case _:e:{for(var ft=Me.key;xe!==null;){if(xe.key===ft){if(ft=Me.type,ft===x){if(xe.tag===7){s(Te,xe.sibling),Je=b(xe,Me.props.children),Je.return=Te,Te=Je;break e}}else if(xe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===X&&$b(ft)===xe.type){s(Te,xe.sibling),Je=b(xe,Me.props),qs(Je,Me),Je.return=Te,Te=Je;break e}s(Te,xe);break}else a(Te,xe);xe=xe.sibling}Me.type===x?(Je=Na(Me.props.children,Te.mode,Je,Me.key),Je.return=Te,Te=Je):(Je=ml(Me.type,Me.key,Me.props,null,Te.mode,Je),qs(Je,Me),Je.return=Te,Te=Je)}return K(Te);case A:e:{for(ft=Me.key;xe!==null;){if(xe.key===ft)if(xe.tag===4&&xe.stateNode.containerInfo===Me.containerInfo&&xe.stateNode.implementation===Me.implementation){s(Te,xe.sibling),Je=b(xe,Me.children||[]),Je.return=Te,Te=Je;break e}else{s(Te,xe);break}else a(Te,xe);xe=xe.sibling}Je=Gf(Me,Te.mode,Je),Je.return=Te,Te=Je}return K(Te);case X:return ft=Me._init,Me=ft(Me._payload),Gt(Te,xe,Me,Je)}if(Ve(Me))return _t(Te,xe,Me,Je);if(me(Me)){if(ft=me(Me),typeof ft!="function")throw Error(i(150));return Me=ft.call(Me),yt(Te,xe,Me,Je)}if(typeof Me.then=="function")return Gt(Te,xe,kl(Me),Je);if(Me.$$typeof===C)return Gt(Te,xe,Sl(Te,Me),Je);Pl(Te,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,xe!==null&&xe.tag===6?(s(Te,xe.sibling),Je=b(xe,Me),Je.return=Te,Te=Je):(s(Te,xe),Je=Wf(Me,Te.mode,Je),Je.return=Te,Te=Je),K(Te)):s(Te,xe)}return function(Te,xe,Me,Je){try{js=0;var ft=Gt(Te,xe,Me,Je);return Ro=null,ft}catch(pt){if(pt===Os||pt===xl)throw pt;var Rt=vn(29,pt,null,Te.mode);return Rt.lanes=Je,Rt.return=Te,Rt}finally{}}}var Do=Wb(!0),Gb=Wb(!1),Cn=le(null),ni=null;function na(t){var a=t.alternate;be(Tr,Tr.current&1),be(Cn,t),ni===null&&(a===null||Eo.current!==null||a.memoizedState!==null)&&(ni=t)}function Yb(t){if(t.tag===22){if(be(Tr,Tr.current),be(Cn,t),ni===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(ni=t)}}else ia()}function ia(){be(Tr,Tr.current),be(Cn,Cn.current)}function Ci(t){Ae(Cn),ni===t&&(ni=null),Ae(Tr)}var Tr=le(0);function Ul(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||vh(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Rd(t,a,s,f){a=t.memoizedState,s=s(f,a),s=s==null?a:v({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Dd={enqueueSetState:function(t,a,s){t=t._reactInternals;var f=_n(),b=ea(f);b.payload=a,s!=null&&(b.callback=s),a=ta(t,b,f),a!==null&&(wn(a,t,f),Ms(a,t,f))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var f=_n(),b=ea(f);b.tag=1,b.payload=a,s!=null&&(b.callback=s),a=ta(t,b,f),a!==null&&(wn(a,t,f),Ms(a,t,f))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=_n(),f=ea(s);f.tag=2,a!=null&&(f.callback=a),a=ta(t,f,s),a!==null&&(wn(a,t,s),Ms(a,t,s))}};function Jb(t,a,s,f,b,E,K){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(f,E,K):a.prototype&&a.prototype.isPureReactComponent?!Es(s,f)||!Es(b,E):!0}function Xb(t,a,s,f){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,f),a.state!==t&&Dd.enqueueReplaceState(a,a.state,null)}function qa(t,a){var s=a;if("ref"in a){s={};for(var f in a)f!=="ref"&&(s[f]=a[f])}if(t=t.defaultProps){s===a&&(s=v({},s));for(var b in t)s[b]===void 0&&(s[b]=t[b])}return s}var Ll=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qb(t){Ll(t)}function Zb(t){console.error(t)}function e_(t){Ll(t)}function Bl(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function t_(t,a,s){try{var f=t.onCaughtError;f(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Cd(t,a,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){Bl(t,a)},s}function r_(t){return t=ea(t),t.tag=3,t}function n_(t,a,s,f){var b=s.type.getDerivedStateFromError;if(typeof b=="function"){var E=f.value;t.payload=function(){return b(E)},t.callback=function(){t_(a,s,f)}}var K=s.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(t.callback=function(){t_(a,s,f),typeof b!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var J=f.stack;this.componentDidCatch(f.value,{componentStack:J!==null?J:""})})}function nC(t,a,s,f,b){if(s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=s.alternate,a!==null&&Ds(a,s,b,!0),s=Cn.current,s!==null){switch(s.tag){case 13:return ni===null?Zd():s.alternate===null&&hr===0&&(hr=3),s.flags&=-257,s.flags|=65536,s.lanes=b,f===id?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([f]):a.add(f),th(t,f,b)),!1;case 22:return s.flags|=65536,f===id?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([f]):s.add(f)),th(t,f,b)),!1}throw Error(i(435,s.tag))}return th(t,f,b),Zd(),!1}if(qt)return a=Cn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,f!==Xf&&(t=Error(i(422),{cause:f}),Rs(An(t,s)))):(f!==Xf&&(a=Error(i(423),{cause:f}),Rs(An(a,s))),t=t.current.alternate,t.flags|=65536,b&=-b,t.lanes|=b,f=An(f,s),b=Cd(t.stateNode,f,b),sd(t,b),hr!==4&&(hr=2)),!1;var E=Error(i(520),{cause:f});if(E=An(E,s),Gs===null?Gs=[E]:Gs.push(E),hr!==4&&(hr=2),a===null)return!0;f=An(f,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=b&-b,s.lanes|=t,t=Cd(s.stateNode,f,t),sd(s,t),!1;case 1:if(a=s.type,E=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ca===null||!ca.has(E))))return s.flags|=65536,b&=-b,s.lanes|=b,b=r_(b),n_(b,t,s,f),sd(s,b),!1}s=s.return}while(s!==null);return!1}var i_=Error(i(461)),Or=!1;function Ur(t,a,s,f){a.child=t===null?Gb(a,null,s,f):Do(a,t.child,s,f)}function a_(t,a,s,f,b){s=s.render;var E=a.ref;if("ref"in f){var K={};for(var J in f)J!=="ref"&&(K[J]=f[J])}else K=f;return La(a),f=dd(t,a,s,K,E,b),J=hd(),t!==null&&!Or?(pd(t,a,b),Fi(t,a,b)):(qt&&J&&Yf(a),a.flags|=1,Ur(t,a,f,b),a.child)}function o_(t,a,s,f,b){if(t===null){var E=s.type;return typeof E=="function"&&!$f(E)&&E.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=E,s_(t,a,E,f,b)):(t=ml(s.type,null,f,a,a.mode,b),t.ref=a.ref,t.return=a,a.child=t)}if(E=t.child,!Ud(t,b)){var K=E.memoizedProps;if(s=s.compare,s=s!==null?s:Es,s(K,f)&&t.ref===a.ref)return Fi(t,a,b)}return a.flags|=1,t=Ei(E,f),t.ref=a.ref,t.return=a,a.child=t}function s_(t,a,s,f,b){if(t!==null){var E=t.memoizedProps;if(Es(E,f)&&t.ref===a.ref)if(Or=!1,a.pendingProps=f=E,Ud(t,b))(t.flags&131072)!==0&&(Or=!0);else return a.lanes=t.lanes,Fi(t,a,b)}return Fd(t,a,s,f,b)}function u_(t,a,s){var f=a.pendingProps,b=f.children,E=t!==null?t.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=E!==null?E.baseLanes|s:s,t!==null){for(b=a.child=t.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;a.childLanes=E&~f}else a.childLanes=0,a.child=null;return l_(t,a,f,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&El(a,E!==null?E.cachePool:null),E!==null?sb(a,E):ld(),Yb(a);else return a.lanes=a.childLanes=536870912,l_(t,a,E!==null?E.baseLanes|s:s,s)}else E!==null?(El(a,E.cachePool),sb(a,E),ia(),a.memoizedState=null):(t!==null&&El(a,null),ld(),ia());return Ur(t,a,b,s),a.child}function l_(t,a,s,f){var b=nd();return b=b===null?null:{parent:Ar._currentValue,pool:b},a.memoizedState={baseLanes:s,cachePool:b},t!==null&&El(a,null),ld(),Yb(a),t!==null&&Ds(t,a,f,!0),null}function jl(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Fd(t,a,s,f,b){return La(a),s=dd(t,a,s,f,void 0,b),f=hd(),t!==null&&!Or?(pd(t,a,b),Fi(t,a,b)):(qt&&f&&Yf(a),a.flags|=1,Ur(t,a,s,b),a.child)}function c_(t,a,s,f,b,E){return La(a),a.updateQueue=null,s=lb(a,f,s,b),ub(t),f=hd(),t!==null&&!Or?(pd(t,a,E),Fi(t,a,E)):(qt&&f&&Yf(a),a.flags|=1,Ur(t,a,s,E),a.child)}function f_(t,a,s,f,b){if(La(a),a.stateNode===null){var E=mo,K=s.contextType;typeof K=="object"&&K!==null&&(E=$r(K)),E=new s(f,E),a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Dd,a.stateNode=E,E._reactInternals=a,E=a.stateNode,E.props=f,E.state=a.memoizedState,E.refs={},ad(a),K=s.contextType,E.context=typeof K=="object"&&K!==null?$r(K):mo,E.state=a.memoizedState,K=s.getDerivedStateFromProps,typeof K=="function"&&(Rd(a,s,K,f),E.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(K=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),K!==E.state&&Dd.enqueueReplaceState(E,E.state,null),ks(a,f,E,b),Is(),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(t===null){E=a.stateNode;var J=a.memoizedProps,ye=qa(s,J);E.props=ye;var Ie=E.context,Ye=s.contextType;K=mo,typeof Ye=="object"&&Ye!==null&&(K=$r(Ye));var Ze=s.getDerivedStateFromProps;Ye=typeof Ze=="function"||typeof E.getSnapshotBeforeUpdate=="function",J=a.pendingProps!==J,Ye||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(J||Ie!==K)&&Xb(a,E,f,K),Zi=!1;var je=a.memoizedState;E.state=je,ks(a,f,E,b),Is(),Ie=a.memoizedState,J||je!==Ie||Zi?(typeof Ze=="function"&&(Rd(a,s,Ze,f),Ie=a.memoizedState),(ye=Zi||Jb(a,s,ye,f,je,Ie,K))?(Ye||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Ie),E.props=f,E.state=Ie,E.context=K,f=ye):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{E=a.stateNode,od(t,a),K=a.memoizedProps,Ye=qa(s,K),E.props=Ye,Ze=a.pendingProps,je=E.context,Ie=s.contextType,ye=mo,typeof Ie=="object"&&Ie!==null&&(ye=$r(Ie)),J=s.getDerivedStateFromProps,(Ie=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(K!==Ze||je!==ye)&&Xb(a,E,f,ye),Zi=!1,je=a.memoizedState,E.state=je,ks(a,f,E,b),Is();var Ke=a.memoizedState;K!==Ze||je!==Ke||Zi||t!==null&&t.dependencies!==null&&wl(t.dependencies)?(typeof J=="function"&&(Rd(a,s,J,f),Ke=a.memoizedState),(Ye=Zi||Jb(a,s,Ye,f,je,Ke,ye)||t!==null&&t.dependencies!==null&&wl(t.dependencies))?(Ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,Ke,ye),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,Ke,ye)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||K===t.memoizedProps&&je===t.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||K===t.memoizedProps&&je===t.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ke),E.props=f,E.state=Ke,E.context=ye,f=Ye):(typeof E.componentDidUpdate!="function"||K===t.memoizedProps&&je===t.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||K===t.memoizedProps&&je===t.memoizedState||(a.flags|=1024),f=!1)}return E=f,jl(t,a),f=(a.flags&128)!==0,E||f?(E=a.stateNode,s=f&&typeof s.getDerivedStateFromError!="function"?null:E.render(),a.flags|=1,t!==null&&f?(a.child=Do(a,t.child,null,b),a.child=Do(a,null,s,b)):Ur(t,a,s,b),a.memoizedState=E.state,t=a.child):t=Fi(t,a,b),t}function d_(t,a,s,f){return Ts(),a.flags|=256,Ur(t,a,s,f),a.child}var Od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:Z0()}}function Md(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Fn),t}function h_(t,a,s){var f=a.pendingProps,b=!1,E=(a.flags&128)!==0,K;if((K=E)||(K=t!==null&&t.memoizedState===null?!1:(Tr.current&2)!==0),K&&(b=!0,a.flags&=-129),K=(a.flags&32)!==0,a.flags&=-33,t===null){if(qt){if(b?na(a):ia(),qt){var J=dr,ye;if(ye=J){e:{for(ye=J,J=ri;ye.nodeType!==8;){if(!J){J=null;break e}if(ye=Gn(ye.nextSibling),ye===null){J=null;break e}}J=ye}J!==null?(a.memoizedState={dehydrated:J,treeContext:Ma!==null?{id:xi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},ye=vn(18,null,null,0),ye.stateNode=J,ye.return=a,a.child=ye,Qr=a,dr=null,ye=!0):ye=!1}ye||Pa(a)}if(J=a.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return vh(J)?a.lanes=32:a.lanes=536870912,null;Ci(a)}return J=f.children,f=f.fallback,b?(ia(),b=a.mode,J=ql({mode:"hidden",children:J},b),f=Na(f,b,s,null),J.return=a,f.return=a,J.sibling=f,a.child=J,b=a.child,b.memoizedState=Nd(s),b.childLanes=Md(t,K,s),a.memoizedState=Od,f):(na(a),Id(a,J))}if(ye=t.memoizedState,ye!==null&&(J=ye.dehydrated,J!==null)){if(E)a.flags&256?(na(a),a.flags&=-257,a=kd(t,a,s)):a.memoizedState!==null?(ia(),a.child=t.child,a.flags|=128,a=null):(ia(),b=f.fallback,J=a.mode,f=ql({mode:"visible",children:f.children},J),b=Na(b,J,s,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,Do(a,t.child,null,s),f=a.child,f.memoizedState=Nd(s),f.childLanes=Md(t,K,s),a.memoizedState=Od,a=b);else if(na(a),vh(J)){if(K=J.nextSibling&&J.nextSibling.dataset,K)var Ie=K.dgst;K=Ie,f=Error(i(419)),f.stack="",f.digest=K,Rs({value:f,source:null,stack:null}),a=kd(t,a,s)}else if(Or||Ds(t,a,s,!1),K=(s&t.childLanes)!==0,Or||K){if(K=er,K!==null&&(f=s&-s,f=(f&42)!==0?1:yi(f),f=(f&(K.suspendedLanes|s))!==0?0:f,f!==0&&f!==ye.retryLane))throw ye.retryLane=f,yo(t,f),wn(K,t,f),i_;J.data==="$?"||Zd(),a=kd(t,a,s)}else J.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=ye.treeContext,dr=Gn(J.nextSibling),Qr=a,qt=!0,ka=null,ri=!1,t!==null&&(Rn[Dn++]=xi,Rn[Dn++]=Ai,Rn[Dn++]=Ma,xi=t.id,Ai=t.overflow,Ma=a),a=Id(a,f.children),a.flags|=4096);return a}return b?(ia(),b=f.fallback,J=a.mode,ye=t.child,Ie=ye.sibling,f=Ei(ye,{mode:"hidden",children:f.children}),f.subtreeFlags=ye.subtreeFlags&65011712,Ie!==null?b=Ei(Ie,b):(b=Na(b,J,s,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,f=b,b=a.child,J=t.child.memoizedState,J===null?J=Nd(s):(ye=J.cachePool,ye!==null?(Ie=Ar._currentValue,ye=ye.parent!==Ie?{parent:Ie,pool:Ie}:ye):ye=Z0(),J={baseLanes:J.baseLanes|s,cachePool:ye}),b.memoizedState=J,b.childLanes=Md(t,K,s),a.memoizedState=Od,f):(na(a),s=t.child,t=s.sibling,s=Ei(s,{mode:"visible",children:f.children}),s.return=a,s.sibling=null,t!==null&&(K=a.deletions,K===null?(a.deletions=[t],a.flags|=16):K.push(t)),a.child=s,a.memoizedState=null,s)}function Id(t,a){return a=ql({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function ql(t,a){return t=vn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function kd(t,a,s){return Do(a,t.child,null,s),t=Id(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function p_(t,a,s){t.lanes|=a;var f=t.alternate;f!==null&&(f.lanes|=a),Zf(t.return,a,s)}function Pd(t,a,s,f,b){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=s,E.tailMode=b)}function g_(t,a,s){var f=a.pendingProps,b=f.revealOrder,E=f.tail;if(Ur(t,a,f.children,s),f=Tr.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,s,a);else if(t.tag===19)p_(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}f&=1}switch(be(Tr,f),b){case"forwards":for(s=a.child,b=null;s!==null;)t=s.alternate,t!==null&&Ul(t)===null&&(b=s),s=s.sibling;s=b,s===null?(b=a.child,a.child=null):(b=s.sibling,s.sibling=null),Pd(a,!1,b,s,E);break;case"backwards":for(s=null,b=a.child,a.child=null;b!==null;){if(t=b.alternate,t!==null&&Ul(t)===null){a.child=b;break}t=b.sibling,b.sibling=s,s=b,b=t}Pd(a,!0,s,null,E);break;case"together":Pd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Fi(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),la|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Ds(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=Ei(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Ei(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Ud(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&wl(t)))}function iC(t,a,s){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Qi(a,Ar,t.memoizedState.cache),Ts();break;case 27:case 5:Qe(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Qi(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(na(a),a.flags|=128,null):(s&a.child.childLanes)!==0?h_(t,a,s):(na(a),t=Fi(t,a,s),t!==null?t.sibling:null);na(a);break;case 19:var b=(t.flags&128)!==0;if(f=(s&a.childLanes)!==0,f||(Ds(t,a,s,!1),f=(s&a.childLanes)!==0),b){if(f)return g_(t,a,s);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),be(Tr,Tr.current),f)break;return null;case 22:case 23:return a.lanes=0,u_(t,a,s);case 24:Qi(a,Ar,t.memoizedState.cache)}return Fi(t,a,s)}function v_(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Or=!0;else{if(!Ud(t,s)&&(a.flags&128)===0)return Or=!1,iC(t,a,s);Or=(t.flags&131072)!==0}else Or=!1,qt&&(a.flags&1048576)!==0&&$0(a,_l,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var f=a.elementType,b=f._init;if(f=b(f._payload),a.type=f,typeof f=="function")$f(f)?(t=qa(f,t),a.tag=1,a=f_(null,a,f,t,s)):(a.tag=0,a=Fd(null,a,f,t,s));else{if(f!=null){if(b=f.$$typeof,b===N){a.tag=11,a=a_(null,a,f,t,s);break e}else if(b===j){a.tag=14,a=o_(null,a,f,t,s);break e}}throw a=ke(f)||f,Error(i(306,a,""))}}return a;case 0:return Fd(t,a,a.type,a.pendingProps,s);case 1:return f=a.type,b=qa(f,a.pendingProps),f_(t,a,f,b,s);case 3:e:{if(Ce(a,a.stateNode.containerInfo),t===null)throw Error(i(387));f=a.pendingProps;var E=a.memoizedState;b=E.element,od(t,a),ks(a,f,null,s);var K=a.memoizedState;if(f=K.cache,Qi(a,Ar,f),f!==E.cache&&ed(a,[Ar],s,!0),Is(),f=K.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:K.cache},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){a=d_(t,a,f,s);break e}else if(f!==b){b=An(Error(i(424)),a),Rs(b),a=d_(t,a,f,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dr=Gn(t.firstChild),Qr=a,qt=!0,ka=null,ri=!0,s=Gb(a,null,f,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ts(),f===b){a=Fi(t,a,s);break e}Ur(t,a,f,s)}a=a.child}return a;case 26:return jl(t,a),t===null?(s=_w(a.type,null,a.pendingProps,null))?a.memoizedState=s:qt||(s=a.type,t=a.pendingProps,f=tc(rt.current).createElement(s),f[ut]=a,f[It]=t,Br(f,s,t),wt(f),a.stateNode=f):a.memoizedState=_w(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Qe(a),t===null&&qt&&(f=a.stateNode=yw(a.type,a.pendingProps,rt.current),Qr=a,ri=!0,b=dr,ha(a.type)?(yh=b,dr=Gn(f.firstChild)):dr=b),Ur(t,a,a.pendingProps.children,s),jl(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qt&&((b=f=dr)&&(f=NC(f,a.type,a.pendingProps,ri),f!==null?(a.stateNode=f,Qr=a,dr=Gn(f.firstChild),ri=!1,b=!0):b=!1),b||Pa(a)),Qe(a),b=a.type,E=a.pendingProps,K=t!==null?t.memoizedProps:null,f=E.children,hh(b,E)?f=null:K!==null&&hh(b,K)&&(a.flags|=32),a.memoizedState!==null&&(b=dd(t,a,JD,null,null,s),nu._currentValue=b),jl(t,a),Ur(t,a,f,s),a.child;case 6:return t===null&&qt&&((t=s=dr)&&(s=MC(s,a.pendingProps,ri),s!==null?(a.stateNode=s,Qr=a,dr=null,t=!0):t=!1),t||Pa(a)),null;case 13:return h_(t,a,s);case 4:return Ce(a,a.stateNode.containerInfo),f=a.pendingProps,t===null?a.child=Do(a,null,f,s):Ur(t,a,f,s),a.child;case 11:return a_(t,a,a.type,a.pendingProps,s);case 7:return Ur(t,a,a.pendingProps,s),a.child;case 8:return Ur(t,a,a.pendingProps.children,s),a.child;case 12:return Ur(t,a,a.pendingProps.children,s),a.child;case 10:return f=a.pendingProps,Qi(a,a.type,f.value),Ur(t,a,f.children,s),a.child;case 9:return b=a.type._context,f=a.pendingProps.children,La(a),b=$r(b),f=f(b),a.flags|=1,Ur(t,a,f,s),a.child;case 14:return o_(t,a,a.type,a.pendingProps,s);case 15:return s_(t,a,a.type,a.pendingProps,s);case 19:return g_(t,a,s);case 31:return f=a.pendingProps,s=a.mode,f={mode:f.mode,children:f.children},t===null?(s=ql(f,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Ei(t.child,f),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return u_(t,a,s);case 24:return La(a),f=$r(Ar),t===null?(b=nd(),b===null&&(b=er,E=td(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=s),b=E),a.memoizedState={parent:f,cache:b},ad(a),Qi(a,Ar,b)):((t.lanes&s)!==0&&(od(t,a),ks(a,null,null,s),Is()),b=t.memoizedState,E=a.memoizedState,b.parent!==f?(b={parent:f,cache:f},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),Qi(a,Ar,f)):(f=E.cache,Qi(a,Ar,f),f!==b.cache&&ed(a,[Ar],s,!0))),Ur(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Oi(t){t.flags|=4}function y_(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Aw(a)){if(a=Cn.current,a!==null&&((kt&4194048)===kt?ni!==null:(kt&62914560)!==kt&&(kt&536870912)===0||a!==ni))throw Ns=id,eb;t.flags|=8192}}function Hl(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?rr():536870912,t.lanes|=a,No|=a)}function Hs(t,a){if(!qt)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:f.sibling=null}}function lr(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,f=0;if(a)for(var b=t.child;b!==null;)s|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=t,b=b.sibling;else for(b=t.child;b!==null;)s|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=t,b=b.sibling;return t.subtreeFlags|=f,t.childLanes=s,a}function aC(t,a,s){var f=a.pendingProps;switch(Jf(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(a),null;case 1:return lr(a),null;case 3:return s=a.stateNode,f=null,t!==null&&(f=t.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ri(Ar),He(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(As(a)?Oi(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Y0())),lr(a),null;case 26:return s=a.memoizedState,t===null?(Oi(a),s!==null?(lr(a),y_(a,s)):(lr(a),a.flags&=-16777217)):s?s!==t.memoizedState?(Oi(a),lr(a),y_(a,s)):(lr(a),a.flags&=-16777217):(t.memoizedProps!==f&&Oi(a),lr(a),a.flags&=-16777217),null;case 27:ie(a),s=rt.current;var b=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==f&&Oi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return lr(a),null}t=We.current,As(a)?W0(a):(t=yw(b,f,s),a.stateNode=t,Oi(a))}return lr(a),null;case 5:if(ie(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==f&&Oi(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return lr(a),null}if(t=We.current,As(a))W0(a);else{switch(b=tc(rt.current),t){case 1:t=b.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=b.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=b.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=b.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=b.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?t.multiple=!0:f.size&&(t.size=f.size);break;default:t=typeof f.is=="string"?b.createElement(s,{is:f.is}):b.createElement(s)}}t[ut]=a,t[It]=f;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)t.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=t;e:switch(Br(t,s,f),s){case"button":case"input":case"select":case"textarea":t=!!f.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(a)}}return lr(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==f&&Oi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(t=rt.current,As(a)){if(t=a.stateNode,s=a.memoizedProps,f=null,b=Qr,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}t[ut]=a,t=!!(t.nodeValue===s||f!==null&&f.suppressHydrationWarning===!0||cw(t.nodeValue,s)),t||Pa(a)}else t=tc(t).createTextNode(f),t[ut]=a,a.stateNode=t}return lr(a),null;case 13:if(f=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(b=As(a),f!==null&&f.dehydrated!==null){if(t===null){if(!b)throw Error(i(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[ut]=a}else Ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lr(a),b=!1}else b=Y0(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(Ci(a),a):(Ci(a),null)}if(Ci(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=f!==null,t=t!==null&&t.memoizedState!==null,s){f=a.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool);var E=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==b&&(f.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),Hl(a,a.updateQueue),lr(a),null;case 4:return He(),t===null&&uh(a.stateNode.containerInfo),lr(a),null;case 10:return Ri(a.type),lr(a),null;case 19:if(Ae(Tr),b=a.memoizedState,b===null)return lr(a),null;if(f=(a.flags&128)!==0,E=b.rendering,E===null)if(f)Hs(b,!1);else{if(hr!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(E=Ul(t),E!==null){for(a.flags|=128,Hs(b,!1),t=E.updateQueue,a.updateQueue=t,Hl(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)V0(s,t),s=s.sibling;return be(Tr,Tr.current&1|2),a.child}t=t.sibling}b.tail!==null&&ue()>Vl&&(a.flags|=128,f=!0,Hs(b,!1),a.lanes=4194304)}else{if(!f)if(t=Ul(E),t!==null){if(a.flags|=128,f=!0,t=t.updateQueue,a.updateQueue=t,Hl(a,t),Hs(b,!0),b.tail===null&&b.tailMode==="hidden"&&!E.alternate&&!qt)return lr(a),null}else 2*ue()-b.renderingStartTime>Vl&&s!==536870912&&(a.flags|=128,f=!0,Hs(b,!1),a.lanes=4194304);b.isBackwards?(E.sibling=a.child,a.child=E):(t=b.last,t!==null?t.sibling=E:a.child=E,b.last=E)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ue(),a.sibling=null,t=Tr.current,be(Tr,f?t&1|2:t&1),a):(lr(a),null);case 22:case 23:return Ci(a),cd(),f=a.memoizedState!==null,t!==null?t.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(s&536870912)!==0&&(a.flags&128)===0&&(lr(a),a.subtreeFlags&6&&(a.flags|=8192)):lr(a),s=a.updateQueue,s!==null&&Hl(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==s&&(a.flags|=2048),t!==null&&Ae(Ba),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ri(Ar),lr(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function oC(t,a){switch(Jf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ri(Ar),He(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return ie(a),null;case 13:if(Ci(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ts()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Ae(Tr),null;case 4:return He(),null;case 10:return Ri(a.type),null;case 22:case 23:return Ci(a),cd(),t!==null&&Ae(Ba),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ri(Ar),null;case 25:return null;default:return null}}function m_(t,a){switch(Jf(a),a.tag){case 3:Ri(Ar),He();break;case 26:case 27:case 5:ie(a);break;case 4:He();break;case 13:Ci(a);break;case 19:Ae(Tr);break;case 10:Ri(a.type);break;case 22:case 23:Ci(a),cd(),t!==null&&Ae(Ba);break;case 24:Ri(Ar)}}function Ks(t,a){try{var s=a.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var b=f.next;s=b;do{if((s.tag&t)===t){f=void 0;var E=s.create,K=s.inst;f=E(),K.destroy=f}s=s.next}while(s!==b)}}catch(J){Yt(a,a.return,J)}}function aa(t,a,s){try{var f=a.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var E=b.next;f=E;do{if((f.tag&t)===t){var K=f.inst,J=K.destroy;if(J!==void 0){K.destroy=void 0,b=a;var ye=s,Ie=J;try{Ie()}catch(Ye){Yt(b,ye,Ye)}}}f=f.next}while(f!==E)}}catch(Ye){Yt(a,a.return,Ye)}}function b_(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{ob(a,s)}catch(f){Yt(t,t.return,f)}}}function __(t,a,s){s.props=qa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(f){Yt(t,a,f)}}function zs(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var f=t.stateNode;break;case 30:f=t.stateNode;break;default:f=t.stateNode}typeof s=="function"?t.refCleanup=s(f):s.current=f}}catch(b){Yt(t,a,b)}}function ii(t,a){var s=t.ref,f=t.refCleanup;if(s!==null)if(typeof f=="function")try{f()}catch(b){Yt(t,a,b)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(b){Yt(t,a,b)}else s.current=null}function w_(t){var a=t.type,s=t.memoizedProps,f=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&f.focus();break e;case"img":s.src?f.src=s.src:s.srcSet&&(f.srcset=s.srcSet)}}catch(b){Yt(t,t.return,b)}}function Ld(t,a,s){try{var f=t.stateNode;RC(f,t.type,s,a),f[It]=a}catch(b){Yt(t,t.return,b)}}function S_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ha(t.type)||t.tag===4}function Bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ha(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,a,s){var f=t.tag;if(f===5||f===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=ec));else if(f!==4&&(f===27&&ha(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(jd(t,a,s),t=t.sibling;t!==null;)jd(t,a,s),t=t.sibling}function Kl(t,a,s){var f=t.tag;if(f===5||f===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(f!==4&&(f===27&&ha(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Kl(t,a,s),t=t.sibling;t!==null;)Kl(t,a,s),t=t.sibling}function E_(t){var a=t.stateNode,s=t.memoizedProps;try{for(var f=t.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);Br(a,f,s),a[ut]=t,a[It]=s}catch(E){Yt(t,t.return,E)}}var Ni=!1,_r=!1,qd=!1,x_=typeof WeakSet=="function"?WeakSet:Set,Nr=null;function sC(t,a){if(t=t.containerInfo,fh=sc,t=k0(t),Bf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var b=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{s.nodeType,E.nodeType}catch{s=null;break e}var K=0,J=-1,ye=-1,Ie=0,Ye=0,Ze=t,je=null;t:for(;;){for(var Ke;Ze!==s||b!==0&&Ze.nodeType!==3||(J=K+b),Ze!==E||f!==0&&Ze.nodeType!==3||(ye=K+f),Ze.nodeType===3&&(K+=Ze.nodeValue.length),(Ke=Ze.firstChild)!==null;)je=Ze,Ze=Ke;for(;;){if(Ze===t)break t;if(je===s&&++Ie===b&&(J=K),je===E&&++Ye===f&&(ye=K),(Ke=Ze.nextSibling)!==null)break;Ze=je,je=Ze.parentNode}Ze=Ke}s=J===-1||ye===-1?null:{start:J,end:ye}}else s=null}s=s||{start:0,end:0}}else s=null;for(dh={focusedElem:t,selectionRange:s},sc=!1,Nr=a;Nr!==null;)if(a=Nr,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Nr=t;else for(;Nr!==null;){switch(a=Nr,E=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&E!==null){t=void 0,s=a,b=E.memoizedProps,E=E.memoizedState,f=s.stateNode;try{var _t=qa(s.type,b,s.elementType===s.type);t=f.getSnapshotBeforeUpdate(_t,E),f.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Yt(s,s.return,yt)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)gh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Nr=t;break}Nr=a.return}}function A_(t,a,s){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oa(t,s),f&4&&Ks(5,s);break;case 1:if(oa(t,s),f&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(K){Yt(s,s.return,K)}else{var b=qa(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(b,a,t.__reactInternalSnapshotBeforeUpdate)}catch(K){Yt(s,s.return,K)}}f&64&&b_(s),f&512&&zs(s,s.return);break;case 3:if(oa(t,s),f&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{ob(t,a)}catch(K){Yt(s,s.return,K)}}break;case 27:a===null&&f&4&&E_(s);case 26:case 5:oa(t,s),a===null&&f&4&&w_(s),f&512&&zs(s,s.return);break;case 12:oa(t,s);break;case 13:oa(t,s),f&4&&D_(t,s),f&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vC.bind(null,s),IC(t,s))));break;case 22:if(f=s.memoizedState!==null||Ni,!f){a=a!==null&&a.memoizedState!==null||_r,b=Ni;var E=_r;Ni=f,(_r=a)&&!E?sa(t,s,(s.subtreeFlags&8772)!==0):oa(t,s),Ni=b,_r=E}break;case 30:break;default:oa(t,s)}}function T_(t){var a=t.alternate;a!==null&&(t.alternate=null,T_(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ln(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ar=null,nn=!1;function Mi(t,a,s){for(s=s.child;s!==null;)R_(t,a,s),s=s.sibling}function R_(t,a,s){if(V&&typeof V.onCommitFiberUnmount=="function")try{V.onCommitFiberUnmount(gt,s)}catch{}switch(s.tag){case 26:_r||ii(s,a),Mi(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_r||ii(s,a);var f=ar,b=nn;ha(s.type)&&(ar=s.stateNode,nn=!1),Mi(t,a,s),Zs(s.stateNode),ar=f,nn=b;break;case 5:_r||ii(s,a);case 6:if(f=ar,b=nn,ar=null,Mi(t,a,s),ar=f,nn=b,ar!==null)if(nn)try{(ar.nodeType===9?ar.body:ar.nodeName==="HTML"?ar.ownerDocument.body:ar).removeChild(s.stateNode)}catch(E){Yt(s,a,E)}else try{ar.removeChild(s.stateNode)}catch(E){Yt(s,a,E)}break;case 18:ar!==null&&(nn?(t=ar,gw(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),su(t)):gw(ar,s.stateNode));break;case 4:f=ar,b=nn,ar=s.stateNode.containerInfo,nn=!0,Mi(t,a,s),ar=f,nn=b;break;case 0:case 11:case 14:case 15:_r||aa(2,s,a),_r||aa(4,s,a),Mi(t,a,s);break;case 1:_r||(ii(s,a),f=s.stateNode,typeof f.componentWillUnmount=="function"&&__(s,a,f)),Mi(t,a,s);break;case 21:Mi(t,a,s);break;case 22:_r=(f=_r)||s.memoizedState!==null,Mi(t,a,s),_r=f;break;default:Mi(t,a,s)}}function D_(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{su(t)}catch(s){Yt(a,a.return,s)}}function uC(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new x_),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new x_),a;default:throw Error(i(435,t.tag))}}function Hd(t,a){var s=uC(t);a.forEach(function(f){var b=yC.bind(null,t,f);s.has(f)||(s.add(f),f.then(b,b))})}function yn(t,a){var s=a.deletions;if(s!==null)for(var f=0;f<s.length;f++){var b=s[f],E=t,K=a,J=K;e:for(;J!==null;){switch(J.tag){case 27:if(ha(J.type)){ar=J.stateNode,nn=!1;break e}break;case 5:ar=J.stateNode,nn=!1;break e;case 3:case 4:ar=J.stateNode.containerInfo,nn=!0;break e}J=J.return}if(ar===null)throw Error(i(160));R_(E,K,b),ar=null,nn=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)C_(a,t),a=a.sibling}var Wn=null;function C_(t,a){var s=t.alternate,f=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(a,t),mn(t),f&4&&(aa(3,t,t.return),Ks(3,t),aa(5,t,t.return));break;case 1:yn(a,t),mn(t),f&512&&(_r||s===null||ii(s,s.return)),f&64&&Ni&&(t=t.updateQueue,t!==null&&(f=t.callbacks,f!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?f:s.concat(f))));break;case 26:var b=Wn;if(yn(a,t),mn(t),f&512&&(_r||s===null||ii(s,s.return)),f&4){var E=s!==null?s.memoizedState:null;if(f=t.memoizedState,s===null)if(f===null)if(t.stateNode===null){e:{f=t.type,s=t.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":E=b.getElementsByTagName("title")[0],(!E||E[Un]||E[ut]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(f),b.head.insertBefore(E,b.querySelector("head > title"))),Br(E,f,s),E[ut]=t,wt(E),f=E;break e;case"link":var K=Ew("link","href",b).get(f+(s.href||""));if(K){for(var J=0;J<K.length;J++)if(E=K[J],E.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&E.getAttribute("rel")===(s.rel==null?null:s.rel)&&E.getAttribute("title")===(s.title==null?null:s.title)&&E.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){K.splice(J,1);break t}}E=b.createElement(f),Br(E,f,s),b.head.appendChild(E);break;case"meta":if(K=Ew("meta","content",b).get(f+(s.content||""))){for(J=0;J<K.length;J++)if(E=K[J],E.getAttribute("content")===(s.content==null?null:""+s.content)&&E.getAttribute("name")===(s.name==null?null:s.name)&&E.getAttribute("property")===(s.property==null?null:s.property)&&E.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&E.getAttribute("charset")===(s.charSet==null?null:s.charSet)){K.splice(J,1);break t}}E=b.createElement(f),Br(E,f,s),b.head.appendChild(E);break;default:throw Error(i(468,f))}E[ut]=t,wt(E),f=E}t.stateNode=f}else xw(b,t.type,t.stateNode);else t.stateNode=Sw(b,f,t.memoizedProps);else E!==f?(E===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):E.count--,f===null?xw(b,t.type,t.stateNode):Sw(b,f,t.memoizedProps)):f===null&&t.stateNode!==null&&Ld(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(a,t),mn(t),f&512&&(_r||s===null||ii(s,s.return)),s!==null&&f&4&&Ld(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(a,t),mn(t),f&512&&(_r||s===null||ii(s,s.return)),t.flags&32){b=t.stateNode;try{ae(b,"")}catch(Ke){Yt(t,t.return,Ke)}}f&4&&t.stateNode!=null&&(b=t.memoizedProps,Ld(t,b,s!==null?s.memoizedProps:b)),f&1024&&(qd=!0);break;case 6:if(yn(a,t),mn(t),f&4){if(t.stateNode===null)throw Error(i(162));f=t.memoizedProps,s=t.stateNode;try{s.nodeValue=f}catch(Ke){Yt(t,t.return,Ke)}}break;case 3:if(ic=null,b=Wn,Wn=rc(a.containerInfo),yn(a,t),Wn=b,mn(t),f&4&&s!==null&&s.memoizedState.isDehydrated)try{su(a.containerInfo)}catch(Ke){Yt(t,t.return,Ke)}qd&&(qd=!1,F_(t));break;case 4:f=Wn,Wn=rc(t.stateNode.containerInfo),yn(a,t),mn(t),Wn=f;break;case 12:yn(a,t),mn(t);break;case 13:yn(a,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gd=ue()),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,Hd(t,f)));break;case 22:b=t.memoizedState!==null;var ye=s!==null&&s.memoizedState!==null,Ie=Ni,Ye=_r;if(Ni=Ie||b,_r=Ye||ye,yn(a,t),_r=Ye,Ni=Ie,mn(t),f&8192)e:for(a=t.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(s===null||ye||Ni||_r||Ha(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){ye=s=a;try{if(E=ye.stateNode,b)K=E.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{J=ye.stateNode;var Ze=ye.memoizedProps.style,je=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;J.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ke){Yt(ye,ye.return,Ke)}}}else if(a.tag===6){if(s===null){ye=a;try{ye.stateNode.nodeValue=b?"":ye.memoizedProps}catch(Ke){Yt(ye,ye.return,Ke)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=t.updateQueue,f!==null&&(s=f.retryQueue,s!==null&&(f.retryQueue=null,Hd(t,s))));break;case 19:yn(a,t),mn(t),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,Hd(t,f)));break;case 30:break;case 21:break;default:yn(a,t),mn(t)}}function mn(t){var a=t.flags;if(a&2){try{for(var s,f=t.return;f!==null;){if(S_(f)){s=f;break}f=f.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var b=s.stateNode,E=Bd(t);Kl(t,E,b);break;case 5:var K=s.stateNode;s.flags&32&&(ae(K,""),s.flags&=-33);var J=Bd(t);Kl(t,J,K);break;case 3:case 4:var ye=s.stateNode.containerInfo,Ie=Bd(t);jd(t,Ie,ye);break;default:throw Error(i(161))}}catch(Ye){Yt(t,t.return,Ye)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function F_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;F_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function oa(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)A_(t,a.alternate,a),a=a.sibling}function Ha(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:aa(4,a,a.return),Ha(a);break;case 1:ii(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&__(a,a.return,s),Ha(a);break;case 27:Zs(a.stateNode);case 26:case 5:ii(a,a.return),Ha(a);break;case 22:a.memoizedState===null&&Ha(a);break;case 30:Ha(a);break;default:Ha(a)}t=t.sibling}}function sa(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,b=t,E=a,K=E.flags;switch(E.tag){case 0:case 11:case 15:sa(b,E,s),Ks(4,E);break;case 1:if(sa(b,E,s),f=E,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Ie){Yt(f,f.return,Ie)}if(f=E,b=f.updateQueue,b!==null){var J=f.stateNode;try{var ye=b.shared.hiddenCallbacks;if(ye!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ye.length;b++)ab(ye[b],J)}catch(Ie){Yt(f,f.return,Ie)}}s&&K&64&&b_(E),zs(E,E.return);break;case 27:E_(E);case 26:case 5:sa(b,E,s),s&&f===null&&K&4&&w_(E),zs(E,E.return);break;case 12:sa(b,E,s);break;case 13:sa(b,E,s),s&&K&4&&D_(b,E);break;case 22:E.memoizedState===null&&sa(b,E,s),zs(E,E.return);break;case 30:break;default:sa(b,E,s)}a=a.sibling}}function Kd(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cs(s))}function zd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cs(t))}function ai(t,a,s,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)O_(t,a,s,f),a=a.sibling}function O_(t,a,s,f){var b=a.flags;switch(a.tag){case 0:case 11:case 15:ai(t,a,s,f),b&2048&&Ks(9,a);break;case 1:ai(t,a,s,f);break;case 3:ai(t,a,s,f),b&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cs(t)));break;case 12:if(b&2048){ai(t,a,s,f),t=a.stateNode;try{var E=a.memoizedProps,K=E.id,J=E.onPostCommit;typeof J=="function"&&J(K,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(ye){Yt(a,a.return,ye)}}else ai(t,a,s,f);break;case 13:ai(t,a,s,f);break;case 23:break;case 22:E=a.stateNode,K=a.alternate,a.memoizedState!==null?E._visibility&2?ai(t,a,s,f):Vs(t,a):E._visibility&2?ai(t,a,s,f):(E._visibility|=2,Co(t,a,s,f,(a.subtreeFlags&10256)!==0)),b&2048&&Kd(K,a);break;case 24:ai(t,a,s,f),b&2048&&zd(a.alternate,a);break;default:ai(t,a,s,f)}}function Co(t,a,s,f,b){for(b=b&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var E=t,K=a,J=s,ye=f,Ie=K.flags;switch(K.tag){case 0:case 11:case 15:Co(E,K,J,ye,b),Ks(8,K);break;case 23:break;case 22:var Ye=K.stateNode;K.memoizedState!==null?Ye._visibility&2?Co(E,K,J,ye,b):Vs(E,K):(Ye._visibility|=2,Co(E,K,J,ye,b)),b&&Ie&2048&&Kd(K.alternate,K);break;case 24:Co(E,K,J,ye,b),b&&Ie&2048&&zd(K.alternate,K);break;default:Co(E,K,J,ye,b)}a=a.sibling}}function Vs(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,f=a,b=f.flags;switch(f.tag){case 22:Vs(s,f),b&2048&&Kd(f.alternate,f);break;case 24:Vs(s,f),b&2048&&zd(f.alternate,f);break;default:Vs(s,f)}a=a.sibling}}var $s=8192;function Fo(t){if(t.subtreeFlags&$s)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 26:Fo(t),t.flags&$s&&t.memoizedState!==null&&WC(Wn,t.memoizedState,t.memoizedProps);break;case 5:Fo(t);break;case 3:case 4:var a=Wn;Wn=rc(t.stateNode.containerInfo),Fo(t),Wn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=$s,$s=16777216,Fo(t),$s=a):Fo(t));break;default:Fo(t)}}function M_(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Ws(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var f=a[s];Nr=f,k_(f,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:Ws(t),t.flags&2048&&aa(9,t,t.return);break;case 3:Ws(t);break;case 12:Ws(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,zl(t)):Ws(t);break;default:Ws(t)}}function zl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var f=a[s];Nr=f,k_(f,t)}M_(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:aa(8,a,a.return),zl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,zl(a));break;default:zl(a)}t=t.sibling}}function k_(t,a){for(;Nr!==null;){var s=Nr;switch(s.tag){case 0:case 11:case 15:aa(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var f=s.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Cs(s.memoizedState.cache)}if(f=s.child,f!==null)f.return=s,Nr=f;else e:for(s=t;Nr!==null;){f=Nr;var b=f.sibling,E=f.return;if(T_(f),f===s){Nr=null;break e}if(b!==null){b.return=E,Nr=b;break e}Nr=E}}}var lC={getCacheForType:function(t){var a=$r(Ar),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},cC=typeof WeakMap=="function"?WeakMap:Map,Ht=0,er=null,Ct=null,kt=0,Kt=0,bn=null,ua=!1,Oo=!1,Vd=!1,Ii=0,hr=0,la=0,Ka=0,$d=0,Fn=0,No=0,Gs=null,an=null,Wd=!1,Gd=0,Vl=1/0,$l=null,ca=null,Lr=0,fa=null,Mo=null,Io=0,Yd=0,Jd=null,P_=null,Ys=0,Xd=null;function _n(){if((Ht&2)!==0&&kt!==0)return kt&-kt;if(ge.T!==null){var t=wo;return t!==0?t:ih()}return de()}function U_(){Fn===0&&(Fn=(kt&536870912)===0||qt?kn():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Fn}function wn(t,a,s){(t===er&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(ko(t,0),da(t,kt,Fn,!1)),hn(t,s),((Ht&2)===0||t!==er)&&(t===er&&((Ht&2)===0&&(Ka|=s),hr===4&&da(t,kt,Fn,!1)),oi(t))}function L_(t,a,s){if((Ht&6)!==0)throw Error(i(327));var f=!s&&(a&124)===0&&(a&t.expiredLanes)===0||At(t,a),b=f?hC(t,a):eh(t,a,!0),E=f;do{if(b===0){Oo&&!f&&da(t,a,0,!1);break}else{if(s=t.current.alternate,E&&!fC(s)){b=eh(t,a,!1),E=!1;continue}if(b===2){if(E=a,t.errorRecoveryDisabledLanes&E)var K=0;else K=t.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){a=K;e:{var J=t;b=Gs;var ye=J.current.memoizedState.isDehydrated;if(ye&&(ko(J,K).flags|=256),K=eh(J,K,!1),K!==2){if(Vd&&!ye){J.errorRecoveryDisabledLanes|=E,Ka|=E,b=4;break e}E=an,an=b,E!==null&&(an===null?an=E:an.push.apply(an,E))}b=K}if(E=!1,b!==2)continue}}if(b===1){ko(t,0),da(t,a,0,!0);break}e:{switch(f=t,E=b,E){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:da(f,a,Fn,!ua);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(b=Gd+300-ue(),10<b)){if(da(f,a,Fn,!ua),Ot(f,0,!0)!==0)break e;f.timeoutHandle=hw(B_.bind(null,f,s,an,$l,Wd,a,Fn,Ka,No,ua,E,2,-0,0),b);break e}B_(f,s,an,$l,Wd,a,Fn,Ka,No,ua,E,0,-0,0)}}break}while(!0);oi(t)}function B_(t,a,s,f,b,E,K,J,ye,Ie,Ye,Ze,je,Ke){if(t.timeoutHandle=-1,Ze=a.subtreeFlags,(Ze&8192||(Ze&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:$C},N_(a),Ze=GC(),Ze!==null)){t.cancelPendingCommit=Ze($_.bind(null,t,a,E,s,f,b,K,J,ye,Ye,1,je,Ke)),da(t,E,K,!Ie);return}$_(t,a,E,s,f,b,K,J,ye)}function fC(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var f=0;f<s.length;f++){var b=s[f],E=b.getSnapshot;b=b.value;try{if(!gn(E(),b))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function da(t,a,s,f){a&=~$d,a&=~Ka,t.suspendedLanes|=a,t.pingedLanes&=~a,f&&(t.warmLanes|=a),f=t.expirationTimes;for(var b=a;0<b;){var E=31-P(b),K=1<<E;f[E]=-1,b&=~K}s!==0&&kr(t,s,a)}function Wl(){return(Ht&6)===0?(Js(0),!1):!0}function Qd(){if(Ct!==null){if(Kt===0)var t=Ct.return;else t=Ct,Ti=Ua=null,gd(t),Ro=null,js=0,t=Ct;for(;t!==null;)m_(t.alternate,t),t=t.return;Ct=null}}function ko(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,CC(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qd(),er=t,Ct=s=Ei(t.current,null),kt=a,Kt=0,bn=null,ua=!1,Oo=At(t,a),Vd=!1,No=Fn=$d=Ka=la=hr=0,an=Gs=null,Wd=!1,(a&8)!==0&&(a|=a&32);var f=t.entangledLanes;if(f!==0)for(t=t.entanglements,f&=a;0<f;){var b=31-P(f),E=1<<b;a|=t[b],f&=~E}return Ii=a,gl(),s}function j_(t,a){Tt=null,ge.H=Il,a===Os||a===xl?(a=nb(),Kt=3):a===eb?(a=nb(),Kt=4):Kt=a===i_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,bn=a,Ct===null&&(hr=1,Bl(t,An(a,t.current)))}function q_(){var t=ge.H;return ge.H=Il,t===null?Il:t}function H_(){var t=ge.A;return ge.A=lC,t}function Zd(){hr=4,ua||(kt&4194048)!==kt&&Cn.current!==null||(Oo=!0),(la&134217727)===0&&(Ka&134217727)===0||er===null||da(er,kt,Fn,!1)}function eh(t,a,s){var f=Ht;Ht|=2;var b=q_(),E=H_();(er!==t||kt!==a)&&($l=null,ko(t,a)),a=!1;var K=hr;e:do try{if(Kt!==0&&Ct!==null){var J=Ct,ye=bn;switch(Kt){case 8:Qd(),K=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(a=!0);var Ie=Kt;if(Kt=0,bn=null,Po(t,J,ye,Ie),s&&Oo){K=0;break e}break;default:Ie=Kt,Kt=0,bn=null,Po(t,J,ye,Ie)}}dC(),K=hr;break}catch(Ye){j_(t,Ye)}while(!0);return a&&t.shellSuspendCounter++,Ti=Ua=null,Ht=f,ge.H=b,ge.A=E,Ct===null&&(er=null,kt=0,gl()),K}function dC(){for(;Ct!==null;)K_(Ct)}function hC(t,a){var s=Ht;Ht|=2;var f=q_(),b=H_();er!==t||kt!==a?($l=null,Vl=ue()+500,ko(t,a)):Oo=At(t,a);e:do try{if(Kt!==0&&Ct!==null){a=Ct;var E=bn;t:switch(Kt){case 1:Kt=0,bn=null,Po(t,a,E,1);break;case 2:case 9:if(tb(E)){Kt=0,bn=null,z_(a);break}a=function(){Kt!==2&&Kt!==9||er!==t||(Kt=7),oi(t)},E.then(a,a);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:tb(E)?(Kt=0,bn=null,z_(a)):(Kt=0,bn=null,Po(t,a,E,7));break;case 5:var K=null;switch(Ct.tag){case 26:K=Ct.memoizedState;case 5:case 27:var J=Ct;if(!K||Aw(K)){Kt=0,bn=null;var ye=J.sibling;if(ye!==null)Ct=ye;else{var Ie=J.return;Ie!==null?(Ct=Ie,Gl(Ie)):Ct=null}break t}}Kt=0,bn=null,Po(t,a,E,5);break;case 6:Kt=0,bn=null,Po(t,a,E,6);break;case 8:Qd(),hr=6;break e;default:throw Error(i(462))}}pC();break}catch(Ye){j_(t,Ye)}while(!0);return Ti=Ua=null,ge.H=f,ge.A=b,Ht=s,Ct!==null?0:(er=null,kt=0,gl(),hr)}function pC(){for(;Ct!==null&&!$();)K_(Ct)}function K_(t){var a=v_(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,a===null?Gl(t):Ct=a}function z_(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=c_(s,a,a.pendingProps,a.type,void 0,kt);break;case 11:a=c_(s,a,a.pendingProps,a.type.render,a.ref,kt);break;case 5:gd(a);default:m_(s,a),a=Ct=V0(a,Ii),a=v_(s,a,Ii)}t.memoizedProps=t.pendingProps,a===null?Gl(t):Ct=a}function Po(t,a,s,f){Ti=Ua=null,gd(a),Ro=null,js=0;var b=a.return;try{if(nC(t,b,a,s,kt)){hr=1,Bl(t,An(s,t.current)),Ct=null;return}}catch(E){if(b!==null)throw Ct=b,E;hr=1,Bl(t,An(s,t.current)),Ct=null;return}a.flags&32768?(qt||f===1?t=!0:Oo||(kt&536870912)!==0?t=!1:(ua=t=!0,(f===2||f===9||f===3||f===6)&&(f=Cn.current,f!==null&&f.tag===13&&(f.flags|=16384))),V_(a,t)):Gl(a)}function Gl(t){var a=t;do{if((a.flags&32768)!==0){V_(a,ua);return}t=a.return;var s=aC(a.alternate,a,Ii);if(s!==null){Ct=s;return}if(a=a.sibling,a!==null){Ct=a;return}Ct=a=t}while(a!==null);hr===0&&(hr=5)}function V_(t,a){do{var s=oC(t.alternate,t);if(s!==null){s.flags&=32767,Ct=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=s}while(t!==null);hr=6,Ct=null}function $_(t,a,s,f,b,E,K,J,ye){t.cancelPendingCommit=null;do Yl();while(Lr!==0);if((Ht&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(E=a.lanes|a.childLanes,E|=zf,or(t,s,E,K,J,ye),t===er&&(Ct=er=null,kt=0),Mo=a,fa=t,Io=s,Yd=E,Jd=b,P_=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mC(Ge,function(){return X_(),null})):(t.callbackNode=null,t.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=ge.T,ge.T=null,b=Oe.p,Oe.p=2,K=Ht,Ht|=4;try{sC(t,a,s)}finally{Ht=K,Oe.p=b,ge.T=f}}Lr=1,W_(),G_(),Y_()}}function W_(){if(Lr===1){Lr=0;var t=fa,a=Mo,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=ge.T,ge.T=null;var f=Oe.p;Oe.p=2;var b=Ht;Ht|=4;try{C_(a,t);var E=dh,K=k0(t.containerInfo),J=E.focusedElem,ye=E.selectionRange;if(K!==J&&J&&J.ownerDocument&&I0(J.ownerDocument.documentElement,J)){if(ye!==null&&Bf(J)){var Ie=ye.start,Ye=ye.end;if(Ye===void 0&&(Ye=Ie),"selectionStart"in J)J.selectionStart=Ie,J.selectionEnd=Math.min(Ye,J.value.length);else{var Ze=J.ownerDocument||document,je=Ze&&Ze.defaultView||window;if(je.getSelection){var Ke=je.getSelection(),_t=J.textContent.length,yt=Math.min(ye.start,_t),Gt=ye.end===void 0?yt:Math.min(ye.end,_t);!Ke.extend&&yt>Gt&&(K=Gt,Gt=yt,yt=K);var Te=M0(J,yt),xe=M0(J,Gt);if(Te&&xe&&(Ke.rangeCount!==1||Ke.anchorNode!==Te.node||Ke.anchorOffset!==Te.offset||Ke.focusNode!==xe.node||Ke.focusOffset!==xe.offset)){var Me=Ze.createRange();Me.setStart(Te.node,Te.offset),Ke.removeAllRanges(),yt>Gt?(Ke.addRange(Me),Ke.extend(xe.node,xe.offset)):(Me.setEnd(xe.node,xe.offset),Ke.addRange(Me))}}}}for(Ze=[],Ke=J;Ke=Ke.parentNode;)Ke.nodeType===1&&Ze.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ze.length;J++){var Je=Ze[J];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}sc=!!fh,dh=fh=null}finally{Ht=b,Oe.p=f,ge.T=s}}t.current=a,Lr=2}}function G_(){if(Lr===2){Lr=0;var t=fa,a=Mo,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=ge.T,ge.T=null;var f=Oe.p;Oe.p=2;var b=Ht;Ht|=4;try{A_(t,a.alternate,a)}finally{Ht=b,Oe.p=f,ge.T=s}}Lr=3}}function Y_(){if(Lr===4||Lr===3){Lr=0,fe();var t=fa,a=Mo,s=Io,f=P_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Lr=5:(Lr=0,Mo=fa=null,J_(t,t.pendingLanes));var b=t.pendingLanes;if(b===0&&(ca=null),ee(s),a=a.stateNode,V&&typeof V.onCommitFiberRoot=="function")try{V.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=ge.T,b=Oe.p,Oe.p=2,ge.T=null;try{for(var E=t.onRecoverableError,K=0;K<f.length;K++){var J=f[K];E(J.value,{componentStack:J.stack})}}finally{ge.T=a,Oe.p=b}}(Io&3)!==0&&Yl(),oi(t),b=t.pendingLanes,(s&4194090)!==0&&(b&42)!==0?t===Xd?Ys++:(Ys=0,Xd=t):Ys=0,Js(0)}}function J_(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Cs(a)))}function Yl(t){return W_(),G_(),Y_(),X_()}function X_(){if(Lr!==5)return!1;var t=fa,a=Yd;Yd=0;var s=ee(Io),f=ge.T,b=Oe.p;try{Oe.p=32>s?32:s,ge.T=null,s=Jd,Jd=null;var E=fa,K=Io;if(Lr=0,Mo=fa=null,Io=0,(Ht&6)!==0)throw Error(i(331));var J=Ht;if(Ht|=4,I_(E.current),O_(E,E.current,K,s),Ht=J,Js(0,!1),V&&typeof V.onPostCommitFiberRoot=="function")try{V.onPostCommitFiberRoot(gt,E)}catch{}return!0}finally{Oe.p=b,ge.T=f,J_(t,a)}}function Q_(t,a,s){a=An(s,a),a=Cd(t.stateNode,a,2),t=ta(t,a,2),t!==null&&(hn(t,2),oi(t))}function Yt(t,a,s){if(t.tag===3)Q_(t,t,s);else for(;a!==null;){if(a.tag===3){Q_(a,t,s);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ca===null||!ca.has(f))){t=An(s,t),s=r_(2),f=ta(a,s,2),f!==null&&(n_(s,f,a,t),hn(f,2),oi(f));break}}a=a.return}}function th(t,a,s){var f=t.pingCache;if(f===null){f=t.pingCache=new cC;var b=new Set;f.set(a,b)}else b=f.get(a),b===void 0&&(b=new Set,f.set(a,b));b.has(s)||(Vd=!0,b.add(s),t=gC.bind(null,t,a,s),a.then(t,t))}function gC(t,a,s){var f=t.pingCache;f!==null&&f.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,er===t&&(kt&s)===s&&(hr===4||hr===3&&(kt&62914560)===kt&&300>ue()-Gd?(Ht&2)===0&&ko(t,0):$d|=s,No===kt&&(No=0)),oi(t)}function Z_(t,a){a===0&&(a=rr()),t=yo(t,a),t!==null&&(hn(t,a),oi(t))}function vC(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Z_(t,s)}function yC(t,a){var s=0;switch(t.tag){case 13:var f=t.stateNode,b=t.memoizedState;b!==null&&(s=b.retryLane);break;case 19:f=t.stateNode;break;case 22:f=t.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),Z_(t,s)}function mC(t,a){return O(t,a)}var Jl=null,Uo=null,rh=!1,Xl=!1,nh=!1,za=0;function oi(t){t!==Uo&&t.next===null&&(Uo===null?Jl=Uo=t:Uo=Uo.next=t),Xl=!0,rh||(rh=!0,_C())}function Js(t,a){if(!nh&&Xl){nh=!0;do for(var s=!1,f=Jl;f!==null;){if(t!==0){var b=f.pendingLanes;if(b===0)var E=0;else{var K=f.suspendedLanes,J=f.pingedLanes;E=(1<<31-P(42|t)+1)-1,E&=b&~(K&~J),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(s=!0,nw(f,E))}else E=kt,E=Ot(f,f===er?E:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(E&3)===0||At(f,E)||(s=!0,nw(f,E));f=f.next}while(s);nh=!1}}function bC(){ew()}function ew(){Xl=rh=!1;var t=0;za!==0&&(DC()&&(t=za),za=0);for(var a=ue(),s=null,f=Jl;f!==null;){var b=f.next,E=tw(f,a);E===0?(f.next=null,s===null?Jl=b:s.next=b,b===null&&(Uo=s)):(s=f,(t!==0||(E&3)!==0)&&(Xl=!0)),f=b}Js(t)}function tw(t,a){for(var s=t.suspendedLanes,f=t.pingedLanes,b=t.expirationTimes,E=t.pendingLanes&-62914561;0<E;){var K=31-P(E),J=1<<K,ye=b[K];ye===-1?((J&s)===0||(J&f)!==0)&&(b[K]=Dt(J,a)):ye<=a&&(t.expiredLanes|=J),E&=~J}if(a=er,s=kt,s=Ot(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f=t.callbackNode,s===0||t===a&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return f!==null&&f!==null&&z(f),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||At(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(f!==null&&z(f),ee(s)){case 2:case 8:s=Le;break;case 32:s=Ge;break;case 268435456:s=at;break;default:s=Ge}return f=rw.bind(null,t),s=O(s,f),t.callbackPriority=a,t.callbackNode=s,a}return f!==null&&f!==null&&z(f),t.callbackPriority=2,t.callbackNode=null,2}function rw(t,a){if(Lr!==0&&Lr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Yl()&&t.callbackNode!==s)return null;var f=kt;return f=Ot(t,t===er?f:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f===0?null:(L_(t,f,a),tw(t,ue()),t.callbackNode!=null&&t.callbackNode===s?rw.bind(null,t):null)}function nw(t,a){if(Yl())return null;L_(t,a,!0)}function _C(){FC(function(){(Ht&6)!==0?O(he,bC):ew()})}function ih(){return za===0&&(za=kn()),za}function iw(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Et(""+t)}function aw(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function wC(t,a,s,f,b){if(a==="submit"&&s&&s.stateNode===b){var E=iw((b[It]||null).action),K=f.submitter;K&&(a=(a=K[It]||null)?iw(a.formAction):K.getAttribute("formAction"),a!==null&&(E=a,K=null));var J=new bi("action","action",null,f,b);t.push({event:J,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(za!==0){var ye=K?aw(b,K):new FormData(b);xd(s,{pending:!0,data:ye,method:b.method,action:E},null,ye)}}else typeof E=="function"&&(J.preventDefault(),ye=K?aw(b,K):new FormData(b),xd(s,{pending:!0,data:ye,method:b.method,action:E},E,ye))},currentTarget:b}]})}}for(var ah=0;ah<Kf.length;ah++){var oh=Kf[ah],SC=oh.toLowerCase(),EC=oh[0].toUpperCase()+oh.slice(1);$n(SC,"on"+EC)}$n(L0,"onAnimationEnd"),$n(B0,"onAnimationIteration"),$n(j0,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(jD,"onTransitionRun"),$n(qD,"onTransitionStart"),$n(HD,"onTransitionCancel"),$n(q0,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xs));function ow(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var f=t[s],b=f.event;f=f.listeners;e:{var E=void 0;if(a)for(var K=f.length-1;0<=K;K--){var J=f[K],ye=J.instance,Ie=J.currentTarget;if(J=J.listener,ye!==E&&b.isPropagationStopped())break e;E=J,b.currentTarget=Ie;try{E(b)}catch(Ye){Ll(Ye)}b.currentTarget=null,E=ye}else for(K=0;K<f.length;K++){if(J=f[K],ye=J.instance,Ie=J.currentTarget,J=J.listener,ye!==E&&b.isPropagationStopped())break e;E=J,b.currentTarget=Ie;try{E(b)}catch(Ye){Ll(Ye)}b.currentTarget=null,E=ye}}}}function Ft(t,a){var s=a[Pn];s===void 0&&(s=a[Pn]=new Set);var f=t+"__bubble";s.has(f)||(sw(a,t,2,!1),s.add(f))}function sh(t,a,s){var f=0;a&&(f|=4),sw(s,t,f,a)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function uh(t){if(!t[Ql]){t[Ql]=!0,Xr.forEach(function(s){s!=="selectionchange"&&(xC.has(s)||sh(s,!1,t),sh(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Ql]||(a[Ql]=!0,sh("selectionchange",!1,a))}}function sw(t,a,s,f){switch(Ow(a)){case 2:var b=XC;break;case 8:b=QC;break;default:b=Sh}s=b.bind(null,a,s,t),b=void 0,!sr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),f?b!==void 0?t.addEventListener(a,s,{capture:!0,passive:b}):t.addEventListener(a,s,!0):b!==void 0?t.addEventListener(a,s,{passive:b}):t.addEventListener(a,s,!1)}function lh(t,a,s,f,b){var E=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var K=f.tag;if(K===3||K===4){var J=f.stateNode.containerInfo;if(J===b)break;if(K===4)for(K=f.return;K!==null;){var ye=K.tag;if((ye===3||ye===4)&&K.stateNode.containerInfo===b)return;K=K.return}for(;J!==null;){if(K=pn(J),K===null)return;if(ye=K.tag,ye===5||ye===6||ye===26||ye===27){f=E=K;continue e}J=J.parentNode}}f=f.return}xr(function(){var Ie=E,Ye=ht(s),Ze=[];e:{var je=H0.get(t);if(je!==void 0){var Ke=bi,_t=t;switch(t){case"keypress":if(qn(s)===0)break e;case"keydown":case"keyup":Ke=mD;break;case"focusin":_t="focus",Ke=ti;break;case"focusout":_t="blur",Ke=ti;break;case"beforeblur":case"afterblur":Ke=ti;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=wD;break;case L0:case B0:case j0:Ke=bs;break;case q0:Ke=ED;break;case"scroll":case"scrollend":Ke=fo;break;case"wheel":Ke=AD;break;case"copy":case"cut":case"paste":Ke=Si;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=b0;break;case"toggle":case"beforetoggle":Ke=RD}var yt=(a&4)!==0,Gt=!yt&&(t==="scroll"||t==="scrollend"),Te=yt?je!==null?je+"Capture":null:je;yt=[];for(var xe=Ie,Me;xe!==null;){var Je=xe;if(Me=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||Me===null||Te===null||(Je=yr(xe,Te),Je!=null&&yt.push(Qs(xe,Je,Me))),Gt)break;xe=xe.return}0<yt.length&&(je=new Ke(je,_t,null,s,Ye),Ze.push({event:je,listeners:yt}))}}if((a&7)===0){e:{if(je=t==="mouseover"||t==="pointerover",Ke=t==="mouseout"||t==="pointerout",je&&s!==lt&&(_t=s.relatedTarget||s.fromElement)&&(pn(_t)||_t[nr]))break e;if((Ke||je)&&(je=Ye.window===Ye?Ye:(je=Ye.ownerDocument)?je.defaultView||je.parentWindow:window,Ke?(_t=s.relatedTarget||s.toElement,Ke=Ie,_t=_t?pn(_t):null,_t!==null&&(Gt=u(_t),yt=_t.tag,_t!==Gt||yt!==5&&yt!==27&&yt!==6)&&(_t=null)):(Ke=null,_t=Ie),Ke!==_t)){if(yt=ei,Je="onMouseLeave",Te="onMouseEnter",xe="mouse",(t==="pointerout"||t==="pointerover")&&(yt=b0,Je="onPointerLeave",Te="onPointerEnter",xe="pointer"),Gt=Ke==null?je:xn(Ke),Me=_t==null?je:xn(_t),je=new yt(Je,xe+"leave",Ke,s,Ye),je.target=Gt,je.relatedTarget=Me,Je=null,pn(Ye)===Ie&&(yt=new yt(Te,xe+"enter",_t,s,Ye),yt.target=Me,yt.relatedTarget=Gt,Je=yt),Gt=Je,Ke&&_t)t:{for(yt=Ke,Te=_t,xe=0,Me=yt;Me;Me=Lo(Me))xe++;for(Me=0,Je=Te;Je;Je=Lo(Je))Me++;for(;0<xe-Me;)yt=Lo(yt),xe--;for(;0<Me-xe;)Te=Lo(Te),Me--;for(;xe--;){if(yt===Te||Te!==null&&yt===Te.alternate)break t;yt=Lo(yt),Te=Lo(Te)}yt=null}else yt=null;Ke!==null&&uw(Ze,je,Ke,yt,!1),_t!==null&&Gt!==null&&uw(Ze,Gt,_t,yt,!0)}}e:{if(je=Ie?xn(Ie):window,Ke=je.nodeName&&je.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&je.type==="file")var ft=R0;else if(A0(je))if(D0)ft=UD;else{ft=kD;var Rt=ID}else Ke=je.nodeName,!Ke||Ke.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Ie&&$e(Ie.elementType)&&(ft=R0):ft=PD;if(ft&&(ft=ft(t,Ie))){T0(Ze,ft,s,Ye);break e}Rt&&Rt(t,je,Ie),t==="focusout"&&Ie&&je.type==="number"&&Ie.memoizedProps.value!=null&&Re(je,"number",je.value)}switch(Rt=Ie?xn(Ie):window,t){case"focusin":(A0(Rt)||Rt.contentEditable==="true")&&(po=Rt,jf=Ie,xs=null);break;case"focusout":xs=jf=po=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,P0(Ze,s,Ye);break;case"selectionchange":if(BD)break;case"keydown":case"keyup":P0(Ze,s,Ye)}var pt;if(Pf)e:{switch(t){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else ho?E0(t,s)&&(bt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(_0&&s.locale!=="ko"&&(ho||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ho&&(pt=Yi()):(ir=Ye,mi="value"in ir?ir.value:ir.textContent,ho=!0)),Rt=Zl(Ie,bt),0<Rt.length&&(bt=new dl(bt,t,null,s,Ye),Ze.push({event:bt,listeners:Rt}),pt?bt.data=pt:(pt=x0(s),pt!==null&&(bt.data=pt)))),(pt=CD?FD(t,s):OD(t,s))&&(bt=Zl(Ie,"onBeforeInput"),0<bt.length&&(Rt=new dl("onBeforeInput","beforeinput",null,s,Ye),Ze.push({event:Rt,listeners:bt}),Rt.data=pt)),wC(Ze,t,Ie,s,Ye)}ow(Ze,a)})}function Qs(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Zl(t,a){for(var s=a+"Capture",f=[];t!==null;){var b=t,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=yr(t,s),b!=null&&f.unshift(Qs(t,b,E)),b=yr(t,a),b!=null&&f.push(Qs(t,b,E))),t.tag===3)return f;t=t.return}return[]}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uw(t,a,s,f,b){for(var E=a._reactName,K=[];s!==null&&s!==f;){var J=s,ye=J.alternate,Ie=J.stateNode;if(J=J.tag,ye!==null&&ye===f)break;J!==5&&J!==26&&J!==27||Ie===null||(ye=Ie,b?(Ie=yr(s,E),Ie!=null&&K.unshift(Qs(s,Ie,ye))):b||(Ie=yr(s,E),Ie!=null&&K.push(Qs(s,Ie,ye)))),s=s.return}K.length!==0&&t.push({event:a,listeners:K})}var AC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function lw(t){return(typeof t=="string"?t:""+t).replace(AC,`
`).replace(TC,"")}function cw(t,a){return a=lw(a),lw(t)===a}function ec(){}function Wt(t,a,s,f,b,E){switch(s){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ae(t,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ae(t,""+f);break;case"className":co(t,"class",f);break;case"tabIndex":co(t,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":co(t,s,f);break;case"style":Ne(t,f,E);break;case"data":if(a!=="object"){co(t,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(s);break}f=Et(""+f),t.setAttribute(s,f);break;case"action":case"formAction":if(typeof f=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(s==="formAction"?(a!=="input"&&Wt(t,a,"name",b.name,b,null),Wt(t,a,"formEncType",b.formEncType,b,null),Wt(t,a,"formMethod",b.formMethod,b,null),Wt(t,a,"formTarget",b.formTarget,b,null)):(Wt(t,a,"encType",b.encType,b,null),Wt(t,a,"method",b.method,b,null),Wt(t,a,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(s);break}f=Et(""+f),t.setAttribute(s,f);break;case"onClick":f!=null&&(t.onclick=ec);break;case"onScroll":f!=null&&Ft("scroll",t);break;case"onScrollEnd":f!=null&&Ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(s=f.__html,s!=null){if(b.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":t.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){t.removeAttribute("xlink:href");break}s=Et(""+f),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(s,""+f):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":f===!0?t.setAttribute(s,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(s,f):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?t.setAttribute(s,f):t.removeAttribute(s);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?t.removeAttribute(s):t.setAttribute(s,f);break;case"popover":Ft("beforetoggle",t),Ft("toggle",t),lo(t,"popover",f);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":lo(t,"is",f);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ct.get(s)||s,lo(t,s,f))}}function ch(t,a,s,f,b,E){switch(s){case"style":Ne(t,f,E);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(s=f.__html,s!=null){if(b.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof f=="string"?ae(t,f):(typeof f=="number"||typeof f=="bigint")&&ae(t,""+f);break;case"onScroll":f!=null&&Ft("scroll",t);break;case"onScrollEnd":f!=null&&Ft("scrollend",t);break;case"onClick":f!=null&&(t.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ys.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(b=s.endsWith("Capture"),a=s.slice(2,b?s.length-7:void 0),E=t[It]||null,E=E!=null?E[s]:null,typeof E=="function"&&t.removeEventListener(a,E,b),typeof f=="function")){typeof E!="function"&&E!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,f,b);break e}s in t?t[s]=f:f===!0?t.setAttribute(s,""):lo(t,s,f)}}}function Br(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",t),Ft("load",t);var f=!1,b=!1,E;for(E in s)if(s.hasOwnProperty(E)){var K=s[E];if(K!=null)switch(E){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Wt(t,a,E,K,s,null)}}b&&Wt(t,a,"srcSet",s.srcSet,s,null),f&&Wt(t,a,"src",s.src,s,null);return;case"input":Ft("invalid",t);var J=E=K=b=null,ye=null,Ie=null;for(f in s)if(s.hasOwnProperty(f)){var Ye=s[f];if(Ye!=null)switch(f){case"name":b=Ye;break;case"type":K=Ye;break;case"checked":ye=Ye;break;case"defaultChecked":Ie=Ye;break;case"value":E=Ye;break;case"defaultValue":J=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,a));break;default:Wt(t,a,f,Ye,s,null)}}_e(t,E,J,ye,Ie,K,b,!1),te(t);return;case"select":Ft("invalid",t),f=K=E=null;for(b in s)if(s.hasOwnProperty(b)&&(J=s[b],J!=null))switch(b){case"value":E=J;break;case"defaultValue":K=J;break;case"multiple":f=J;default:Wt(t,a,b,J,s,null)}a=E,s=K,t.multiple=!!f,a!=null?Ue(t,!!f,a,!1):s!=null&&Ue(t,!!f,s,!0);return;case"textarea":Ft("invalid",t),E=b=f=null;for(K in s)if(s.hasOwnProperty(K)&&(J=s[K],J!=null))switch(K){case"value":f=J;break;case"defaultValue":b=J;break;case"children":E=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:Wt(t,a,K,J,s,null)}W(t,f,b,E),te(t);return;case"option":for(ye in s)if(s.hasOwnProperty(ye)&&(f=s[ye],f!=null))switch(ye){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Wt(t,a,ye,f,s,null)}return;case"dialog":Ft("beforetoggle",t),Ft("toggle",t),Ft("cancel",t),Ft("close",t);break;case"iframe":case"object":Ft("load",t);break;case"video":case"audio":for(f=0;f<Xs.length;f++)Ft(Xs[f],t);break;case"image":Ft("error",t),Ft("load",t);break;case"details":Ft("toggle",t);break;case"embed":case"source":case"link":Ft("error",t),Ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in s)if(s.hasOwnProperty(Ie)&&(f=s[Ie],f!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Wt(t,a,Ie,f,s,null)}return;default:if($e(a)){for(Ye in s)s.hasOwnProperty(Ye)&&(f=s[Ye],f!==void 0&&ch(t,a,Ye,f,s,void 0));return}}for(J in s)s.hasOwnProperty(J)&&(f=s[J],f!=null&&Wt(t,a,J,f,s,null))}function RC(t,a,s,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,K=null,J=null,ye=null,Ie=null,Ye=null;for(Ke in s){var Ze=s[Ke];if(s.hasOwnProperty(Ke)&&Ze!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":ye=Ze;default:f.hasOwnProperty(Ke)||Wt(t,a,Ke,null,f,Ze)}}for(var je in f){var Ke=f[je];if(Ze=s[je],f.hasOwnProperty(je)&&(Ke!=null||Ze!=null))switch(je){case"type":E=Ke;break;case"name":b=Ke;break;case"checked":Ie=Ke;break;case"defaultChecked":Ye=Ke;break;case"value":K=Ke;break;case"defaultValue":J=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,a));break;default:Ke!==Ze&&Wt(t,a,je,Ke,f,Ze)}}ve(t,K,J,ye,Ie,Ye,E,b);return;case"select":Ke=K=J=je=null;for(E in s)if(ye=s[E],s.hasOwnProperty(E)&&ye!=null)switch(E){case"value":break;case"multiple":Ke=ye;default:f.hasOwnProperty(E)||Wt(t,a,E,null,f,ye)}for(b in f)if(E=f[b],ye=s[b],f.hasOwnProperty(b)&&(E!=null||ye!=null))switch(b){case"value":je=E;break;case"defaultValue":J=E;break;case"multiple":K=E;default:E!==ye&&Wt(t,a,b,E,f,ye)}a=J,s=K,f=Ke,je!=null?Ue(t,!!s,je,!1):!!f!=!!s&&(a!=null?Ue(t,!!s,a,!0):Ue(t,!!s,s?[]:"",!1));return;case"textarea":Ke=je=null;for(J in s)if(b=s[J],s.hasOwnProperty(J)&&b!=null&&!f.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Wt(t,a,J,null,f,b)}for(K in f)if(b=f[K],E=s[K],f.hasOwnProperty(K)&&(b!=null||E!=null))switch(K){case"value":je=b;break;case"defaultValue":Ke=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==E&&Wt(t,a,K,b,f,E)}ze(t,je,Ke);return;case"option":for(var _t in s)if(je=s[_t],s.hasOwnProperty(_t)&&je!=null&&!f.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Wt(t,a,_t,null,f,je)}for(ye in f)if(je=f[ye],Ke=s[ye],f.hasOwnProperty(ye)&&je!==Ke&&(je!=null||Ke!=null))switch(ye){case"selected":t.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Wt(t,a,ye,je,f,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)je=s[yt],s.hasOwnProperty(yt)&&je!=null&&!f.hasOwnProperty(yt)&&Wt(t,a,yt,null,f,je);for(Ie in f)if(je=f[Ie],Ke=s[Ie],f.hasOwnProperty(Ie)&&je!==Ke&&(je!=null||Ke!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,a));break;default:Wt(t,a,Ie,je,f,Ke)}return;default:if($e(a)){for(var Gt in s)je=s[Gt],s.hasOwnProperty(Gt)&&je!==void 0&&!f.hasOwnProperty(Gt)&&ch(t,a,Gt,void 0,f,je);for(Ye in f)je=f[Ye],Ke=s[Ye],!f.hasOwnProperty(Ye)||je===Ke||je===void 0&&Ke===void 0||ch(t,a,Ye,je,f,Ke);return}}for(var Te in s)je=s[Te],s.hasOwnProperty(Te)&&je!=null&&!f.hasOwnProperty(Te)&&Wt(t,a,Te,null,f,je);for(Ze in f)je=f[Ze],Ke=s[Ze],!f.hasOwnProperty(Ze)||je===Ke||je==null&&Ke==null||Wt(t,a,Ze,je,f,Ke)}var fh=null,dh=null;function tc(t){return t.nodeType===9?t:t.ownerDocument}function fw(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dw(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function hh(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ph=null;function DC(){var t=window.event;return t&&t.type==="popstate"?t===ph?!1:(ph=t,!0):(ph=null,!1)}var hw=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(t){return pw.resolve(null).then(t).catch(OC)}:hw;function OC(t){setTimeout(function(){throw t})}function ha(t){return t==="head"}function gw(t,a){var s=a,f=0,b=0;do{var E=s.nextSibling;if(t.removeChild(s),E&&E.nodeType===8)if(s=E.data,s==="/$"){if(0<f&&8>f){s=f;var K=t.ownerDocument;if(s&1&&Zs(K.documentElement),s&2&&Zs(K.body),s&4)for(s=K.head,Zs(s),K=s.firstChild;K;){var J=K.nextSibling,ye=K.nodeName;K[Un]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&K.rel.toLowerCase()==="stylesheet"||s.removeChild(K),K=J}}if(b===0){t.removeChild(E),su(a);return}b--}else s==="$"||s==="$?"||s==="$!"?b++:f=s.charCodeAt(0)-48;else f=0;s=E}while(s);su(a)}function gh(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gh(s),Ln(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function NC(t,a,s,f){for(;t.nodeType===1;){var b=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(f){if(!t[Un])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(E=t.getAttribute("rel"),E==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(E!==b.rel||t.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||t.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||t.getAttribute("title")!==(b.title==null?null:b.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(E=t.getAttribute("src"),(E!==(b.src==null?null:b.src)||t.getAttribute("type")!==(b.type==null?null:b.type)||t.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&t.getAttribute("name")===E)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function MC(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gn(t.nextSibling),t===null))return null;return t}function vh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function IC(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var f=function(){a(),s.removeEventListener("DOMContentLoaded",f)};s.addEventListener("DOMContentLoaded",f),t._reactRetry=f}}function Gn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var yh=null;function vw(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function yw(t,a,s){switch(a=tc(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Zs(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ln(t)}var On=new Map,mw=new Set;function rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=Oe.d;Oe.d={f:kC,r:PC,D:UC,C:LC,L:BC,m:jC,X:HC,S:qC,M:KC};function kC(){var t=ki.f(),a=Wl();return t||a}function PC(t){var a=tn(t);a!==null&&a.tag===5&&a.type==="form"?Lb(a):ki.r(t)}var Bo=typeof document>"u"?null:document;function bw(t,a,s){var f=Bo;if(f&&typeof a=="string"&&a){var b=oe(a);b='link[rel="'+t+'"][href="'+b+'"]',typeof s=="string"&&(b+='[crossorigin="'+s+'"]'),mw.has(b)||(mw.add(b),t={rel:t,crossOrigin:s,href:a},f.querySelector(b)===null&&(a=f.createElement("link"),Br(a,"link",t),wt(a),f.head.appendChild(a)))}}function UC(t){ki.D(t),bw("dns-prefetch",t,null)}function LC(t,a){ki.C(t,a),bw("preconnect",t,a)}function BC(t,a,s){ki.L(t,a,s);var f=Bo;if(f&&t&&a){var b='link[rel="preload"][as="'+oe(a)+'"]';a==="image"&&s&&s.imageSrcSet?(b+='[imagesrcset="'+oe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(b+='[imagesizes="'+oe(s.imageSizes)+'"]')):b+='[href="'+oe(t)+'"]';var E=b;switch(a){case"style":E=jo(t);break;case"script":E=qo(t)}On.has(E)||(t=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),On.set(E,t),f.querySelector(b)!==null||a==="style"&&f.querySelector(eu(E))||a==="script"&&f.querySelector(tu(E))||(a=f.createElement("link"),Br(a,"link",t),wt(a),f.head.appendChild(a)))}}function jC(t,a){ki.m(t,a);var s=Bo;if(s&&t){var f=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+oe(f)+'"][href="'+oe(t)+'"]',E=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=qo(t)}if(!On.has(E)&&(t=v({rel:"modulepreload",href:t},a),On.set(E,t),s.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(tu(E)))return}f=s.createElement("link"),Br(f,"link",t),wt(f),s.head.appendChild(f)}}}function qC(t,a,s){ki.S(t,a,s);var f=Bo;if(f&&t){var b=Mt(f).hoistableStyles,E=jo(t);a=a||"default";var K=b.get(E);if(!K){var J={loading:0,preload:null};if(K=f.querySelector(eu(E)))J.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},s),(s=On.get(E))&&mh(t,s);var ye=K=f.createElement("link");wt(ye),Br(ye,"link",t),ye._p=new Promise(function(Ie,Ye){ye.onload=Ie,ye.onerror=Ye}),ye.addEventListener("load",function(){J.loading|=1}),ye.addEventListener("error",function(){J.loading|=2}),J.loading|=4,nc(K,a,f)}K={type:"stylesheet",instance:K,count:1,state:J},b.set(E,K)}}}function HC(t,a){ki.X(t,a);var s=Bo;if(s&&t){var f=Mt(s).hoistableScripts,b=qo(t),E=f.get(b);E||(E=s.querySelector(tu(b)),E||(t=v({src:t,async:!0},a),(a=On.get(b))&&bh(t,a),E=s.createElement("script"),wt(E),Br(E,"link",t),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(b,E))}}function KC(t,a){ki.M(t,a);var s=Bo;if(s&&t){var f=Mt(s).hoistableScripts,b=qo(t),E=f.get(b);E||(E=s.querySelector(tu(b)),E||(t=v({src:t,async:!0,type:"module"},a),(a=On.get(b))&&bh(t,a),E=s.createElement("script"),wt(E),Br(E,"link",t),s.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},f.set(b,E))}}function _w(t,a,s,f){var b=(b=rt.current)?rc(b):null;if(!b)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=jo(s.href),s=Mt(b).hoistableStyles,f=s.get(a),f||(f={type:"style",instance:null,count:0,state:null},s.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=jo(s.href);var E=Mt(b).hoistableStyles,K=E.get(t);if(K||(b=b.ownerDocument||b,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(t,K),(E=b.querySelector(eu(t)))&&!E._p&&(K.instance=E,K.state.loading=5),On.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(t,s),E||zC(b,t,s,K.state))),a&&f===null)throw Error(i(528,""));return K}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=qo(s),s=Mt(b).hoistableScripts,f=s.get(a),f||(f={type:"script",instance:null,count:0,state:null},s.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function jo(t){return'href="'+oe(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function ww(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function zC(t,a,s,f){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=t.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Br(a,"link",s),wt(a),t.head.appendChild(a))}function qo(t){return'[src="'+oe(t)+'"]'}function tu(t){return"script[async]"+t}function Sw(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var f=t.querySelector('style[data-href~="'+oe(s.href)+'"]');if(f)return a.instance=f,wt(f),f;var b=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return f=(t.ownerDocument||t).createElement("style"),wt(f),Br(f,"style",b),nc(f,s.precedence,t),a.instance=f;case"stylesheet":b=jo(s.href);var E=t.querySelector(eu(b));if(E)return a.state.loading|=4,a.instance=E,wt(E),E;f=ww(s),(b=On.get(b))&&mh(f,b),E=(t.ownerDocument||t).createElement("link"),wt(E);var K=E;return K._p=new Promise(function(J,ye){K.onload=J,K.onerror=ye}),Br(E,"link",f),a.state.loading|=4,nc(E,s.precedence,t),a.instance=E;case"script":return E=qo(s.src),(b=t.querySelector(tu(E)))?(a.instance=b,wt(b),b):(f=s,(b=On.get(E))&&(f=v({},s),bh(f,b)),t=t.ownerDocument||t,b=t.createElement("script"),wt(b),Br(b,"link",f),t.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,nc(f,s.precedence,t));return a.instance}function nc(t,a,s){for(var f=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,E=b,K=0;K<f.length;K++){var J=f[K];if(J.dataset.precedence===a)E=J;else if(E!==b)break}E?E.parentNode.insertBefore(t,E.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function mh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function bh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var ic=null;function Ew(t,a,s){if(ic===null){var f=new Map,b=ic=new Map;b.set(s,f)}else b=ic,f=b.get(s),f||(f=new Map,b.set(s,f));if(f.has(t))return f;for(f.set(t,null),s=s.getElementsByTagName(t),b=0;b<s.length;b++){var E=s[b];if(!(E[Un]||E[ut]||t==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var K=E.getAttribute(a)||"";K=t+K;var J=f.get(K);J?J.push(E):f.set(K,[E])}}return f}function xw(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function VC(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Aw(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ru=null;function $C(){}function WC(t,a,s){if(ru===null)throw Error(i(475));var f=ru;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var b=jo(s.href),E=t.querySelector(eu(b));if(E){t=E._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(f.count++,f=ac.bind(f),t.then(f,f)),a.state.loading|=4,a.instance=E,wt(E);return}E=t.ownerDocument||t,s=ww(s),(b=On.get(b))&&mh(s,b),E=E.createElement("link"),wt(E);var K=E;K._p=new Promise(function(J,ye){K.onload=J,K.onerror=ye}),Br(E,"link",s),a.instance=E}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=ac.bind(f),t.addEventListener("load",a),t.addEventListener("error",a))}}function GC(){if(ru===null)throw Error(i(475));var t=ru;return t.stylesheets&&t.count===0&&_h(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&_h(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oc=null;function _h(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oc=new Map,a.forEach(YC,t),oc=null,ac.call(t))}function YC(t,a){if(!(a.state.loading&4)){var s=oc.get(t);if(s)var f=s.get(null);else{s=new Map,oc.set(t,s);for(var b=t.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var K=b[E];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(s.set(K.dataset.precedence,K),f=K)}f&&s.set(null,f)}b=a.instance,K=b.getAttribute("data-precedence"),E=s.get(K)||f,E===f&&s.set(null,b),s.set(K,b),this.count++,f=ac.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),E?E.parentNode.insertBefore(b,E.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(b,t.firstChild)),a.state.loading|=4}}var nu={$$typeof:C,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function JC(t,a,s,f,b,E,K,J){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Tw(t,a,s,f,b,E,K,J,ye,Ie,Ye,Ze){return t=new JC(t,a,s,K,J,ye,Ie,Ze),a=1,E===!0&&(a|=24),E=vn(3,null,null,a),t.current=E,E.stateNode=t,a=td(),a.refCount++,t.pooledCache=a,a.refCount++,E.memoizedState={element:f,isDehydrated:s,cache:a},ad(E),t}function Rw(t){return t?(t=mo,t):mo}function Dw(t,a,s,f,b,E){b=Rw(b),f.context===null?f.context=b:f.pendingContext=b,f=ea(a),f.payload={element:s},E=E===void 0?null:E,E!==null&&(f.callback=E),s=ta(t,f,a),s!==null&&(wn(s,t,a),Ms(s,t,a))}function Cw(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function wh(t,a){Cw(t,a),(t=t.alternate)&&Cw(t,a)}function Fw(t){if(t.tag===13){var a=yo(t,67108864);a!==null&&wn(a,t,67108864),wh(t,67108864)}}var sc=!0;function XC(t,a,s,f){var b=ge.T;ge.T=null;var E=Oe.p;try{Oe.p=2,Sh(t,a,s,f)}finally{Oe.p=E,ge.T=b}}function QC(t,a,s,f){var b=ge.T;ge.T=null;var E=Oe.p;try{Oe.p=8,Sh(t,a,s,f)}finally{Oe.p=E,ge.T=b}}function Sh(t,a,s,f){if(sc){var b=Eh(f);if(b===null)lh(t,a,f,uc,s),Nw(t,f);else if(eF(b,t,a,s,f))f.stopPropagation();else if(Nw(t,f),a&4&&-1<ZC.indexOf(t)){for(;b!==null;){var E=tn(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var K=Nt(E.pendingLanes);if(K!==0){var J=E;for(J.pendingLanes|=2,J.entangledLanes|=2;K;){var ye=1<<31-P(K);J.entanglements[1]|=ye,K&=~ye}oi(E),(Ht&6)===0&&(Vl=ue()+500,Js(0))}}break;case 13:J=yo(E,2),J!==null&&wn(J,E,2),Wl(),wh(E,2)}if(E=Eh(f),E===null&&lh(t,a,f,uc,s),E===b)break;b=E}b!==null&&f.stopPropagation()}else lh(t,a,f,null,s)}}function Eh(t){return t=ht(t),xh(t)}var uc=null;function xh(t){if(uc=null,t=pn(t),t!==null){var a=u(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=l(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return uc=t,null}function Ow(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case he:return 2;case Le:return 8;case Ge:case qe:return 32;case at:return 268435456;default:return 32}default:return 32}}var Ah=!1,pa=null,ga=null,va=null,iu=new Map,au=new Map,ya=[],ZC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nw(t,a){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":iu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(a.pointerId)}}function ou(t,a,s,f,b,E){return t===null||t.nativeEvent!==E?(t={blockedOn:a,domEventName:s,eventSystemFlags:f,nativeEvent:E,targetContainers:[b]},a!==null&&(a=tn(a),a!==null&&Fw(a)),t):(t.eventSystemFlags|=f,a=t.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),t)}function eF(t,a,s,f,b){switch(a){case"focusin":return pa=ou(pa,t,a,s,f,b),!0;case"dragenter":return ga=ou(ga,t,a,s,f,b),!0;case"mouseover":return va=ou(va,t,a,s,f,b),!0;case"pointerover":var E=b.pointerId;return iu.set(E,ou(iu.get(E)||null,t,a,s,f,b)),!0;case"gotpointercapture":return E=b.pointerId,au.set(E,ou(au.get(E)||null,t,a,s,f,b)),!0}return!1}function Mw(t){var a=pn(t.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=l(s),a!==null){t.blockedOn=a,nt(t.priority,function(){if(s.tag===13){var f=_n();f=yi(f);var b=yo(s,f);b!==null&&wn(b,s,f),wh(s,f)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Eh(t.nativeEvent);if(s===null){s=t.nativeEvent;var f=new s.constructor(s.type,s);lt=f,s.target.dispatchEvent(f),lt=null}else return a=tn(s),a!==null&&Fw(a),t.blockedOn=s,!1;a.shift()}return!0}function Iw(t,a,s){lc(t)&&s.delete(a)}function tF(){Ah=!1,pa!==null&&lc(pa)&&(pa=null),ga!==null&&lc(ga)&&(ga=null),va!==null&&lc(va)&&(va=null),iu.forEach(Iw),au.forEach(Iw)}function cc(t,a){t.blockedOn===a&&(t.blockedOn=null,Ah||(Ah=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tF)))}var fc=null;function kw(t){fc!==t&&(fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===t&&(fc=null);for(var a=0;a<t.length;a+=3){var s=t[a],f=t[a+1],b=t[a+2];if(typeof f!="function"){if(xh(f||s)===null)continue;break}var E=tn(s);E!==null&&(t.splice(a,3),a-=3,xd(E,{pending:!0,data:b,method:s.method,action:f},f,b))}}))}function su(t){function a(ye){return cc(ye,t)}pa!==null&&cc(pa,t),ga!==null&&cc(ga,t),va!==null&&cc(va,t),iu.forEach(a),au.forEach(a);for(var s=0;s<ya.length;s++){var f=ya[s];f.blockedOn===t&&(f.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)Mw(s),s.blockedOn===null&&ya.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(f=0;f<s.length;f+=3){var b=s[f],E=s[f+1],K=b[It]||null;if(typeof E=="function")K||kw(s);else if(K){var J=null;if(E&&E.hasAttribute("formAction")){if(b=E,K=E[It]||null)J=K.formAction;else if(xh(b)!==null)continue}else J=K.action;typeof J=="function"?s[f+1]=J:(s.splice(f,3),f-=3),kw(s)}}}function Th(t){this._internalRoot=t}dc.prototype.render=Th.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,f=_n();Dw(s,f,t,a,null,null)},dc.prototype.unmount=Th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Dw(t.current,2,null,t,null,null),Wl(),a[nr]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var a=de();t={blockedOn:null,target:t,priority:a};for(var s=0;s<ya.length&&a!==0&&a<ya[s].priority;s++);ya.splice(s,0,t),s===0&&Mw(t)}};var Pw=e.version;if(Pw!=="19.1.0")throw Error(i(527,Pw,"19.1.0"));Oe.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(a),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var rF={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{gt=hc.inject(rF),V=hc}catch{}}return lu.createRoot=function(t,a){if(!o(t))throw Error(i(299));var s=!1,f="",b=Qb,E=Zb,K=e_,J=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(K=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(J=a.unstable_transitionCallbacks)),a=Tw(t,1,!1,null,null,s,f,b,E,K,J,null),t[nr]=a.current,uh(t),new Th(a)},lu.hydrateRoot=function(t,a,s){if(!o(t))throw Error(i(299));var f=!1,b="",E=Qb,K=Zb,J=e_,ye=null,Ie=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(b=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(K=s.onCaughtError),s.onRecoverableError!==void 0&&(J=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(ye=s.unstable_transitionCallbacks),s.formState!==void 0&&(Ie=s.formState)),a=Tw(t,1,!0,a,s??null,f,b,E,K,J,ye,Ie),a.context=Rw(null),s=a.current,f=_n(),f=yi(f),b=ea(f),b.callback=null,ta(s,b,f),s=f,a.current.lanes=s,hn(a,s),oi(a),t[nr]=a.current,uh(t),new dc(a)},lu.version="19.1.0",lu}var $w;function hF(){if($w)return Ch.exports;$w=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ch.exports=dF(),Ch.exports}var pF=hF();const gF=zr(pF),as=crypto,_m=r=>r instanceof CryptoKey,di=new TextEncoder,Xo=new TextDecoder;function CA(...r){const e=r.reduce((o,{length:u})=>o+u,0),n=new Uint8Array(e);let i=0;for(const o of r)n.set(o,i),i+=o.length;return n}const vF=r=>{let e=r;typeof e=="string"&&(e=di.encode(e));const n=32768,i=[];for(let o=0;o<e.length;o+=n)i.push(String.fromCharCode.apply(null,e.subarray(o,o+n)));return btoa(i.join(""))},Cc=r=>vF(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),yF=r=>{const e=atob(r),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},Ya=r=>{let e=r;e instanceof Uint8Array&&(e=Xo.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return yF(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Hr extends Error{constructor(e,n){var i;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(i=Error.captureStackTrace)==null||i.call(Error,this,this.constructor)}}Hr.code="ERR_JOSE_GENERIC";class Yn extends Hr{constructor(e,n,i="unspecified",o="unspecified"){super(e,{cause:{claim:i,reason:o,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=i,this.reason=o,this.payload=n}}Yn.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class Xy extends Hr{constructor(e,n,i="unspecified",o="unspecified"){super(e,{cause:{claim:i,reason:o,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=i,this.reason=o,this.payload=n}}Xy.code="ERR_JWT_EXPIRED";class FA extends Hr{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}FA.code="ERR_JOSE_ALG_NOT_ALLOWED";class sn extends Hr{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}sn.code="ERR_JOSE_NOT_SUPPORTED";class mF extends Hr{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}mF.code="ERR_JWE_DECRYPTION_FAILED";class bF extends Hr{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}bF.code="ERR_JWE_INVALID";class cr extends Hr{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}cr.code="ERR_JWS_INVALID";class ef extends Hr{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}ef.code="ERR_JWT_INVALID";class _F extends Hr{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}_F.code="ERR_JWK_INVALID";class wm extends Hr{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}wm.code="ERR_JWKS_INVALID";class Sm extends Hr{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}Sm.code="ERR_JWKS_NO_MATCHING_KEY";class OA extends Hr{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}OA.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class NA extends Hr{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}NA.code="ERR_JWKS_TIMEOUT";class MA extends Hr{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}MA.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function si(r,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${r}`)}function cu(r,e){return r.name===e}function Mh(r){return parseInt(r.name.slice(4),10)}function wF(r){switch(r){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function SF(r,e){if(e.length&&!e.some(n=>r.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const i=e.pop();n+=`one of ${e.join(", ")}, or ${i}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function EF(r,e,...n){switch(e){case"HS256":case"HS384":case"HS512":{if(!cu(r.algorithm,"HMAC"))throw si("HMAC");const i=parseInt(e.slice(2),10);if(Mh(r.algorithm.hash)!==i)throw si(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!cu(r.algorithm,"RSASSA-PKCS1-v1_5"))throw si("RSASSA-PKCS1-v1_5");const i=parseInt(e.slice(2),10);if(Mh(r.algorithm.hash)!==i)throw si(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!cu(r.algorithm,"RSA-PSS"))throw si("RSA-PSS");const i=parseInt(e.slice(2),10);if(Mh(r.algorithm.hash)!==i)throw si(`SHA-${i}`,"algorithm.hash");break}case"EdDSA":{if(r.algorithm.name!=="Ed25519"&&r.algorithm.name!=="Ed448")throw si("Ed25519 or Ed448");break}case"Ed25519":{if(!cu(r.algorithm,"Ed25519"))throw si("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!cu(r.algorithm,"ECDSA"))throw si("ECDSA");const i=wF(e);if(r.algorithm.namedCurve!==i)throw si(i,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}SF(r,n)}function IA(r,e,...n){var i;if(n=n.filter(Boolean),n.length>2){const o=n.pop();r+=`one of type ${n.join(", ")}, or ${o}.`}else n.length===2?r+=`one of type ${n[0]} or ${n[1]}.`:r+=`of type ${n[0]}.`;return e==null?r+=` Received ${e}`:typeof e=="function"&&e.name?r+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(i=e.constructor)!=null&&i.name&&(r+=` Received an instance of ${e.constructor.name}`),r}const Qy=(r,...e)=>IA("Key must be ",r,...e);function kA(r,e,...n){return IA(`Key for the ${r} algorithm must be `,e,...n)}const PA=r=>_m(r)?!0:(r==null?void 0:r[Symbol.toStringTag])==="KeyObject",Mu=["CryptoKey"],UA=(...r)=>{const e=r.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const i of e){const o=Object.keys(i);if(!n||n.size===0){n=new Set(o);continue}for(const u of o){if(n.has(u))return!1;n.add(u)}}return!0};function xF(r){return typeof r=="object"&&r!==null}function Li(r){if(!xF(r)||Object.prototype.toString.call(r)!=="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}const LA=(r,e)=>{if(r.startsWith("RS")||r.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${r} requires key modulusLength to be 2048 bits or larger`)}};function os(r){return Li(r)&&typeof r.kty=="string"}function AF(r){return r.kty!=="oct"&&typeof r.d=="string"}function TF(r){return r.kty!=="oct"&&typeof r.d>"u"}function RF(r){return os(r)&&r.kty==="oct"&&typeof r.k=="string"}function DF(r){let e,n;switch(r.kty){case"RSA":{switch(r.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${r.alg.slice(-3)}`},n=r.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.alg.slice(-3)}`},n=r.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(r.alg.slice(-3),10)||1}`},n=r.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new sn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(r.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=r.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=r.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:r.crv},n=r.d?["deriveBits"]:[];break;default:throw new sn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(r.alg){case"Ed25519":e={name:"Ed25519"},n=r.d?["sign"]:["verify"];break;case"EdDSA":e={name:r.crv},n=r.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:r.crv},n=r.d?["deriveBits"]:[];break;default:throw new sn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new sn('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const BA=async r=>{if(!r.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=DF(r),i=[e,r.ext??!1,r.key_ops??n],o={...r};return delete o.alg,delete o.use,as.subtle.importKey("jwk",o,...i)},jA=r=>Ya(r);let Ho,Ko;const qA=r=>(r==null?void 0:r[Symbol.toStringTag])==="KeyObject",Kc=async(r,e,n,i,o=!1)=>{let u=r.get(e);if(u!=null&&u[i])return u[i];const l=await BA({...n,alg:i});return o&&Object.freeze(e),u?u[i]=l:r.set(e,{[i]:l}),l},CF=(r,e)=>{if(qA(r)){let n=r.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?jA(n.k):(Ko||(Ko=new WeakMap),Kc(Ko,r,n,e))}return os(r)?r.k?Ya(r.k):(Ko||(Ko=new WeakMap),Kc(Ko,r,r,e,!0)):r},FF=(r,e)=>{if(qA(r)){let n=r.export({format:"jwk"});return n.k?jA(n.k):(Ho||(Ho=new WeakMap),Kc(Ho,r,n,e))}return os(r)?r.k?Ya(r.k):(Ho||(Ho=new WeakMap),Kc(Ho,r,r,e,!0)):r},Ww={normalizePublicKey:CF,normalizePrivateKey:FF};async function HA(r,e){if(!Li(r))throw new TypeError("JWK must be an object");switch(e||(e=r.alg),r.kty){case"oct":if(typeof r.k!="string"||!r.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Ya(r.k);case"RSA":if("oth"in r&&r.oth!==void 0)throw new sn('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return BA({...r,alg:e});default:throw new sn('Unsupported "kty" (Key Type) Parameter value')}}const $o=r=>r==null?void 0:r[Symbol.toStringTag],Zy=(r,e,n)=>{var i,o;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((o=(i=e.key_ops).includes)==null?void 0:o.call(i,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==r)throw new TypeError(`Invalid key for this operation, when present its alg must be ${r}`);return!0},OF=(r,e,n,i)=>{if(!(e instanceof Uint8Array)){if(i&&os(e)){if(RF(e)&&Zy(r,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!PA(e))throw new TypeError(kA(r,e,...Mu,"Uint8Array",i?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${$o(e)} instances for symmetric algorithms must be of type "secret"`)}},NF=(r,e,n,i)=>{if(i&&os(e))switch(n){case"sign":if(AF(e)&&Zy(r,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(TF(e)&&Zy(r,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!PA(e))throw new TypeError(kA(r,e,...Mu,i?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${$o(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${$o(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${$o(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${$o(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${$o(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function KA(r,e,n,i){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?OF(e,n,i,r):NF(e,n,i,r)}KA.bind(void 0,!1);const em=KA.bind(void 0,!0);function zA(r,e,n,i,o){if(o.crit!==void 0&&(i==null?void 0:i.crit)===void 0)throw new r('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(l=>typeof l!="string"||l.length===0))throw new r('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let u;n!==void 0?u=new Map([...Object.entries(n),...e.entries()]):u=e;for(const l of i.crit){if(!u.has(l))throw new sn(`Extension Header Parameter "${l}" is not recognized`);if(o[l]===void 0)throw new r(`Extension Header Parameter "${l}" is missing`);if(u.get(l)&&i[l]===void 0)throw new r(`Extension Header Parameter "${l}" MUST be integrity protected`)}return new Set(i.crit)}const MF=(r,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${r}" option must be an array of strings`);if(e)return new Set(e)},IF=async r=>{if(r instanceof Uint8Array)return{kty:"oct",k:Cc(r)};if(!_m(r))throw new TypeError(Qy(r,...Mu,"Uint8Array"));if(!r.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:i,use:o,...u}=await as.subtle.exportKey("jwk",r);return u};async function kF(r){return IF(r)}function VA(r,e){const n=`SHA-${r.slice(-3)}`;switch(r){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:r.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:e.name};default:throw new sn(`alg ${r} is not supported either by JOSE or your javascript runtime`)}}async function $A(r,e,n){if(n==="sign"&&(e=await Ww.normalizePrivateKey(e,r)),n==="verify"&&(e=await Ww.normalizePublicKey(e,r)),_m(e))return EF(e,r,n),e;if(e instanceof Uint8Array){if(!r.startsWith("HS"))throw new TypeError(Qy(e,...Mu));return as.subtle.importKey("raw",e,{hash:`SHA-${r.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(Qy(e,...Mu,"Uint8Array","JSON Web Key"))}const PF=async(r,e,n,i)=>{const o=await $A(r,e,"verify");LA(r,o);const u=VA(r,o.algorithm);try{return await as.subtle.verify(u,o,n,i)}catch{return!1}};async function UF(r,e,n){if(!Li(r))throw new cr("Flattened JWS must be an object");if(r.protected===void 0&&r.header===void 0)throw new cr('Flattened JWS must have either of the "protected" or "header" members');if(r.protected!==void 0&&typeof r.protected!="string")throw new cr("JWS Protected Header incorrect type");if(r.payload===void 0)throw new cr("JWS Payload missing");if(typeof r.signature!="string")throw new cr("JWS Signature missing or incorrect type");if(r.header!==void 0&&!Li(r.header))throw new cr("JWS Unprotected Header incorrect type");let i={};if(r.protected)try{const S=Ya(r.protected);i=JSON.parse(Xo.decode(S))}catch{throw new cr("JWS Protected Header is invalid")}if(!UA(i,r.header))throw new cr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...i,...r.header},u=zA(cr,new Map([["b64",!0]]),n==null?void 0:n.crit,i,o);let l=!0;if(u.has("b64")&&(l=i.b64,typeof l!="boolean"))throw new cr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=o;if(typeof c!="string"||!c)throw new cr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const g=n&&MF("algorithms",n.algorithms);if(g&&!g.has(c))throw new FA('"alg" (Algorithm) Header Parameter value not allowed');if(l){if(typeof r.payload!="string")throw new cr("JWS Payload must be a string")}else if(typeof r.payload!="string"&&!(r.payload instanceof Uint8Array))throw new cr("JWS Payload must be a string or an Uint8Array instance");let p=!1;typeof e=="function"?(e=await e(i,r),p=!0,em(c,e,"verify"),os(e)&&(e=await HA(e,c))):em(c,e,"verify");const v=CA(di.encode(r.protected??""),di.encode("."),typeof r.payload=="string"?di.encode(r.payload):r.payload);let y;try{y=Ya(r.signature)}catch{throw new cr("Failed to base64url decode the signature")}if(!await PF(c,e,y,v))throw new MA;let A;if(l)try{A=Ya(r.payload)}catch{throw new cr("Failed to base64url decode the payload")}else typeof r.payload=="string"?A=di.encode(r.payload):A=r.payload;const x={payload:A};return r.protected!==void 0&&(x.protectedHeader=i),r.header!==void 0&&(x.unprotectedHeader=r.header),p?{...x,key:e}:x}async function LF(r,e,n){if(r instanceof Uint8Array&&(r=Xo.decode(r)),typeof r!="string")throw new cr("Compact JWS must be a string or Uint8Array");const{0:i,1:o,2:u,length:l}=r.split(".");if(l!==3)throw new cr("Invalid Compact JWS");const c=await UF({payload:o,protected:i,signature:u},e,n),g={payload:c.payload,protectedHeader:c.protectedHeader};return typeof e=="function"?{...g,key:c.key}:g}const _a=r=>Math.floor(r.getTime()/1e3),WA=60,GA=WA*60,Em=GA*24,BF=Em*7,jF=Em*365.25,qF=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Du=r=>{const e=qF.exec(r);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),i=e[3].toLowerCase();let o;switch(i){case"sec":case"secs":case"second":case"seconds":case"s":o=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":o=Math.round(n*WA);break;case"hour":case"hours":case"hr":case"hrs":case"h":o=Math.round(n*GA);break;case"day":case"days":case"d":o=Math.round(n*Em);break;case"week":case"weeks":case"w":o=Math.round(n*BF);break;default:o=Math.round(n*jF);break}return e[1]==="-"||e[4]==="ago"?-o:o},Gw=r=>r.toLowerCase().replace(/^application\//,""),HF=(r,e)=>typeof r=="string"?e.includes(r):Array.isArray(r)?e.some(Set.prototype.has.bind(new Set(r))):!1,KF=(r,e,n={})=>{let i;try{i=JSON.parse(Xo.decode(e))}catch{}if(!Li(i))throw new ef("JWT Claims Set must be a top-level JSON object");const{typ:o}=n;if(o&&(typeof r.typ!="string"||Gw(r.typ)!==Gw(o)))throw new Yn('unexpected "typ" JWT header value',i,"typ","check_failed");const{requiredClaims:u=[],issuer:l,subject:c,audience:g,maxTokenAge:p}=n,v=[...u];p!==void 0&&v.push("iat"),g!==void 0&&v.push("aud"),c!==void 0&&v.push("sub"),l!==void 0&&v.push("iss");for(const x of new Set(v.reverse()))if(!(x in i))throw new Yn(`missing required "${x}" claim`,i,x,"missing");if(l&&!(Array.isArray(l)?l:[l]).includes(i.iss))throw new Yn('unexpected "iss" claim value',i,"iss","check_failed");if(c&&i.sub!==c)throw new Yn('unexpected "sub" claim value',i,"sub","check_failed");if(g&&!HF(i.aud,typeof g=="string"?[g]:g))throw new Yn('unexpected "aud" claim value',i,"aud","check_failed");let y;switch(typeof n.clockTolerance){case"string":y=Du(n.clockTolerance);break;case"number":y=n.clockTolerance;break;case"undefined":y=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:_}=n,A=_a(_||new Date);if((i.iat!==void 0||p)&&typeof i.iat!="number")throw new Yn('"iat" claim must be a number',i,"iat","invalid");if(i.nbf!==void 0){if(typeof i.nbf!="number")throw new Yn('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>A+y)throw new Yn('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(i.exp!==void 0){if(typeof i.exp!="number")throw new Yn('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=A-y)throw new Xy('"exp" claim timestamp check failed',i,"exp","check_failed")}if(p){const x=A-i.iat,S=typeof p=="number"?p:Du(p);if(x-y>S)throw new Xy('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(x<0-y)throw new Yn('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i};async function zF(r,e,n){var l;const i=await LF(r,e,n);if((l=i.protectedHeader.crit)!=null&&l.includes("b64")&&i.protectedHeader.b64===!1)throw new ef("JWTs MUST NOT use unencoded payload");const u={payload:KF(i.protectedHeader,i.payload,n),protectedHeader:i.protectedHeader};return typeof e=="function"?{...u,key:i.key}:u}const VF=async(r,e,n)=>{const i=await $A(r,e,"sign");LA(r,i);const o=await as.subtle.sign(VA(r,i.algorithm),i,n);return new Uint8Array(o)};class $F{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new cr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!UA(this._protectedHeader,this._unprotectedHeader))throw new cr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader},o=zA(cr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,i);let u=!0;if(o.has("b64")&&(u=this._protectedHeader.b64,typeof u!="boolean"))throw new cr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:l}=i;if(typeof l!="string"||!l)throw new cr('JWS "alg" (Algorithm) Header Parameter missing or invalid');em(l,e,"sign");let c=this._payload;u&&(c=di.encode(Cc(c)));let g;this._protectedHeader?g=di.encode(Cc(JSON.stringify(this._protectedHeader))):g=di.encode("");const p=CA(g,di.encode("."),c),v=await VF(l,e,p),y={signature:Cc(v),payload:""};return u&&(y.payload=Xo.decode(c)),this._unprotectedHeader&&(y.header=this._unprotectedHeader),this._protectedHeader&&(y.protected=Xo.decode(g)),y}}class WF{constructor(e){this._flattened=new $F(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){const i=await this._flattened.sign(e,n);if(i.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}function Va(r,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${r} input`);return e}class GF{constructor(e={}){if(!Li(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:Va("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Va("setNotBefore",_a(e))}:this._payload={...this._payload,nbf:_a(new Date)+Du(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:Va("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Va("setExpirationTime",_a(e))}:this._payload={...this._payload,exp:_a(new Date)+Du(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:_a(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Va("setIssuedAt",_a(e))}:typeof e=="string"?this._payload={...this._payload,iat:Va("setIssuedAt",_a(new Date)+Du(e))}:this._payload={...this._payload,iat:Va("setIssuedAt",e)},this}}class YF extends GF{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){var o;const i=new WF(di.encode(JSON.stringify(this._payload)));if(i.setProtectedHeader(this._protectedHeader),Array.isArray((o=this._protectedHeader)==null?void 0:o.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new ef("JWTs MUST NOT use unencoded payload");return i.sign(e,n)}}function JF(r){switch(typeof r=="string"&&r.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new sn('Unsupported "alg" value for a JSON Web Key Set')}}function XF(r){return r&&typeof r=="object"&&Array.isArray(r.keys)&&r.keys.every(QF)}function QF(r){return Li(r)}function YA(r){return typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r))}class ZF{constructor(e){if(this._cached=new WeakMap,!XF(e))throw new wm("JSON Web Key Set malformed");this._jwks=YA(e)}async getKey(e,n){const{alg:i,kid:o}={...e,...n==null?void 0:n.header},u=JF(i),l=this._jwks.keys.filter(p=>{let v=u===p.kty;if(v&&typeof o=="string"&&(v=o===p.kid),v&&typeof p.alg=="string"&&(v=i===p.alg),v&&typeof p.use=="string"&&(v=p.use==="sig"),v&&Array.isArray(p.key_ops)&&(v=p.key_ops.includes("verify")),v)switch(i){case"ES256":v=p.crv==="P-256";break;case"ES256K":v=p.crv==="secp256k1";break;case"ES384":v=p.crv==="P-384";break;case"ES512":v=p.crv==="P-521";break;case"Ed25519":v=p.crv==="Ed25519";break;case"EdDSA":v=p.crv==="Ed25519"||p.crv==="Ed448";break}return v}),{0:c,length:g}=l;if(g===0)throw new Sm;if(g!==1){const p=new OA,{_cached:v}=this;throw p[Symbol.asyncIterator]=async function*(){for(const y of l)try{yield await Yw(v,y,i)}catch{}},p}return Yw(this._cached,c,i)}}async function Yw(r,e,n){const i=r.get(e)||r.set(e,{}).get(e);if(i[n]===void 0){const o=await HA({...e,ext:!0},n);if(o instanceof Uint8Array||o.type!=="public")throw new wm("JSON Web Key Set members must be public keys");i[n]=o}return i[n]}function Jw(r){const e=new ZF(r),n=async(i,o)=>e.getKey(i,o);return Object.defineProperties(n,{jwks:{value:()=>YA(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const eO=async(r,e,n)=>{let i,o,u=!1;typeof AbortController=="function"&&(i=new AbortController,o=setTimeout(()=>{u=!0,i.abort()},e));const l=await fetch(r.href,{signal:i?i.signal:void 0,redirect:"manual",headers:n.headers}).catch(c=>{throw u?new NA:c});if(o!==void 0&&clearTimeout(o),l.status!==200)throw new Hr("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await l.json()}catch{throw new Hr("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function tO(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let tm;var Dc,RA;(typeof navigator>"u"||!((RA=(Dc=navigator.userAgent)==null?void 0:Dc.startsWith)!=null&&RA.call(Dc,"Mozilla/5.0 ")))&&(tm="jose/v5.10.0");const Ih=Symbol();function rO(r,e){return!(typeof r!="object"||r===null||!("uat"in r)||typeof r.uat!="number"||Date.now()-r.uat>=e||!("jwks"in r)||!Li(r.jwks)||!Array.isArray(r.jwks.keys)||!Array.prototype.every.call(r.jwks.keys,Li))}class nO{constructor(e,n){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[Ih])!==void 0&&(this._cache=n==null?void 0:n[Ih],rO(n==null?void 0:n[Ih],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Jw(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(e,n)}catch(i){if(i instanceof Sm&&this.coolingDown()===!1)return await this.reload(),this._local(e,n);throw i}}async reload(){this._pendingFetch&&tO()&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);tm&&!e.has("User-Agent")&&(e.set("User-Agent",tm),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=eO(this._url,this._timeoutDuration,this._options).then(n=>{this._local=Jw(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function iO(r,e){const n=new nO(r,e),i=async(o,u)=>n.getKey(o,u);return Object.defineProperties(i,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var o;return(o=n._local)==null?void 0:o.jwks()},enumerable:!0,configurable:!1,writable:!1}}),i}function kh(r){const e=(r==null?void 0:r.modulusLength)??2048;if(typeof e!="number"||e<2048)throw new sn("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}async function aO(r,e){let n,i;switch(r){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:kh(e)},i=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:kh(e)},i=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:kh(e)},i=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},i=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},i=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},i=["sign","verify"];break;case"Ed25519":n={name:"Ed25519"},i=["sign","verify"];break;case"EdDSA":{i=["sign","verify"];const o="Ed25519";switch(o){case"Ed25519":case"Ed448":n={name:o};break;default:throw new sn("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{i=["deriveKey","deriveBits"];const o="P-256";switch(o){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:o};break}case"X25519":case"X448":n={name:o};break;default:throw new sn("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new sn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return as.subtle.generateKey(n,!1,i)}async function oO(r,e){return aO(r,e)}const jr=[];for(let r=0;r<256;++r)jr.push((r+256).toString(16).slice(1));function sO(r,e=0){return(jr[r[e+0]]+jr[r[e+1]]+jr[r[e+2]]+jr[r[e+3]]+"-"+jr[r[e+4]]+jr[r[e+5]]+"-"+jr[r[e+6]]+jr[r[e+7]]+"-"+jr[r[e+8]]+jr[r[e+9]]+"-"+jr[r[e+10]]+jr[r[e+11]]+jr[r[e+12]]+jr[r[e+13]]+jr[r[e+14]]+jr[r[e+15]]).toLowerCase()}let Ph;const uO=new Uint8Array(16);function lO(){if(!Ph){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ph=crypto.getRandomValues.bind(crypto)}return Ph(uO)}const cO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xw={randomUUID:cO};function tf(r,e,n){var o;if(Xw.randomUUID&&!r)return Xw.randomUUID();r=r||{};const i=r.random??((o=r.rng)==null?void 0:o.call(r))??lO();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,sO(i)}const JA="solidClientAuthn:",zc=["ES256","RS256"],Ir={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",NEW_TOKENS:"newTokens",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},Qw=5,fO="openid",dO="offline_access",hO="webid",XA=[fO,dO,hO].join(" ");class pO{constructor(e){mt(this,"handleables");this.handleables=e,this.handleables=e}async getProperHandler(e){const n=await Promise.all(this.handleables.map(i=>i.canHandle(...e)));for(let i=0;i<n.length;i+=1)if(n[i])return this.handleables[i];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const n=await this.getProperHandler(e);if(n)return n.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(i=>{try{return JSON.stringify(i)}catch{return i.toString()}}).join(", ")}`)}}async function QA(r,e,n,i){let o,u;try{const{payload:l}=await zF(r,iO(new URL(e)),{issuer:n,audience:i});o=l}catch(l){throw new Error(`Token verification failed: ${l.stack}`)}if(typeof o.azp=="string"&&(u=o.azp),typeof o.webid=="string")return{webId:o.webid,clientId:u};if(typeof o.sub!="string")throw new Error(`The token ${JSON.stringify(o)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(o.sub),{webId:o.sub,clientId:u}}catch(l){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${o.sub}] is invalid as a URL - error [${l}].`)}}function ZA(r){try{const e=new URL(r),n=!e.searchParams.has("code")&&!e.searchParams.has("state"),i=e.hash==="";return n&&i}catch{return!1}}function eT(r){const e=new URL(r);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function gO(r,e){return typeof r=="boolean"?!!r:!!e}class vO{constructor(e,n){mt(this,"storageUtility");mt(this,"redirector");mt(this,"parametersGuard",e=>e.issuerConfiguration.grantTypesSupported!==void 0&&e.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&e.redirectUrl!==void 0);this.storageUtility=e,this.redirector=n,this.storageUtility=e,this.redirector=n}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:n,codeVerifier:i,targetUrl:o}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:i,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:gO(e.keepAlive,!0).toString()})]),this.redirector.redirect(o,{handleRedirect:e.handleRedirect})}}class yO{constructor(e){mt(this,"sessionInfoManager");this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class mO{constructor(e){mt(this,"redirector");this.redirector=e,this.redirector=e}async canHandle(e,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(e,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class bO{constructor(e,n){mt(this,"handlers");this.handlers=[new yO(e),new mO(n)]}async canHandle(){return!0}async handle(e,n){for(const i of this.handlers)await i.canHandle(e,n)&&await i.handle(e,n)}}function tT(){return{isLoggedIn:!1,sessionId:tf(),fetch:(...r)=>fetch(...r)}}async function rT(r,e){await Promise.all([e.deleteAllUserData(r,{secure:!1}),e.deleteAllUserData(r,{secure:!0})])}class _O{constructor(e){mt(this,"storageUtility");this.storageUtility=e,this.storageUtility=e}update(e,n){throw new Error("Not Implemented")}set(e,n){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return rT(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function wO({endSessionEndpoint:r,idTokenHint:e,postLogoutRedirectUri:n,state:i}){const o=new URL(r);return e!==void 0&&o.searchParams.append("id_token_hint",e),n!==void 0&&(o.searchParams.append("post_logout_redirect_uri",n),i!==void 0&&o.searchParams.append("state",i)),o.toString()}function SO({endSessionEndpoint:r,idTokenHint:e}){if(r!==void 0)return function({state:i,postLogoutUrl:o}){return wO({endSessionEndpoint:r,idTokenHint:e,state:i,postLogoutRedirectUri:o})}}function EO(r){return typeof r=="string"&&["DPoP","Bearer"].includes(r)}function nT(r){try{return new URL(r),!0}catch{return!1}}function xO(r,e){return e.find(n=>r.includes(n))??null}function AO(r){return r.clientId!==void 0&&!nT(r.clientId)}function TO(r,e){return e.scopesSupported.includes("webid")&&r.clientId!==void 0&&nT(r.clientId)}function RO(r){return typeof r=="string"&&["dynamic","static","solid-oidc"].includes(r)}async function DO(r,e,n,i){let o;if(TO(r,e))o={clientId:r.clientId,clientName:r.clientName,clientType:"solid-oidc"};else if(AO(r))o={clientId:r.clientId,clientSecret:r.clientSecret,clientName:r.clientName,clientType:"static"};else return i.getClient({sessionId:r.sessionId,clientName:r.clientName,redirectUrl:r.redirectUrl},e);const u={clientId:o.clientId,clientType:o.clientType};return o.clientType==="static"&&(u.clientSecret=o.clientSecret),o.clientName&&(u.clientName=o.clientName),await n.setForUser(r.sessionId,u),o}const Zw=(r,e)=>fetch(r,e);let CO=class{constructor(e,n,i,o,u){mt(this,"loginHandler");mt(this,"redirectHandler");mt(this,"logoutHandler");mt(this,"sessionInfoManager");mt(this,"issuerConfigFetcher");mt(this,"boundLogout");mt(this,"fetch",Zw);mt(this,"logout",async(e,n)=>{await this.logoutHandler.handle(e,(n==null?void 0:n.logoutType)==="idp"?{...n,toLogoutUrl:this.boundLogout}:n),this.fetch=Zw,delete this.boundLogout});mt(this,"getSessionInfo",async e=>this.sessionInfoManager.get(e));mt(this,"getAllSessionInfo",async()=>this.sessionInfoManager.getAll());this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=i,this.sessionInfoManager=o,this.issuerConfigFetcher=u,this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=i,this.sessionInfoManager=o,this.issuerConfigFetcher=u}};async function iT(r,e,n){try{const[i,o,u,l,c]=await Promise.all([e.getForUser(r,"issuer",{errorIfNull:!0}),e.getForUser(r,"codeVerifier"),e.getForUser(r,"redirectUrl"),e.getForUser(r,"dpop",{errorIfNull:!0}),e.getForUser(r,"keepAlive")]);await e.deleteForUser(r,"codeVerifier");const g=await n.fetchConfig(i);return{codeVerifier:o,redirectUrl:u,issuerConfig:g,dpop:l==="true",keepAlive:typeof c=="string"?c==="true":!0}}catch(i){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${r}]: ${i}`)}}async function FO(r,e,n,i,o,u,l,c){n!==void 0&&await r.setForUser(e,{webId:n},{secure:l}),i!==void 0&&await r.setForUser(e,{clientId:i},{secure:l}),await r.setForUser(e,{isLoggedIn:o},{secure:l})}class OO{constructor(e,n){mt(this,"secureStorage");mt(this,"insecureStorage");this.secureStorage=e,this.insecureStorage=n,this.secureStorage=e,this.insecureStorage=n}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,n){const i=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(i===void 0)return{};try{return JSON.parse(i)}catch{throw new Error(`Data for user [${e}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${i}`)}}async setUserData(e,n,i){await(i?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(n))}async get(e,n){const i=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(e);if(i===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${e}] is not stored`);return i}async set(e,n,i){return(i!=null&&i.secure?this.secureStorage:this.insecureStorage).set(e,n)}async delete(e,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,n,i){const o=await this.getUserData(e,i==null?void 0:i.secure);let u;if((!o||!o[n])&&(u=void 0),u=o[n],u===void 0&&(i!=null&&i.errorIfNull))throw new Error(`Field [${n}] for user [${e}] is not stored`);return u||void 0}async setForUser(e,n,i){let o;try{o=await this.getUserData(e,i==null?void 0:i.secure)}catch{o={}}await this.setUserData(e,{...o,...n},i==null?void 0:i.secure)}async deleteForUser(e,n,i){const o=await this.getUserData(e,i==null?void 0:i.secure);delete o[n],await this.setUserData(e,o,i==null?void 0:i.secure)}async deleteAllUserData(e,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class NO{constructor(){mt(this,"map",{})}async get(e){return this.map[e]||void 0}async set(e,n){this.map[e]=n}async delete(e){delete this.map[e]}}class rm extends Error{constructor(e){super(e)}}class wu extends Error{constructor(n){super(`Invalid response from OIDC provider: missing fields ${n}`);mt(this,"missingFields");this.missingFields=n}}class aT extends Error{constructor(n,i,o){super(n);mt(this,"error");mt(this,"errorDescription");this.error=i,this.errorDescription=o}}function MO(r){const e=new URL(r);return new URL(e.pathname,e.origin).toString()}async function xm(r,e,n){return new YF({htu:MO(r),htm:e.toUpperCase(),jti:tf()}).setProtectedHeader({alg:zc[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function IO(){const{privateKey:r,publicKey:e}=await oO(zc[0]),n={privateKey:r,publicKey:await kF(e)};return[n.publicKey.alg]=zc,n}const oT=600;function kO(r){return[401,403].includes(r)}async function PO(r,e,n,i){const o=new Headers(i==null?void 0:i.headers);return o.set("Authorization",`DPoP ${e}`),o.set("DPoP",await xm(r,(i==null?void 0:i.method)??"get",n)),{...i,headers:o}}async function UO(r,e,n,i){if(n!==void 0)return PO(r,e,n,i);const o=new Headers(i==null?void 0:i.headers);return o.set("Authorization",`Bearer ${e}`),{...i,headers:o}}async function e1(r,e,n,i){return fetch(e,await UO(e.toString(),r,i,n))}async function LO(r,e,n){const i=await r.tokenRefresher.refresh(r.sessionId,r.refreshToken,e);return n==null||n.emit(Ir.SESSION_EXTENDED,i.expiresIn??oT),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const Uh=r=>r!==void 0?r-Qw>0?r-Qw:r:oT;function BO(r,e){var u;let n=r,i;const o=e==null?void 0:e.refreshOptions;if(o!==void 0){const l=async()=>{var c,g,p,v;try{const{accessToken:y,refreshToken:_,expiresIn:A}=await LO(o,e.dpopKey,e.eventEmitter);n=y,_!==void 0&&(o.refreshToken=_),clearTimeout(i),i=setTimeout(l,Uh(A)*1e3),(c=e.eventEmitter)==null||c.emit(Ir.TIMEOUT_SET,i)}catch(y){y instanceof aT&&((g=e==null?void 0:e.eventEmitter)==null||g.emit(Ir.ERROR,y.error,y.errorDescription),(p=e==null?void 0:e.eventEmitter)==null||p.emit(Ir.SESSION_EXPIRED)),y instanceof wu&&y.missingFields.includes("access_token")&&((v=e==null?void 0:e.eventEmitter)==null||v.emit(Ir.SESSION_EXPIRED))}};i=setTimeout(l,Uh(e.expiresIn)*1e3),(u=e.eventEmitter)==null||u.emit(Ir.TIMEOUT_SET,i)}else if(e!==void 0&&e.eventEmitter!==void 0){const l=setTimeout(()=>{e.eventEmitter.emit(Ir.SESSION_EXPIRED)},Uh(e.expiresIn)*1e3);e.eventEmitter.emit(Ir.TIMEOUT_SET,l)}return async(l,c)=>{let g=await e1(n,l,c,e==null?void 0:e.dpopKey);const p=!g.ok&&!kO(g.status);return g.ok||p||g.url!==l&&(e==null?void 0:e.dpopKey)!==void 0&&(g=await e1(n,g.url,c,e.dpopKey)),g}}var gc={exports:{}},t1;function Yu(){if(t1)return gc.exports;t1=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(k,L,j){return Function.prototype.apply.call(k,L,j)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:n=function(k){return Object.getOwnPropertyNames(k)};function i(N){console&&console.warn&&console.warn(N)}var o=Number.isNaN||function(k){return k!==k};function u(){u.init.call(this)}gc.exports=u,gc.exports.once=T,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(N){if(typeof N!="number"||N<0||o(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");l=N}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||o(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function g(N){return N._maxListeners===void 0?u.defaultMaxListeners:N._maxListeners}u.prototype.getMaxListeners=function(){return g(this)},u.prototype.emit=function(k){for(var L=[],j=1;j<arguments.length;j++)L.push(arguments[j]);var X=k==="error",re=this._events;if(re!==void 0)X=X&&re.error===void 0;else if(!X)return!1;if(X){var B;if(L.length>0&&(B=L[0]),B instanceof Error)throw B;var Y=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw Y.context=B,Y}var me=re[k];if(me===void 0)return!1;if(typeof me=="function")e(me,this,L);else for(var ne=me.length,ke=x(me,ne),j=0;j<ne;++j)e(ke[j],this,L);return!0};function p(N,k,L,j){var X,re,B;if(c(L),re=N._events,re===void 0?(re=N._events=Object.create(null),N._eventsCount=0):(re.newListener!==void 0&&(N.emit("newListener",k,L.listener?L.listener:L),re=N._events),B=re[k]),B===void 0)B=re[k]=L,++N._eventsCount;else if(typeof B=="function"?B=re[k]=j?[L,B]:[B,L]:j?B.unshift(L):B.push(L),X=g(N),X>0&&B.length>X&&!B.warned){B.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=N,Y.type=k,Y.count=B.length,i(Y)}return N}u.prototype.addListener=function(k,L){return p(this,k,L,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(k,L){return p(this,k,L,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(N,k,L){var j={fired:!1,wrapFn:void 0,target:N,type:k,listener:L},X=v.bind(j);return X.listener=L,j.wrapFn=X,X}u.prototype.once=function(k,L){return c(L),this.on(k,y(this,k,L)),this},u.prototype.prependOnceListener=function(k,L){return c(L),this.prependListener(k,y(this,k,L)),this},u.prototype.removeListener=function(k,L){var j,X,re,B,Y;if(c(L),X=this._events,X===void 0)return this;if(j=X[k],j===void 0)return this;if(j===L||j.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete X[k],X.removeListener&&this.emit("removeListener",k,j.listener||L));else if(typeof j!="function"){for(re=-1,B=j.length-1;B>=0;B--)if(j[B]===L||j[B].listener===L){Y=j[B].listener,re=B;break}if(re<0)return this;re===0?j.shift():S(j,re),j.length===1&&(X[k]=j[0]),X.removeListener!==void 0&&this.emit("removeListener",k,Y||L)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(k){var L,j,X;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[k]),this;if(arguments.length===0){var re=Object.keys(j),B;for(X=0;X<re.length;++X)B=re[X],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=j[k],typeof L=="function")this.removeListener(k,L);else if(L!==void 0)for(X=L.length-1;X>=0;X--)this.removeListener(k,L[X]);return this};function _(N,k,L){var j=N._events;if(j===void 0)return[];var X=j[k];return X===void 0?[]:typeof X=="function"?L?[X.listener||X]:[X]:L?R(X):x(X,X.length)}u.prototype.listeners=function(k){return _(this,k,!0)},u.prototype.rawListeners=function(k){return _(this,k,!1)},u.listenerCount=function(N,k){return typeof N.listenerCount=="function"?N.listenerCount(k):A.call(N,k)},u.prototype.listenerCount=A;function A(N){var k=this._events;if(k!==void 0){var L=k[N];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(N,k){for(var L=new Array(k),j=0;j<k;++j)L[j]=N[j];return L}function S(N,k){for(;k+1<N.length;k++)N[k]=N[k+1];N.pop()}function R(N){for(var k=new Array(N.length),L=0;L<k.length;++L)k[L]=N[L].listener||N[L];return k}function T(N,k){return new Promise(function(L,j){function X(B){N.removeListener(k,re),j(B)}function re(){typeof N.removeListener=="function"&&N.removeListener("error",X),L([].slice.call(arguments))}C(N,k,re,{once:!0}),k!=="error"&&D(N,X,{once:!0})})}function D(N,k,L){typeof N.on=="function"&&C(N,"error",k,L)}function C(N,k,L,j){if(typeof N.on=="function")j.once?N.once(k,L):N.on(k,L);else if(typeof N.addEventListener=="function")N.addEventListener(k,function X(re){j.once&&N.removeEventListener(k,X),L(re)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return gc.exports}var jO=Yu();const qO=zr(jO);var Fc={exports:{}},HO=Fc.exports,r1;function KO(){return r1||(r1=1,function(r,e){(function(i,o){r.exports=o()})(HO,function(){return function(n){var i={};function o(u){if(i[u])return i[u].exports;var l=i[u]={i:u,l:!1,exports:{}};return n[u].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=n,o.c=i,o.d=function(u,l,c){o.o(u,l)||Object.defineProperty(u,l,{enumerable:!0,get:c})},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},o.t=function(u,l){if(1&l&&(u=o(u)),8&l||4&l&&typeof u=="object"&&u&&u.__esModule)return u;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:u}),2&l&&typeof u!="string")for(var g in u)o.d(c,g,(function(p){return u[p]}).bind(null,g));return c},o.n=function(u){var l=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(l,"a",l),l},o.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)},o.p="",o(o.s=22)}([function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function p(v,y){for(var _=0;_<y.length;_++){var A=y[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,y,_){return y&&p(v.prototype,y),_&&p(v,_),v}}(),l={debug:function(){},info:function(){},warn:function(){},error:function(){}},c=void 0,g=void 0;(i.Log=function(){function p(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,p)}return p.reset=function(){g=3,c=l},p.debug=function(){if(g>=4){for(var y=arguments.length,_=Array(y),A=0;A<y;A++)_[A]=arguments[A];c.debug.apply(c,Array.from(_))}},p.info=function(){if(g>=3){for(var y=arguments.length,_=Array(y),A=0;A<y;A++)_[A]=arguments[A];c.info.apply(c,Array.from(_))}},p.warn=function(){if(g>=2){for(var y=arguments.length,_=Array(y),A=0;A<y;A++)_[A]=arguments[A];c.warn.apply(c,Array.from(_))}},p.error=function(){if(g>=1){for(var y=arguments.length,_=Array(y),A=0;A<y;A++)_[A]=arguments[A];c.error.apply(c,Array.from(_))}},u(p,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return g},set:function(y){if(!(0<=y&&y<=4))throw new Error("Invalid log level");g=y}},{key:"logger",get:function(){return c},set:function(y){if(!y.debug&&y.info&&(y.debug=y.info),!(y.debug&&y.info&&y.warn&&y.error))throw new Error("Invalid logger");c=y}}]),p}()).reset()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function p(v,y){for(var _=0;_<y.length;_++){var A=y[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,y,_){return y&&p(v.prototype,y),_&&p(v,_),v}}(),l={setInterval:function(p){function v(y,_){return p.apply(this,arguments)}return v.toString=function(){return p.toString()},v}(function(p,v){return setInterval(p,v)}),clearInterval:function(p){function v(y){return p.apply(this,arguments)}return v.toString=function(){return p.toString()},v}(function(p){return clearInterval(p)})},c=!1,g=null;i.Global=function(){function p(){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,p)}return p._testing=function(){c=!0},p.setXMLHttpRequest=function(y){g=y},u(p,null,[{key:"location",get:function(){if(!c)return location}},{key:"localStorage",get:function(){if(!c&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!c&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!c&&typeof window<"u")return g||XMLHttpRequest}},{key:"timer",get:function(){if(!c)return l}}]),p}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.MetadataService=void 0;var u=function(){function v(y,_){for(var A=0;A<_.length;A++){var x=_[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,_,A){return _&&v(y.prototype,_),A&&v(y,A),y}}(),l=o(0),c=o(7);function g(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var p=".well-known/openid-configuration";i.MetadataService=function(){function v(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.JsonService;if(g(this,v),!y)throw l.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=y,this._jsonService=new _(["application/jwk-set+json"])}return v.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},v.prototype.getMetadata=function(){var _=this;return this._settings.metadata?(l.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(l.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(A){l.Log.debug("MetadataService.getMetadata: json received");var x=_._settings.metadataSeed||{};return _._settings.metadata=Object.assign({},x,A),_._settings.metadata})):(l.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},v.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},v.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},v.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},v.prototype.getTokenEndpoint=function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",_)},v.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},v.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},v.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},v.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},v.prototype._getMetadataProperty=function(_){var A=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return l.Log.debug("MetadataService.getMetadataProperty for: "+_),this.getMetadata().then(function(x){if(l.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),x[_]===void 0){if(A===!0)return void l.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+_);throw l.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+_),new Error("Metadata does not contain property "+_)}return x[_]})},v.prototype.getSigningKeys=function(){var _=this;return this._settings.signingKeys?(l.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(A){return l.Log.debug("MetadataService.getSigningKeys: jwks_uri received",A),_._jsonService.getJson(A).then(function(x){if(l.Log.debug("MetadataService.getSigningKeys: key set received",x),!x.keys)throw l.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return _._settings.signingKeys=x.keys,_._settings.signingKeys})})},u(v,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(p)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=p))),this._metadataUrl}}]),v}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.UrlUtility=void 0;var u=o(0),l=o(1);i.UrlUtility=function(){function c(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.addQueryParam=function(p,v,y){return p.indexOf("?")<0&&(p+="?"),p[p.length-1]!=="?"&&(p+="&"),p+=encodeURIComponent(v),p+="=",p+=encodeURIComponent(y)},c.parseUrlFragment=function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global;typeof p!="string"&&(p=y.location.href);var _=p.lastIndexOf(v);_>=0&&(p=p.substr(_+1)),v==="?"&&(_=p.indexOf("#"))>=0&&(p=p.substr(0,_));for(var A,x={},S=/([^&=]+)=([^&]*)/g,R=0;A=S.exec(p);)if(x[decodeURIComponent(A[1])]=decodeURIComponent(A[2].replace(/\+/g," ")),R++>50)return u.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",p),{error:"Response exceeded expected number of parameters"};for(var T in x)return x;return{}},c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.JoseUtil=void 0;var u=o(26),l=function(g){return g&&g.__esModule?g:{default:g}}(o(33));i.JoseUtil=(0,l.default)({jws:u.jws,KeyUtil:u.KeyUtil,X509:u.X509,crypto:u.crypto,hextob64u:u.hextob64u,b64tohex:u.b64tohex,AllowedSigningAlgs:u.AllowedSigningAlgs})},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.OidcClientSettings=void 0;var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},l=function(){function T(D,C){for(var N=0;N<C.length;N++){var k=C[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(D,k.key,k)}}return function(D,C,N){return C&&T(D.prototype,C),N&&T(D,N),D}}(),c=o(0),g=o(23),p=o(6),v=o(24),y=o(2);function _(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}var A=".well-known/openid-configuration",x="id_token",S="openid",R="client_secret_post";i.OidcClientSettings=function(){function T(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=D.authority,N=D.metadataUrl,k=D.metadata,L=D.signingKeys,j=D.metadataSeed,X=D.client_id,re=D.client_secret,B=D.response_type,Y=B===void 0?x:B,me=D.scope,ne=me===void 0?S:me,ke=D.redirect_uri,Ve=D.post_logout_redirect_uri,ge=D.client_authentication,Oe=ge===void 0?R:ge,we=D.prompt,Be=D.display,q=D.max_age,le=D.ui_locales,Ae=D.acr_values,be=D.resource,We=D.response_mode,Xe=D.filterProtocolClaims,rt=Xe===void 0||Xe,st=D.loadUserInfo,Ce=st===void 0||st,He=D.staleStateAge,Qe=He===void 0?900:He,ie=D.clockSkew,U=ie===void 0?300:ie,O=D.clockService,z=O===void 0?new g.ClockService:O,$=D.userInfoJwtIssuer,fe=$===void 0?"OP":$,ue=D.mergeClaims,Pe=ue!==void 0&&ue,he=D.stateStore,Le=he===void 0?new p.WebStorageStateStore:he,Ge=D.ResponseValidatorCtor,qe=Ge===void 0?v.ResponseValidator:Ge,at=D.MetadataServiceCtor,St=at===void 0?y.MetadataService:at,it=D.extraQueryParams,gt=it===void 0?{}:it,V=D.extraTokenParams,M=V===void 0?{}:V;_(this,T),this._authority=C,this._metadataUrl=N,this._metadata=k,this._metadataSeed=j,this._signingKeys=L,this._client_id=X,this._client_secret=re,this._response_type=Y,this._scope=ne,this._redirect_uri=ke,this._post_logout_redirect_uri=Ve,this._client_authentication=Oe,this._prompt=we,this._display=Be,this._max_age=q,this._ui_locales=le,this._acr_values=Ae,this._resource=be,this._response_mode=We,this._filterProtocolClaims=!!rt,this._loadUserInfo=!!Ce,this._staleStateAge=Qe,this._clockSkew=U,this._clockService=z,this._userInfoJwtIssuer=fe,this._mergeClaims=!!Pe,this._stateStore=Le,this._validator=new qe(this),this._metadataService=new St(this),this._extraQueryParams=(gt===void 0?"undefined":u(gt))==="object"?gt:{},this._extraTokenParams=(M===void 0?"undefined":u(M))==="object"?M:{}}return T.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},l(T,[{key:"client_id",get:function(){return this._client_id},set:function(C){if(this._client_id)throw c.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=C}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(C){if(this._authority)throw c.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=C}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(A)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=A)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(C){this._metadata=C}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(C){this._metadataSeed=C}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(C){this._signingKeys=C}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(C){(C===void 0?"undefined":u(C))==="object"?this._extraQueryParams=C:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(C){(C===void 0?"undefined":u(C))==="object"?this._extraTokenParams=C:this._extraTokenParams={}}}]),T}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.WebStorageStateStore=void 0;var u=o(0),l=o(1);function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}i.WebStorageStateStore=function(){function g(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=p.prefix,y=v===void 0?"oidc.":v,_=p.store,A=_===void 0?l.Global.localStorage:_;c(this,g),this._store=A,this._prefix=y}return g.prototype.set=function(v,y){return u.Log.debug("WebStorageStateStore.set",v),v=this._prefix+v,this._store.setItem(v,y),Promise.resolve()},g.prototype.get=function(v){u.Log.debug("WebStorageStateStore.get",v),v=this._prefix+v;var y=this._store.getItem(v);return Promise.resolve(y)},g.prototype.remove=function(v){u.Log.debug("WebStorageStateStore.remove",v),v=this._prefix+v;var y=this._store.getItem(v);return this._store.removeItem(v),Promise.resolve(y)},g.prototype.getAllKeys=function(){u.Log.debug("WebStorageStateStore.getAllKeys");for(var v=[],y=0;y<this._store.length;y++){var _=this._store.key(y);_.indexOf(this._prefix)===0&&v.push(_.substr(this._prefix.length))}return Promise.resolve(v)},g}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.JsonService=void 0;var u=o(0),l=o(1);function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}i.JsonService=function(){function g(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.Global.XMLHttpRequest,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;c(this,g),p&&Array.isArray(p)?this._contentTypes=p.slice():this._contentTypes=[],this._contentTypes.push("application/json"),y&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=v,this._jwtHandler=y}return g.prototype.getJson=function(v,y){var _=this;if(!v)throw u.Log.error("JsonService.getJson: No url passed"),new Error("url");return u.Log.debug("JsonService.getJson, url: ",v),new Promise(function(A,x){var S=new _._XMLHttpRequest;S.open("GET",v);var R=_._contentTypes,T=_._jwtHandler;S.onload=function(){if(u.Log.debug("JsonService.getJson: HTTP response received, status",S.status),S.status===200){var D=S.getResponseHeader("Content-Type");if(D){var C=R.find(function(N){if(D.startsWith(N))return!0});if(C=="application/jwt")return void T(S).then(A,x);if(C)try{return void A(JSON.parse(S.responseText))}catch(N){return u.Log.error("JsonService.getJson: Error parsing JSON response",N.message),void x(N)}}x(Error("Invalid response Content-Type: "+D+", from URL: "+v))}else x(Error(S.statusText+" ("+S.status+")"))},S.onerror=function(){u.Log.error("JsonService.getJson: network error"),x(Error("Network Error"))},y&&(u.Log.debug("JsonService.getJson: token passed, setting Authorization header"),S.setRequestHeader("Authorization","Bearer "+y)),S.send()})},g.prototype.postForm=function(v,y,_){var A=this;if(!v)throw u.Log.error("JsonService.postForm: No url passed"),new Error("url");return u.Log.debug("JsonService.postForm, url: ",v),new Promise(function(x,S){var R=new A._XMLHttpRequest;R.open("POST",v);var T=A._contentTypes;R.onload=function(){if(u.Log.debug("JsonService.postForm: HTTP response received, status",R.status),R.status!==200){if(R.status===400&&(L=R.getResponseHeader("Content-Type"))&&T.find(function(j){if(L.startsWith(j))return!0}))try{var k=JSON.parse(R.responseText);if(k&&k.error)return u.Log.error("JsonService.postForm: Error from server: ",k.error),void S(new Error(k.error))}catch(j){return u.Log.error("JsonService.postForm: Error parsing JSON response",j.message),void S(j)}S(Error(R.statusText+" ("+R.status+")"))}else{var L;if((L=R.getResponseHeader("Content-Type"))&&T.find(function(j){if(L.startsWith(j))return!0}))try{return void x(JSON.parse(R.responseText))}catch(j){return u.Log.error("JsonService.postForm: Error parsing JSON response",j.message),void S(j)}S(Error("Invalid response Content-Type: "+L+", from URL: "+v))}},R.onerror=function(){u.Log.error("JsonService.postForm: network error"),S(Error("Network Error"))};var D="";for(var C in y){var N=y[C];N&&(D.length>0&&(D+="&"),D+=encodeURIComponent(C),D+="=",D+=encodeURIComponent(N))}R.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),_!==void 0&&R.setRequestHeader("Authorization","Basic "+btoa(_)),R.send(D)})},g}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninRequest=void 0;var u=o(0),l=o(3),c=o(13);i.SigninRequest=function(){function g(p){var v=p.url,y=p.client_id,_=p.redirect_uri,A=p.response_type,x=p.scope,S=p.authority,R=p.data,T=p.prompt,D=p.display,C=p.max_age,N=p.ui_locales,k=p.id_token_hint,L=p.login_hint,j=p.acr_values,X=p.resource,re=p.response_mode,B=p.request,Y=p.request_uri,me=p.extraQueryParams,ne=p.request_type,ke=p.client_secret,Ve=p.extraTokenParams,ge=p.skipUserInfo;if(function(be,We){if(!(be instanceof We))throw new TypeError("Cannot call a class as a function")}(this,g),!v)throw u.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!y)throw u.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!_)throw u.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!A)throw u.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!x)throw u.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!S)throw u.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var Oe=g.isOidc(A),we=g.isCode(A);re||(re=g.isCode(A)?"query":null),this.state=new c.SigninState({nonce:Oe,data:R,client_id:y,authority:S,redirect_uri:_,code_verifier:we,request_type:ne,response_mode:re,client_secret:ke,scope:x,extraTokenParams:Ve,skipUserInfo:ge}),v=l.UrlUtility.addQueryParam(v,"client_id",y),v=l.UrlUtility.addQueryParam(v,"redirect_uri",_),v=l.UrlUtility.addQueryParam(v,"response_type",A),v=l.UrlUtility.addQueryParam(v,"scope",x),v=l.UrlUtility.addQueryParam(v,"state",this.state.id),Oe&&(v=l.UrlUtility.addQueryParam(v,"nonce",this.state.nonce)),we&&(v=l.UrlUtility.addQueryParam(v,"code_challenge",this.state.code_challenge),v=l.UrlUtility.addQueryParam(v,"code_challenge_method","S256"));var Be={prompt:T,display:D,max_age:C,ui_locales:N,id_token_hint:k,login_hint:L,acr_values:j,resource:X,request:B,request_uri:Y,response_mode:re};for(var q in Be)Be[q]&&(v=l.UrlUtility.addQueryParam(v,q,Be[q]));for(var le in me)v=l.UrlUtility.addQueryParam(v,le,me[le]);this.url=v}return g.isOidc=function(v){return!!v.split(/\s+/g).filter(function(y){return y==="id_token"})[0]},g.isOAuth=function(v){return!!v.split(/\s+/g).filter(function(y){return y==="token"})[0]},g.isCode=function(v){return!!v.split(/\s+/g).filter(function(y){return y==="code"})[0]},g}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.State=void 0;var u=function(){function p(v,y){for(var _=0;_<y.length;_++){var A=y[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,y,_){return y&&p(v.prototype,y),_&&p(v,_),v}}(),l=o(0),c=function(v){return v&&v.__esModule?v:{default:v}}(o(14));function g(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}i.State=function(){function p(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=v.id,_=v.data,A=v.created,x=v.request_type;g(this,p),this._id=y||(0,c.default)(),this._data=_,this._created=typeof A=="number"&&A>0?A:parseInt(Date.now()/1e3),this._request_type=x}return p.prototype.toStorageString=function(){return l.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},p.fromStorageString=function(y){return l.Log.debug("State.fromStorageString"),new p(JSON.parse(y))},p.clearStaleState=function(y,_){var A=Date.now()/1e3-_;return y.getAllKeys().then(function(x){l.Log.debug("State.clearStaleState: got keys",x);for(var S=[],R=function(N){var k=x[N];D=y.get(k).then(function(L){var j=!1;if(L)try{var X=p.fromStorageString(L);l.Log.debug("State.clearStaleState: got item from key: ",k,X.created),X.created<=A&&(j=!0)}catch(re){l.Log.error("State.clearStaleState: Error parsing state for key",k,re.message),j=!0}else l.Log.debug("State.clearStaleState: no item in storage for key: ",k),j=!0;if(j)return l.Log.debug("State.clearStaleState: removed item for key: ",k),y.remove(k)}),S.push(D)},T=0;T<x.length;T++){var D;R(T)}return l.Log.debug("State.clearStaleState: waiting on promise count:",S.length),Promise.all(S)})},u(p,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),p}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.OidcClient=void 0;var u=function(){function R(T,D){for(var C=0;C<D.length;C++){var N=D[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,D,C){return D&&R(T.prototype,D),C&&R(T,C),T}}(),l=o(0),c=o(5),g=o(12),p=o(8),v=o(34),y=o(35),_=o(36),A=o(13),x=o(9);function S(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}i.OidcClient=function(){function R(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};S(this,R),T instanceof c.OidcClientSettings?this._settings=T:this._settings=new c.OidcClientSettings(T)}return R.prototype.createSigninRequest=function(){var D=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=C.response_type,k=C.scope,L=C.redirect_uri,j=C.data,X=C.state,re=C.prompt,B=C.display,Y=C.max_age,me=C.ui_locales,ne=C.id_token_hint,ke=C.login_hint,Ve=C.acr_values,ge=C.resource,Oe=C.request,we=C.request_uri,Be=C.response_mode,q=C.extraQueryParams,le=C.extraTokenParams,Ae=C.request_type,be=C.skipUserInfo,We=arguments[1];l.Log.debug("OidcClient.createSigninRequest");var Xe=this._settings.client_id;N=N||this._settings.response_type,k=k||this._settings.scope,L=L||this._settings.redirect_uri,re=re||this._settings.prompt,B=B||this._settings.display,Y=Y||this._settings.max_age,me=me||this._settings.ui_locales,Ve=Ve||this._settings.acr_values,ge=ge||this._settings.resource,Be=Be||this._settings.response_mode,q=q||this._settings.extraQueryParams,le=le||this._settings.extraTokenParams;var rt=this._settings.authority;return p.SigninRequest.isCode(N)&&N!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(st){l.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",st);var Ce=new p.SigninRequest({url:st,client_id:Xe,redirect_uri:L,response_type:N,scope:k,data:j||X,authority:rt,prompt:re,display:B,max_age:Y,ui_locales:me,id_token_hint:ne,login_hint:ke,acr_values:Ve,resource:ge,request:Oe,request_uri:we,extraQueryParams:q,extraTokenParams:le,request_type:Ae,response_mode:Be,client_secret:D._settings.client_secret,skipUserInfo:be}),He=Ce.state;return(We=We||D._stateStore).set(He.id,He.toStorageString()).then(function(){return Ce})})},R.prototype.readSigninResponseState=function(D,C){var N=arguments.length>2&&arguments[2]!==void 0&&arguments[2];l.Log.debug("OidcClient.readSigninResponseState");var k=this._settings.response_mode==="query"||!this._settings.response_mode&&p.SigninRequest.isCode(this._settings.response_type),L=k?"?":"#",j=new v.SigninResponse(D,L);if(!j.state)return l.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));C=C||this._stateStore;var X=N?C.remove.bind(C):C.get.bind(C);return X(j.state).then(function(re){if(!re)throw l.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:A.SigninState.fromStorageString(re),response:j}})},R.prototype.processSigninResponse=function(D,C){var N=this;return l.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(D,C,!0).then(function(k){var L=k.state,j=k.response;return l.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),N._validator.validateSigninResponse(L,j)})},R.prototype.createSignoutRequest=function(){var D=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=C.id_token_hint,k=C.data,L=C.state,j=C.post_logout_redirect_uri,X=C.extraQueryParams,re=C.request_type,B=arguments[1];return l.Log.debug("OidcClient.createSignoutRequest"),j=j||this._settings.post_logout_redirect_uri,X=X||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Y){if(!Y)throw l.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");l.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Y);var me=new y.SignoutRequest({url:Y,id_token_hint:N,post_logout_redirect_uri:j,data:k||L,extraQueryParams:X,request_type:re}),ne=me.state;return ne&&(l.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(B=B||D._stateStore).set(ne.id,ne.toStorageString())),me})},R.prototype.readSignoutResponseState=function(D,C){var N=arguments.length>2&&arguments[2]!==void 0&&arguments[2];l.Log.debug("OidcClient.readSignoutResponseState");var k=new _.SignoutResponse(D);if(!k.state)return l.Log.debug("OidcClient.readSignoutResponseState: No state in response"),k.error?(l.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",k.error),Promise.reject(new g.ErrorResponse(k))):Promise.resolve({state:void 0,response:k});var L=k.state;C=C||this._stateStore;var j=N?C.remove.bind(C):C.get.bind(C);return j(L).then(function(X){if(!X)throw l.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:x.State.fromStorageString(X),response:k}})},R.prototype.processSignoutResponse=function(D,C){var N=this;return l.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(D,C,!0).then(function(k){var L=k.state,j=k.response;return L?(l.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),N._validator.validateSignoutResponse(L,j)):(l.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),j)})},R.prototype.clearStaleState=function(D){return l.Log.debug("OidcClient.clearStaleState"),D=D||this._stateStore,x.State.clearStaleState(D,this.settings.staleStateAge)},u(R,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),R}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenClient=void 0;var u=o(7),l=o(2),c=o(0);function g(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}i.TokenClient=function(){function p(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.JsonService,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.MetadataService;if(g(this,p),!v)throw c.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=v,this._jsonService=new y,this._metadataService=new _(this._settings)}return p.prototype.exchangeCode=function(){var y=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(_=Object.assign({},_)).grant_type=_.grant_type||"authorization_code",_.client_id=_.client_id||this._settings.client_id,_.client_secret=_.client_secret||this._settings.client_secret,_.redirect_uri=_.redirect_uri||this._settings.redirect_uri;var A=void 0,x=_._client_authentication||this._settings._client_authentication;return delete _._client_authentication,_.code?_.redirect_uri?_.code_verifier?_.client_id?_.client_secret||x!="client_secret_basic"?(x=="client_secret_basic"&&(A=_.client_id+":"+_.client_secret,delete _.client_id,delete _.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(S){return c.Log.debug("TokenClient.exchangeCode: Received token endpoint"),y._jsonService.postForm(S,_,A).then(function(R){return c.Log.debug("TokenClient.exchangeCode: response received"),R})})):(c.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(c.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(c.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(c.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(c.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},p.prototype.exchangeRefreshToken=function(){var y=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(_=Object.assign({},_)).grant_type=_.grant_type||"refresh_token",_.client_id=_.client_id||this._settings.client_id,_.client_secret=_.client_secret||this._settings.client_secret;var A=void 0,x=_._client_authentication||this._settings._client_authentication;return delete _._client_authentication,_.refresh_token?_.client_id?(x=="client_secret_basic"&&(A=_.client_id+":"+_.client_secret,delete _.client_id,delete _.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(S){return c.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),y._jsonService.postForm(S,_,A).then(function(R){return c.Log.debug("TokenClient.exchangeRefreshToken: response received"),R})})):(c.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(c.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},p}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorResponse=void 0;var u=o(0);function l(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function c(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?g:p}i.ErrorResponse=function(g){function p(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=v.error,_=v.error_description,A=v.error_uri,x=v.state,S=v.session_state;if(l(this,p),!y)throw u.Log.error("No error passed to ErrorResponse"),new Error("error");var R=c(this,g.call(this,_||y));return R.name="ErrorResponse",R.error=y,R.error_description=_,R.error_uri=A,R.state=x,R.session_state=S,R}return function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}(p,g),p}(Error)},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninState=void 0;var u=function(){function _(A,x){for(var S=0;S<x.length;S++){var R=x[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}return function(A,x,S){return x&&_(A.prototype,x),S&&_(A,S),A}}(),l=o(0),c=o(9),g=o(4),p=function(A){return A&&A.__esModule?A:{default:A}}(o(14));function v(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function y(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?_:A}i.SigninState=function(_){function A(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=x.nonce,R=x.authority,T=x.client_id,D=x.redirect_uri,C=x.code_verifier,N=x.response_mode,k=x.client_secret,L=x.scope,j=x.extraTokenParams,X=x.skipUserInfo;v(this,A);var re=y(this,_.call(this,arguments[0]));if(S===!0?re._nonce=(0,p.default)():S&&(re._nonce=S),C===!0?re._code_verifier=(0,p.default)()+(0,p.default)()+(0,p.default)():C&&(re._code_verifier=C),re.code_verifier){var B=g.JoseUtil.hashString(re.code_verifier,"SHA256");re._code_challenge=g.JoseUtil.hexToBase64Url(B)}return re._redirect_uri=D,re._authority=R,re._client_id=T,re._response_mode=N,re._client_secret=k,re._scope=L,re._extraTokenParams=j,re._skipUserInfo=X,re}return function(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}(A,_),A.prototype.toStorageString=function(){return l.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},A.fromStorageString=function(S){return l.Log.debug("SigninState.fromStorageString"),new A(JSON.parse(S))},u(A,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),A}(c.State)},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){return(u!="undefined"&&u!==null&&u.getRandomValues!==void 0?l:c)().replace(/-/g,"")};var u=typeof window<"u"?window.crypto||window.msCrypto:null;function l(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(g){return(g^u.getRandomValues(new Uint8Array(1))[0]&15>>g/4).toString(16)})}function c(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(g){return(g^16*Math.random()>>g/4).toString(16)})}n.exports=i.default},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.User=void 0;var u=function(){function c(g,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,v){return p&&c(g.prototype,p),v&&c(g,v),g}}(),l=o(0);i.User=function(){function c(g){var p=g.id_token,v=g.session_state,y=g.access_token,_=g.refresh_token,A=g.token_type,x=g.scope,S=g.profile,R=g.expires_at,T=g.state;(function(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")})(this,c),this.id_token=p,this.session_state=v,this.access_token=y,this.refresh_token=_,this.token_type=A,this.scope=x,this.profile=S,this.expires_at=R,this.state=T}return c.prototype.toStorageString=function(){return l.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},c.fromStorageString=function(p){return l.Log.debug("User.fromStorageString"),new c(JSON.parse(p))},u(c,[{key:"expires_in",get:function(){if(this.expires_at){var p=parseInt(Date.now()/1e3);return this.expires_at-p}},set:function(p){var v=parseInt(p);if(typeof v=="number"&&v>0){var y=parseInt(Date.now()/1e3);this.expires_at=y+v}}},{key:"expired",get:function(){var p=this.expires_in;if(p!==void 0)return p<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.AccessTokenEvents=void 0;var u=o(0),l=o(46);function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}i.AccessTokenEvents=function(){function g(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=p.accessTokenExpiringNotificationTime,y=v===void 0?60:v,_=p.accessTokenExpiringTimer,A=_===void 0?new l.Timer("Access token expiring"):_,x=p.accessTokenExpiredTimer,S=x===void 0?new l.Timer("Access token expired"):x;c(this,g),this._accessTokenExpiringNotificationTime=y,this._accessTokenExpiring=A,this._accessTokenExpired=S}return g.prototype.load=function(v){if(v.access_token&&v.expires_in!==void 0){var y=v.expires_in;if(u.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",y),y>0){var _=y-this._accessTokenExpiringNotificationTime;_<=0&&(_=1),u.Log.debug("AccessTokenEvents.load: registering expiring timer in:",_),this._accessTokenExpiring.init(_)}else u.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var A=y+1;u.Log.debug("AccessTokenEvents.load: registering expired timer in:",A),this._accessTokenExpired.init(A)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},g.prototype.unload=function(){u.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},g.prototype.addAccessTokenExpiring=function(v){this._accessTokenExpiring.addHandler(v)},g.prototype.removeAccessTokenExpiring=function(v){this._accessTokenExpiring.removeHandler(v)},g.prototype.addAccessTokenExpired=function(v){this._accessTokenExpired.addHandler(v)},g.prototype.removeAccessTokenExpired=function(v){this._accessTokenExpired.removeHandler(v)},g}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.Event=void 0;var u=o(0);i.Event=function(){function l(c){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,l),this._name=c,this._callbacks=[]}return l.prototype.addHandler=function(g){this._callbacks.push(g)},l.prototype.removeHandler=function(g){var p=this._callbacks.findIndex(function(v){return v===g});p>=0&&this._callbacks.splice(p,1)},l.prototype.raise=function(){u.Log.debug("Event: Raising event: "+this._name);for(var g=0;g<this._callbacks.length;g++){var p;(p=this._callbacks)[g].apply(p,arguments)}},l}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SessionMonitor=void 0;var u=function(){function v(y,_){for(var A=0;A<_.length;A++){var x=_[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,_,A){return _&&v(y.prototype,_),A&&v(y,A),y}}(),l=o(0),c=o(19),g=o(1);function p(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}i.SessionMonitor=function(){function v(y){var _=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.CheckSessionIFrame,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.Global.timer;if(p(this,v),!y)throw l.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=y,this._CheckSessionIFrameCtor=A,this._timer=x,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(S){S?_._start(S):_._settings.monitorAnonymousSession&&_._userManager.querySessionStatus().then(function(R){var T={session_state:R.session_state};R.sub&&R.sid&&(T.profile={sub:R.sub,sid:R.sid}),_._start(T)}).catch(function(R){l.Log.error("SessionMonitor ctor: error from querySessionStatus:",R.message)})}).catch(function(S){l.Log.error("SessionMonitor ctor: error from getUser:",S.message)}))}return v.prototype._start=function(_){var A=this,x=_.session_state;x&&(_.profile?(this._sub=_.profile.sub,this._sid=_.profile.sid,l.Log.debug("SessionMonitor._start: session_state:",x,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,l.Log.debug("SessionMonitor._start: session_state:",x,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(x):this._metadataService.getCheckSessionIframe().then(function(S){if(S){l.Log.debug("SessionMonitor._start: Initializing check session iframe");var R=A._client_id,T=A._checkSessionInterval,D=A._stopCheckSessionOnError;A._checkSessionIFrame=new A._CheckSessionIFrameCtor(A._callback.bind(A),R,S,T,D),A._checkSessionIFrame.load().then(function(){A._checkSessionIFrame.start(x)})}else l.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(S){l.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",S.message)}))},v.prototype._stop=function(){var _=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(l.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var A=this._timer.setInterval(function(){_._timer.clearInterval(A),_._userManager.querySessionStatus().then(function(x){var S={session_state:x.session_state};x.sub&&x.sid&&(S.profile={sub:x.sub,sid:x.sid}),_._start(S)}).catch(function(x){l.Log.error("SessionMonitor: error from querySessionStatus:",x.message)})},1e3)},v.prototype._callback=function(){var _=this;this._userManager.querySessionStatus().then(function(A){var x=!0;A?A.sub===_._sub?(x=!1,_._checkSessionIFrame.start(A.session_state),A.sid===_._sid?l.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",A.session_state):(l.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",A.session_state),_._userManager.events._raiseUserSessionChanged())):l.Log.debug("SessionMonitor._callback: Different subject signed into OP:",A.sub):l.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),x&&(_._sub?(l.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),_._userManager.events._raiseUserSignedOut()):(l.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),_._userManager.events._raiseUserSignedIn()))}).catch(function(A){_._sub&&(l.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",A.message),_._userManager.events._raiseUserSignedOut())})},u(v,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),v}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.CheckSessionIFrame=void 0;var u=o(0);function l(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}i.CheckSessionIFrame=function(){function c(g,p,v,y){var _=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];l(this,c),this._callback=g,this._client_id=p,this._url=v,this._interval=y||2e3,this._stopOnError=_;var A=v.indexOf("/",v.indexOf("//")+2);this._frame_origin=v.substr(0,A),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=v}return c.prototype.load=function(){var p=this;return new Promise(function(v){p._frame.onload=function(){v()},window.document.body.appendChild(p._frame),p._boundMessageEvent=p._message.bind(p),window.addEventListener("message",p._boundMessageEvent,!1)})},c.prototype._message=function(p){p.origin===this._frame_origin&&p.source===this._frame.contentWindow&&(p.data==="error"?(u.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):p.data==="changed"?(u.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):u.Log.debug("CheckSessionIFrame: "+p.data+" message from check session op iframe"))},c.prototype.start=function(p){var v=this;if(this._session_state!==p){u.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=p;var y=function(){v._frame.contentWindow.postMessage(v._client_id+" "+v._session_state,v._frame_origin)};y(),this._timer=window.setInterval(y,this._interval)}},c.prototype.stop=function(){this._session_state=null,this._timer&&(u.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenRevocationClient=void 0;var u=o(0),l=o(2),c=o(1);function g(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var p="access_token",v="refresh_token";i.TokenRevocationClient=function(){function y(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.Global.XMLHttpRequest,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.MetadataService;if(g(this,y),!_)throw u.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=_,this._XMLHttpRequestCtor=A,this._metadataService=new x(this._settings)}return y.prototype.revoke=function(A,x){var S=this,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!A)throw u.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(R!==p&&R!=v)throw u.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(T){if(T){u.Log.debug("TokenRevocationClient.revoke: Revoking "+R);var D=S._settings.client_id,C=S._settings.client_secret;return S._revoke(T,D,C,A,R)}if(x)throw u.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},y.prototype._revoke=function(A,x,S,R,T){var D=this;return new Promise(function(C,N){var k=new D._XMLHttpRequestCtor;k.open("POST",A),k.onload=function(){u.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",k.status),k.status===200?C():N(Error(k.statusText+" ("+k.status+")"))},k.onerror=function(){u.Log.debug("TokenRevocationClient.revoke: Network Error."),N("Network Error")};var L="client_id="+encodeURIComponent(x);S&&(L+="&client_secret="+encodeURIComponent(S)),L+="&token_type_hint="+encodeURIComponent(T),L+="&token="+encodeURIComponent(R),k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),k.send(L)})},y}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaPopupWindow=void 0;var u=function(){function c(g,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,v){return p&&c(g.prototype,p),v&&c(g,v),g}}(),l=o(0);i.CordovaPopupWindow=function(){function c(g){var p=this;(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,c),this._promise=new Promise(function(v,y){p._resolve=v,p._reject=y}),this.features=g.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=g.popupWindowTarget||"_blank",this.redirect_uri=g.startUrl,l.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return c.prototype._isInAppBrowserInstalled=function(p){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(v){return p.hasOwnProperty(v)})},c.prototype.navigate=function(p){if(p&&p.url){if(!window.cordova)return this._error("cordova is undefined");var v=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(v)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(p.url,this.target,this.features),this._popup?(l.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},c.prototype._loadStartCallback=function(p){p.url.indexOf(this.redirect_uri)===0&&this._success({url:p.url})},c.prototype._exitCallback=function(p){this._error(p)},c.prototype._success=function(p){this._cleanup(),l.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(p)},c.prototype._error=function(p){this._cleanup(),l.Log.error(p),this._reject(new Error(p))},c.prototype.close=function(){this._cleanup()},c.prototype._cleanup=function(){this._popup&&(l.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},u(c,[{key:"promise",get:function(){return this._promise}}]),c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0});var u=o(0),l=o(10),c=o(5),g=o(6),p=o(37),v=o(38),y=o(16),_=o(2),A=o(48),x=o(49),S=o(19),R=o(20),T=o(18),D=o(1),C=o(15),N=o(50);i.default={Version:N.Version,Log:u.Log,OidcClient:l.OidcClient,OidcClientSettings:c.OidcClientSettings,WebStorageStateStore:g.WebStorageStateStore,InMemoryWebStorage:p.InMemoryWebStorage,UserManager:v.UserManager,AccessTokenEvents:y.AccessTokenEvents,MetadataService:_.MetadataService,CordovaPopupNavigator:A.CordovaPopupNavigator,CordovaIFrameNavigator:x.CordovaIFrameNavigator,CheckSessionIFrame:S.CheckSessionIFrame,TokenRevocationClient:R.TokenRevocationClient,SessionMonitor:T.SessionMonitor,Global:D.Global,User:C.User},n.exports=i.default},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ClockService=function(){function u(){(function(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},u}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ResponseValidator=void 0;var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},l=o(0),c=o(2),g=o(25),p=o(11),v=o(12),y=o(4);function _(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}var A=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];i.ResponseValidator=function(){function x(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.MetadataService,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.UserInfoService,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y.JoseUtil,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:p.TokenClient;if(_(this,x),!S)throw l.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=S,this._metadataService=new R(this._settings),this._userInfoService=new T(this._settings),this._joseUtil=D,this._tokenClient=new C(this._settings)}return x.prototype.validateSigninResponse=function(R,T){var D=this;return l.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(R,T).then(function(C){return l.Log.debug("ResponseValidator.validateSigninResponse: state processed"),D._validateTokens(R,C).then(function(N){return l.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),D._processClaims(R,N).then(function(k){return l.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),k})})})},x.prototype.validateSignoutResponse=function(R,T){return R.id!==T.state?(l.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(l.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),T.state=R.data,T.error?(l.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",T.error),Promise.reject(new v.ErrorResponse(T))):Promise.resolve(T))},x.prototype._processSigninParams=function(R,T){if(R.id!==T.state)return l.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!R.client_id)return l.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!R.authority)return l.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==R.authority)return l.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=R.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==R.client_id)return l.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=R.client_id;return l.Log.debug("ResponseValidator._processSigninParams: state validated"),T.state=R.data,T.error?(l.Log.warn("ResponseValidator._processSigninParams: Response was error",T.error),Promise.reject(new v.ErrorResponse(T))):R.nonce&&!T.id_token?(l.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!R.nonce&&T.id_token?(l.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):R.code_verifier&&!T.code?(l.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!R.code_verifier&&T.code?(l.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(T.scope||(T.scope=R.scope),Promise.resolve(T))},x.prototype._processClaims=function(R,T){var D=this;if(T.isOpenIdConnect){if(l.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),T.profile=this._filterProtocolClaims(T.profile),R.skipUserInfo!==!0&&this._settings.loadUserInfo&&T.access_token)return l.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(T.access_token).then(function(C){return l.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),C.sub!==T.profile.sub?(l.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(T.profile=D._mergeClaims(T.profile,C),l.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",T.profile),T)});l.Log.debug("ResponseValidator._processClaims: not loading user info")}else l.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(T)},x.prototype._mergeClaims=function(R,T){var D=Object.assign({},R);for(var C in T){var N=T[C];Array.isArray(N)||(N=[N]);for(var k=0;k<N.length;k++){var L=N[k];D[C]?Array.isArray(D[C])?D[C].indexOf(L)<0&&D[C].push(L):D[C]!==L&&((L===void 0?"undefined":u(L))==="object"&&this._settings.mergeClaims?D[C]=this._mergeClaims(D[C],L):D[C]=[D[C],L]):D[C]=L}}return D},x.prototype._filterProtocolClaims=function(R){l.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",R);var T=Object.assign({},R);return this._settings._filterProtocolClaims?(A.forEach(function(D){delete T[D]}),l.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",T)):l.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),T},x.prototype._validateTokens=function(R,T){return T.code?(l.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(R,T)):T.id_token?T.access_token?(l.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(R,T)):(l.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(R,T)):(l.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(T))},x.prototype._processCode=function(R,T){var D=this,C={client_id:R.client_id,client_secret:R.client_secret,code:T.code,redirect_uri:R.redirect_uri,code_verifier:R.code_verifier};return R.extraTokenParams&&u(R.extraTokenParams)==="object"&&Object.assign(C,R.extraTokenParams),this._tokenClient.exchangeCode(C).then(function(N){for(var k in N)T[k]=N[k];return T.id_token?(l.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),D._validateIdTokenAttributes(R,T)):(l.Log.debug("ResponseValidator._processCode: token response successful, returning response"),T)})},x.prototype._validateIdTokenAttributes=function(R,T){var D=this;return this._metadataService.getIssuer().then(function(C){var N=R.client_id,k=D._settings.clockSkew;return l.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",k),D._settings.getEpochTime().then(function(L){return D._joseUtil.validateJwtAttributes(T.id_token,C,N,k,L).then(function(j){return R.nonce&&R.nonce!==j.nonce?(l.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):j.sub?(T.profile=j,T):(l.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},x.prototype._validateIdTokenAndAccessToken=function(R,T){var D=this;return this._validateIdToken(R,T).then(function(C){return D._validateAccessToken(C)})},x.prototype._getSigningKeyForJwt=function(R){var T=this;return this._metadataService.getSigningKeys().then(function(D){var C=R.header.kid;if(!D)return l.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));l.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var N=void 0;if(C)N=D.filter(function(k){return k.kid===C})[0];else{if((D=T._filterByAlg(D,R.header.alg)).length>1)return l.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));N=D[0]}return Promise.resolve(N)})},x.prototype._getSigningKeyForJwtWithSingleRetry=function(R){var T=this;return this._getSigningKeyForJwt(R).then(function(D){return D?Promise.resolve(D):(T._metadataService.resetSigningKeys(),T._getSigningKeyForJwt(R))})},x.prototype._validateIdToken=function(R,T){var D=this;if(!R.nonce)return l.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var C=this._joseUtil.parseJwt(T.id_token);return C&&C.header&&C.payload?R.nonce!==C.payload.nonce?(l.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(N){return l.Log.debug("ResponseValidator._validateIdToken: Received issuer"),D._getSigningKeyForJwtWithSingleRetry(C).then(function(k){if(!k)return l.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var L=R.client_id,j=D._settings.clockSkew;return l.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",j),D._joseUtil.validateJwt(T.id_token,k,N,L,j).then(function(){return l.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),C.payload.sub?(T.profile=C.payload,T):(l.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(l.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",C),Promise.reject(new Error("Failed to parse id_token")))},x.prototype._filterByAlg=function(R,T){var D=null;if(T.startsWith("RS"))D="RSA";else if(T.startsWith("PS"))D="PS";else{if(!T.startsWith("ES"))return l.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",T),[];D="EC"}return l.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",D),R=R.filter(function(C){return C.kty===D}),l.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",D,R.length),R},x.prototype._validateAccessToken=function(R){if(!R.profile)return l.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!R.profile.at_hash)return l.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!R.id_token)return l.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var T=this._joseUtil.parseJwt(R.id_token);if(!T||!T.header)return l.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",T),Promise.reject(new Error("Failed to parse id_token"));var D=T.header.alg;if(!D||D.length!==5)return l.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",D),Promise.reject(new Error("Unsupported alg: "+D));var C=D.substr(2,3);if(!C)return l.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",D,C),Promise.reject(new Error("Unsupported alg: "+D));if((C=parseInt(C))!==256&&C!==384&&C!==512)return l.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",D,C),Promise.reject(new Error("Unsupported alg: "+D));var N="sha"+C,k=this._joseUtil.hashString(R.access_token,N);if(!k)return l.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",N),Promise.reject(new Error("Failed to validate at_hash"));var L=k.substr(0,k.length/2),j=this._joseUtil.hexToBase64Url(L);return j!==R.profile.at_hash?(l.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",j,R.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(l.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(R))},x}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.UserInfoService=void 0;var u=o(7),l=o(2),c=o(0),g=o(4);function p(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}i.UserInfoService=function(){function v(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.JsonService,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.MetadataService,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g.JoseUtil;if(p(this,v),!y)throw c.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new _(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new A(this._settings),this._joseUtil=x}return v.prototype.getClaims=function(_){var A=this;return _?this._metadataService.getUserInfoEndpoint().then(function(x){return c.Log.debug("UserInfoService.getClaims: received userinfo url",x),A._jsonService.getJson(x,_).then(function(S){return c.Log.debug("UserInfoService.getClaims: claims received",S),S})}):(c.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},v.prototype._getClaimsFromJwt=function(_){var A=this;try{var x=this._joseUtil.parseJwt(_.responseText);if(!x||!x.header||!x.payload)return c.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",x),Promise.reject(new Error("Failed to parse id_token"));var S=x.header.kid,R=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":R=this._metadataService.getIssuer();break;case"ANY":R=Promise.resolve(x.payload.iss);break;default:R=Promise.resolve(this._settings.userInfoJwtIssuer)}return R.then(function(T){return c.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+T),A._metadataService.getSigningKeys().then(function(D){if(!D)return c.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));c.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var C=void 0;if(S)C=D.filter(function(L){return L.kid===S})[0];else{if((D=A._filterByAlg(D,x.header.alg)).length>1)return c.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));C=D[0]}if(!C)return c.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var N=A._settings.client_id,k=A._settings.clockSkew;return c.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",k),A._joseUtil.validateJwt(_.responseText,C,T,N,k,void 0,!0).then(function(){return c.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),x.payload})})})}catch(T){return c.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",T.message),void reject(T)}},v.prototype._filterByAlg=function(_,A){var x=null;if(A.startsWith("RS"))x="RSA";else if(A.startsWith("PS"))x="PS";else{if(!A.startsWith("ES"))return c.Log.debug("UserInfoService._filterByAlg: alg not supported: ",A),[];x="EC"}return c.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",x),_=_.filter(function(S){return S.kty===x}),c.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",x,_.length),_},v}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.AllowedSigningAlgs=i.b64tohex=i.hextob64u=i.crypto=i.X509=i.KeyUtil=i.jws=void 0;var u=o(27);i.jws=u.jws,i.KeyUtil=u.KEYUTIL,i.X509=u.X509,i.crypto=u.crypto,i.hextob64u=u.hextob64u,i.b64tohex=u.b64tohex,i.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,i,o){(function(u){Object.defineProperty(i,"__esModule",{value:!0});var l,c,g,p,v,y,_,A,x,S,R,T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},D={},C={},N=N||(l=Math,g=(c={}).lib={},p=g.Base=function(){function h(){}return{extend:function(m){h.prototype=this;var w=new h;return m&&w.mixIn(m),w.hasOwnProperty("init")||(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var w in m)m.hasOwnProperty(w)&&(this[w]=m[w]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=g.WordArray=p.extend({init:function(d,m){d=this.words=d||[],this.sigBytes=m??4*d.length},toString:function(d){return(d||_).stringify(this)},concat:function(d){var m=this.words,w=d.words,F=this.sigBytes,H=d.sigBytes;if(this.clamp(),F%4)for(var G=0;G<H;G++){var te=w[G>>>2]>>>24-G%4*8&255;m[F+G>>>2]|=te<<24-(F+G)%4*8}else for(G=0;G<H;G+=4)m[F+G>>>2]=w[G>>>2];return this.sigBytes+=H,this},clamp:function(){var d=this.words,m=this.sigBytes;d[m>>>2]&=4294967295<<32-m%4*8,d.length=l.ceil(m/4)},clone:function(){var d=p.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var m=[],w=0;w<d;w+=4)m.push(4294967296*l.random()|0);return new v.init(m,d)}}),y=c.enc={},_=y.Hex={stringify:function(d){for(var m=d.words,w=d.sigBytes,F=[],H=0;H<w;H++){var G=m[H>>>2]>>>24-H%4*8&255;F.push((G>>>4).toString(16)),F.push((15&G).toString(16))}return F.join("")},parse:function(d){for(var m=d.length,w=[],F=0;F<m;F+=2)w[F>>>3]|=parseInt(d.substr(F,2),16)<<24-F%8*4;return new v.init(w,m/2)}},A=y.Latin1={stringify:function(d){for(var m=d.words,w=d.sigBytes,F=[],H=0;H<w;H++){var G=m[H>>>2]>>>24-H%4*8&255;F.push(String.fromCharCode(G))}return F.join("")},parse:function(d){for(var m=d.length,w=[],F=0;F<m;F++)w[F>>>2]|=(255&d.charCodeAt(F))<<24-F%4*8;return new v.init(w,m)}},x=y.Utf8={stringify:function(d){try{return decodeURIComponent(escape(A.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return A.parse(unescape(encodeURIComponent(d)))}},S=g.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(d){typeof d=="string"&&(d=x.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var m=this._data,w=m.words,F=m.sigBytes,H=this.blockSize,G=F/(4*H),te=(G=d?l.ceil(G):l.max((0|G)-this._minBufferSize,0))*H,Q=l.min(4*te,F);if(te){for(var Z=0;Z<te;Z+=H)this._doProcessBlock(w,Z);var se=w.splice(0,te);m.sigBytes-=Q}return new v.init(se,Q)},clone:function(){var d=p.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0}),g.Hasher=S.extend({cfg:p.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(m,w){return new d.init(w).finalize(m)}},_createHmacHelper:function(d){return function(m,w){return new R.HMAC.init(d,w).finalize(m)}}}),R=c.algo={},c);(function(h){var d,m=(d=N).lib,w=m.Base,F=m.WordArray;(d=d.x64={}).Word=w.extend({init:function(G,te){this.high=G,this.low=te}}),d.WordArray=w.extend({init:function(G,te){G=this.words=G||[],this.sigBytes=te??8*G.length},toX32:function(){for(var G=this.words,te=G.length,Q=[],Z=0;Z<te;Z++){var se=G[Z];Q.push(se.high),Q.push(se.low)}return F.create(Q,this.sigBytes)},clone:function(){for(var G=w.clone.call(this),te=G.words=this.words.slice(0),Q=te.length,Z=0;Z<Q;Z++)te[Z]=te[Z].clone();return G}})})(),function(){var h=N,d=h.lib.WordArray;h.enc.Base64={stringify:function(w){var F=w.words,H=w.sigBytes,G=this._map;w.clamp(),w=[];for(var te=0;te<H;te+=3)for(var Q=(F[te>>>2]>>>24-te%4*8&255)<<16|(F[te+1>>>2]>>>24-(te+1)%4*8&255)<<8|F[te+2>>>2]>>>24-(te+2)%4*8&255,Z=0;4>Z&&te+.75*Z<H;Z++)w.push(G.charAt(Q>>>6*(3-Z)&63));if(F=G.charAt(64))for(;w.length%4;)w.push(F);return w.join("")},parse:function(w){var F=w.length,H=this._map;(G=H.charAt(64))&&(G=w.indexOf(G))!=-1&&(F=G);for(var G=[],te=0,Q=0;Q<F;Q++)if(Q%4){var Z=H.indexOf(w.charAt(Q-1))<<Q%4*2,se=H.indexOf(w.charAt(Q))>>>6-Q%4*2;G[te>>>2]|=(Z|se)<<24-te%4*8,te++}return d.create(G,te)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(h){for(var d=N,m=(F=d.lib).WordArray,w=F.Hasher,F=d.algo,H=[],G=[],te=function(Ue){return 4294967296*(Ue-(0|Ue))|0},Q=2,Z=0;64>Z;){var se;e:{se=Q;for(var oe=h.sqrt(se),ve=2;ve<=oe;ve++)if(!(se%ve)){se=!1;break e}se=!0}se&&(8>Z&&(H[Z]=te(h.pow(Q,.5))),G[Z]=te(h.pow(Q,1/3)),Z++),Q++}var _e=[];F=F.SHA256=w.extend({_doReset:function(){this._hash=new m.init(H.slice(0))},_doProcessBlock:function(Ue,ze){for(var W=this._hash.words,ae=W[0],ce=W[1],pe=W[2],Ne=W[3],$e=W[4],ct=W[5],et=W[6],Et=W[7],lt=0;64>lt;lt++){if(16>lt)_e[lt]=0|Ue[ze+lt];else{var ht=_e[lt-15],Pt=_e[lt-2];_e[lt]=((ht<<25|ht>>>7)^(ht<<14|ht>>>18)^ht>>>3)+_e[lt-7]+((Pt<<15|Pt>>>17)^(Pt<<13|Pt>>>19)^Pt>>>10)+_e[lt-16]}ht=Et+(($e<<26|$e>>>6)^($e<<21|$e>>>11)^($e<<7|$e>>>25))+($e&ct^~$e&et)+G[lt]+_e[lt],Pt=((ae<<30|ae>>>2)^(ae<<19|ae>>>13)^(ae<<10|ae>>>22))+(ae&ce^ae&pe^ce&pe),Et=et,et=ct,ct=$e,$e=Ne+ht|0,Ne=pe,pe=ce,ce=ae,ae=ht+Pt|0}W[0]=W[0]+ae|0,W[1]=W[1]+ce|0,W[2]=W[2]+pe|0,W[3]=W[3]+Ne|0,W[4]=W[4]+$e|0,W[5]=W[5]+ct|0,W[6]=W[6]+et|0,W[7]=W[7]+Et|0},_doFinalize:function(){var Ue=this._data,ze=Ue.words,W=8*this._nDataBytes,ae=8*Ue.sigBytes;return ze[ae>>>5]|=128<<24-ae%32,ze[14+(ae+64>>>9<<4)]=h.floor(W/4294967296),ze[15+(ae+64>>>9<<4)]=W,Ue.sigBytes=4*ze.length,this._process(),this._hash},clone:function(){var Ue=w.clone.call(this);return Ue._hash=this._hash.clone(),Ue}}),d.SHA256=w._createHelper(F),d.HmacSHA256=w._createHmacHelper(F)}(Math),function(){function h(){return w.create.apply(w,arguments)}for(var d=N,m=d.lib.Hasher,w=(H=d.x64).Word,F=H.WordArray,H=d.algo,G=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],te=[],Q=0;80>Q;Q++)te[Q]=h();H=H.SHA512=m.extend({_doReset:function(){this._hash=new F.init([new w.init(1779033703,4089235720),new w.init(3144134277,2227873595),new w.init(1013904242,4271175723),new w.init(2773480762,1595750129),new w.init(1359893119,2917565137),new w.init(2600822924,725511199),new w.init(528734635,4215389547),new w.init(1541459225,327033209)])},_doProcessBlock:function(se,oe){for(var ve=(ce=this._hash.words)[0],_e=ce[1],Re=ce[2],Ue=ce[3],ze=ce[4],W=ce[5],ae=ce[6],ce=ce[7],pe=ve.high,Ne=ve.low,$e=_e.high,ct=_e.low,et=Re.high,Et=Re.low,lt=Ue.high,ht=Ue.low,Pt=ze.high,Bt=ze.low,Vt=W.high,Fr=W.low,xr=ae.high,yr=ae.low,jt=ce.high,sr=ce.low,ur=pe,ir=Ne,mi=$e,jn=ct,Yi=et,qn=Et,Ji=lt,Xi=ht,Qt=Pt,wr=Bt,bi=Vt,Hn=Fr,fo=xr,_i=yr,Ca=jt,Kn=sr,Vr=0;80>Vr;Vr++){var ei=te[Vr];if(16>Vr)var zn=ei.high=0|se[oe+2*Vr],Zt=ei.low=0|se[oe+2*Vr+1];else{zn=((Zt=(zn=te[Vr-15]).high)>>>1|(Vn=zn.low)<<31)^(Zt>>>8|Vn<<24)^Zt>>>7;var Vn=(Vn>>>1|Zt<<31)^(Vn>>>8|Zt<<24)^(Vn>>>7|Zt<<25),ti=((Zt=(ti=te[Vr-2]).high)>>>19|(mr=ti.low)<<13)^(Zt<<3|mr>>>29)^Zt>>>6,mr=(mr>>>19|Zt<<13)^(mr<<3|Zt>>>29)^(mr>>>6|Zt<<26),bs=(Zt=te[Vr-7]).high,wi=(Si=te[Vr-16]).high,Si=Si.low;zn=(zn=(zn=zn+bs+((Zt=Vn+Zt.low)>>>0<Vn>>>0?1:0))+ti+((Zt=Zt+mr)>>>0<mr>>>0?1:0))+wi+((Zt=Zt+Si)>>>0<Si>>>0?1:0),ei.high=zn,ei.low=Zt}bs=Qt&bi^~Qt&fo,Si=wr&Hn^~wr&_i,ei=ur&mi^ur&Yi^mi&Yi;var If=ir&jn^ir&qn^jn&qn,dl=(Vn=(ur>>>28|ir<<4)^(ur<<30|ir>>>2)^(ur<<25|ir>>>7),ti=(ir>>>28|ur<<4)^(ir<<30|ur>>>2)^(ir<<25|ur>>>7),(mr=G[Vr]).high),hl=mr.low;wi=Ca+((Qt>>>14|wr<<18)^(Qt>>>18|wr<<14)^(Qt<<23|wr>>>9))+((mr=Kn+((wr>>>14|Qt<<18)^(wr>>>18|Qt<<14)^(wr<<23|Qt>>>9)))>>>0<Kn>>>0?1:0),Ca=fo,Kn=_i,fo=bi,_i=Hn,bi=Qt,Hn=wr,Qt=Ji+(wi=(wi=(wi=wi+bs+((mr=mr+Si)>>>0<Si>>>0?1:0))+dl+((mr=mr+hl)>>>0<hl>>>0?1:0))+zn+((mr=mr+Zt)>>>0<Zt>>>0?1:0))+((wr=Xi+mr|0)>>>0<Xi>>>0?1:0)|0,Ji=Yi,Xi=qn,Yi=mi,qn=jn,mi=ur,jn=ir,ur=wi+(ei=Vn+ei+((Zt=ti+If)>>>0<ti>>>0?1:0))+((ir=mr+Zt|0)>>>0<mr>>>0?1:0)|0}Ne=ve.low=Ne+ir,ve.high=pe+ur+(Ne>>>0<ir>>>0?1:0),ct=_e.low=ct+jn,_e.high=$e+mi+(ct>>>0<jn>>>0?1:0),Et=Re.low=Et+qn,Re.high=et+Yi+(Et>>>0<qn>>>0?1:0),ht=Ue.low=ht+Xi,Ue.high=lt+Ji+(ht>>>0<Xi>>>0?1:0),Bt=ze.low=Bt+wr,ze.high=Pt+Qt+(Bt>>>0<wr>>>0?1:0),Fr=W.low=Fr+Hn,W.high=Vt+bi+(Fr>>>0<Hn>>>0?1:0),yr=ae.low=yr+_i,ae.high=xr+fo+(yr>>>0<_i>>>0?1:0),sr=ce.low=sr+Kn,ce.high=jt+Ca+(sr>>>0<Kn>>>0?1:0)},_doFinalize:function(){var se=this._data,oe=se.words,ve=8*this._nDataBytes,_e=8*se.sigBytes;return oe[_e>>>5]|=128<<24-_e%32,oe[30+(_e+128>>>10<<5)]=Math.floor(ve/4294967296),oe[31+(_e+128>>>10<<5)]=ve,se.sigBytes=4*oe.length,this._process(),this._hash.toX32()},clone:function(){var se=m.clone.call(this);return se._hash=this._hash.clone(),se},blockSize:32}),d.SHA512=m._createHelper(H),d.HmacSHA512=m._createHmacHelper(H)}(),function(){var h=N,d=(F=h.x64).Word,m=F.WordArray,w=(F=h.algo).SHA512,F=F.SHA384=w.extend({_doReset:function(){this._hash=new m.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var G=w._doFinalize.call(this);return G.sigBytes-=16,G}});h.SHA384=w._createHelper(F),h.HmacSHA384=w._createHmacHelper(F)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var k,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function j(h){var d,m,w="";for(d=0;d+3<=h.length;d+=3)m=parseInt(h.substring(d,d+3),16),w+=L.charAt(m>>6)+L.charAt(63&m);for(d+1==h.length?(m=parseInt(h.substring(d,d+1),16),w+=L.charAt(m<<2)):d+2==h.length&&(m=parseInt(h.substring(d,d+2),16),w+=L.charAt(m>>2)+L.charAt((3&m)<<4)),"=";(3&w.length)>0;)w+="=";return w}function X(h){var d,m,w,F="",H=0;for(d=0;d<h.length&&h.charAt(d)!="=";++d)(w=L.indexOf(h.charAt(d)))<0||(H==0?(F+=Ve(w>>2),m=3&w,H=1):H==1?(F+=Ve(m<<2|w>>4),m=15&w,H=2):H==2?(F+=Ve(m),F+=Ve(w>>2),m=3&w,H=3):(F+=Ve(m<<2|w>>4),F+=Ve(15&w),H=0));return H==1&&(F+=Ve(m<<2)),F}function re(h){var d,m=X(h),w=new Array;for(d=0;2*d<m.length;++d)w[d]=parseInt(m.substring(2*d,2*d+2),16);return w}function B(h,d,m){h!=null&&(typeof h=="number"?this.fromNumber(h,d,m):d==null&&typeof h!="string"?this.fromString(h,256):this.fromString(h,d))}function Y(){return new B(null)}D.appName=="Microsoft Internet Explorer"?(B.prototype.am=function(d,m,w,F,H,G){for(var te=32767&m,Q=m>>15;--G>=0;){var Z=32767&this[d],se=this[d++]>>15,oe=Q*Z+se*te;H=((Z=te*Z+((32767&oe)<<15)+w[F]+(1073741823&H))>>>30)+(oe>>>15)+Q*se+(H>>>30),w[F++]=1073741823&Z}return H},k=30):D.appName!="Netscape"?(B.prototype.am=function(d,m,w,F,H,G){for(;--G>=0;){var te=m*this[d++]+w[F]+H;H=Math.floor(te/67108864),w[F++]=67108863&te}return H},k=26):(B.prototype.am=function(d,m,w,F,H,G){for(var te=16383&m,Q=m>>14;--G>=0;){var Z=16383&this[d],se=this[d++]>>14,oe=Q*Z+se*te;H=((Z=te*Z+((16383&oe)<<14)+w[F]+H)>>28)+(oe>>14)+Q*se,w[F++]=268435455&Z}return H},k=28),B.prototype.DB=k,B.prototype.DM=(1<<k)-1,B.prototype.DV=1<<k,B.prototype.FV=Math.pow(2,52),B.prototype.F1=52-k,B.prototype.F2=2*k-52;var me,ne,ke=new Array;for(me=48,ne=0;ne<=9;++ne)ke[me++]=ne;for(me=97,ne=10;ne<36;++ne)ke[me++]=ne;for(me=65,ne=10;ne<36;++ne)ke[me++]=ne;function Ve(h){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(h)}function ge(h,d){var m=ke[h.charCodeAt(d)];return m??-1}function Oe(h){var d=Y();return d.fromInt(h),d}function we(h){var d,m=1;return(d=h>>>16)!=0&&(h=d,m+=16),(d=h>>8)!=0&&(h=d,m+=8),(d=h>>4)!=0&&(h=d,m+=4),(d=h>>2)!=0&&(h=d,m+=2),(d=h>>1)!=0&&(h=d,m+=1),m}function Be(h){this.m=h}function q(h){this.m=h,this.mp=h.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<h.DB-15)-1,this.mt2=2*h.t}function le(h,d){return h&d}function Ae(h,d){return h|d}function be(h,d){return h^d}function We(h,d){return h&~d}function Xe(h){if(h==0)return-1;var d=0;return(65535&h)==0&&(h>>=16,d+=16),(255&h)==0&&(h>>=8,d+=8),(15&h)==0&&(h>>=4,d+=4),(3&h)==0&&(h>>=2,d+=2),(1&h)==0&&++d,d}function rt(h){for(var d=0;h!=0;)h&=h-1,++d;return d}function st(){}function Ce(h){return h}function He(h){this.r2=Y(),this.q3=Y(),B.ONE.dlShiftTo(2*h.t,this.r2),this.mu=this.r2.divide(h),this.m=h}Be.prototype.convert=function(d){return d.s<0||d.compareTo(this.m)>=0?d.mod(this.m):d},Be.prototype.revert=function(d){return d},Be.prototype.reduce=function(d){d.divRemTo(this.m,null,d)},Be.prototype.mulTo=function(d,m,w){d.multiplyTo(m,w),this.reduce(w)},Be.prototype.sqrTo=function(d,m){d.squareTo(m),this.reduce(m)},q.prototype.convert=function(d){var m=Y();return d.abs().dlShiftTo(this.m.t,m),m.divRemTo(this.m,null,m),d.s<0&&m.compareTo(B.ZERO)>0&&this.m.subTo(m,m),m},q.prototype.revert=function(d){var m=Y();return d.copyTo(m),this.reduce(m),m},q.prototype.reduce=function(d){for(;d.t<=this.mt2;)d[d.t++]=0;for(var m=0;m<this.m.t;++m){var w=32767&d[m],F=w*this.mpl+((w*this.mph+(d[m]>>15)*this.mpl&this.um)<<15)&d.DM;for(d[w=m+this.m.t]+=this.m.am(0,F,d,m,0,this.m.t);d[w]>=d.DV;)d[w]-=d.DV,d[++w]++}d.clamp(),d.drShiftTo(this.m.t,d),d.compareTo(this.m)>=0&&d.subTo(this.m,d)},q.prototype.mulTo=function(d,m,w){d.multiplyTo(m,w),this.reduce(w)},q.prototype.sqrTo=function(d,m){d.squareTo(m),this.reduce(m)},B.prototype.copyTo=function(d){for(var m=this.t-1;m>=0;--m)d[m]=this[m];d.t=this.t,d.s=this.s},B.prototype.fromInt=function(d){this.t=1,this.s=d<0?-1:0,d>0?this[0]=d:d<-1?this[0]=d+this.DV:this.t=0},B.prototype.fromString=function(d,m){var w;if(m==16)w=4;else if(m==8)w=3;else if(m==256)w=8;else if(m==2)w=1;else if(m==32)w=5;else{if(m!=4)return void this.fromRadix(d,m);w=2}this.t=0,this.s=0;for(var F=d.length,H=!1,G=0;--F>=0;){var te=w==8?255&d[F]:ge(d,F);te<0?d.charAt(F)=="-"&&(H=!0):(H=!1,G==0?this[this.t++]=te:G+w>this.DB?(this[this.t-1]|=(te&(1<<this.DB-G)-1)<<G,this[this.t++]=te>>this.DB-G):this[this.t-1]|=te<<G,(G+=w)>=this.DB&&(G-=this.DB))}w==8&&(128&d[0])!=0&&(this.s=-1,G>0&&(this[this.t-1]|=(1<<this.DB-G)-1<<G)),this.clamp(),H&&B.ZERO.subTo(this,this)},B.prototype.clamp=function(){for(var d=this.s&this.DM;this.t>0&&this[this.t-1]==d;)--this.t},B.prototype.dlShiftTo=function(d,m){var w;for(w=this.t-1;w>=0;--w)m[w+d]=this[w];for(w=d-1;w>=0;--w)m[w]=0;m.t=this.t+d,m.s=this.s},B.prototype.drShiftTo=function(d,m){for(var w=d;w<this.t;++w)m[w-d]=this[w];m.t=Math.max(this.t-d,0),m.s=this.s},B.prototype.lShiftTo=function(d,m){var w,F=d%this.DB,H=this.DB-F,G=(1<<H)-1,te=Math.floor(d/this.DB),Q=this.s<<F&this.DM;for(w=this.t-1;w>=0;--w)m[w+te+1]=this[w]>>H|Q,Q=(this[w]&G)<<F;for(w=te-1;w>=0;--w)m[w]=0;m[te]=Q,m.t=this.t+te+1,m.s=this.s,m.clamp()},B.prototype.rShiftTo=function(d,m){m.s=this.s;var w=Math.floor(d/this.DB);if(w>=this.t)m.t=0;else{var F=d%this.DB,H=this.DB-F,G=(1<<F)-1;m[0]=this[w]>>F;for(var te=w+1;te<this.t;++te)m[te-w-1]|=(this[te]&G)<<H,m[te-w]=this[te]>>F;F>0&&(m[this.t-w-1]|=(this.s&G)<<H),m.t=this.t-w,m.clamp()}},B.prototype.subTo=function(d,m){for(var w=0,F=0,H=Math.min(d.t,this.t);w<H;)F+=this[w]-d[w],m[w++]=F&this.DM,F>>=this.DB;if(d.t<this.t){for(F-=d.s;w<this.t;)F+=this[w],m[w++]=F&this.DM,F>>=this.DB;F+=this.s}else{for(F+=this.s;w<d.t;)F-=d[w],m[w++]=F&this.DM,F>>=this.DB;F-=d.s}m.s=F<0?-1:0,F<-1?m[w++]=this.DV+F:F>0&&(m[w++]=F),m.t=w,m.clamp()},B.prototype.multiplyTo=function(d,m){var w=this.abs(),F=d.abs(),H=w.t;for(m.t=H+F.t;--H>=0;)m[H]=0;for(H=0;H<F.t;++H)m[H+w.t]=w.am(0,F[H],m,H,0,w.t);m.s=0,m.clamp(),this.s!=d.s&&B.ZERO.subTo(m,m)},B.prototype.squareTo=function(d){for(var m=this.abs(),w=d.t=2*m.t;--w>=0;)d[w]=0;for(w=0;w<m.t-1;++w){var F=m.am(w,m[w],d,2*w,0,1);(d[w+m.t]+=m.am(w+1,2*m[w],d,2*w+1,F,m.t-w-1))>=m.DV&&(d[w+m.t]-=m.DV,d[w+m.t+1]=1)}d.t>0&&(d[d.t-1]+=m.am(w,m[w],d,2*w,0,1)),d.s=0,d.clamp()},B.prototype.divRemTo=function(d,m,w){var F=d.abs();if(!(F.t<=0)){var H=this.abs();if(H.t<F.t)return m!=null&&m.fromInt(0),void(w!=null&&this.copyTo(w));w==null&&(w=Y());var G=Y(),te=this.s,Q=d.s,Z=this.DB-we(F[F.t-1]);Z>0?(F.lShiftTo(Z,G),H.lShiftTo(Z,w)):(F.copyTo(G),H.copyTo(w));var se=G.t,oe=G[se-1];if(oe!=0){var ve=oe*(1<<this.F1)+(se>1?G[se-2]>>this.F2:0),_e=this.FV/ve,Re=(1<<this.F1)/ve,Ue=1<<this.F2,ze=w.t,W=ze-se,ae=m??Y();for(G.dlShiftTo(W,ae),w.compareTo(ae)>=0&&(w[w.t++]=1,w.subTo(ae,w)),B.ONE.dlShiftTo(se,ae),ae.subTo(G,G);G.t<se;)G[G.t++]=0;for(;--W>=0;){var ce=w[--ze]==oe?this.DM:Math.floor(w[ze]*_e+(w[ze-1]+Ue)*Re);if((w[ze]+=G.am(0,ce,w,W,0,se))<ce)for(G.dlShiftTo(W,ae),w.subTo(ae,w);w[ze]<--ce;)w.subTo(ae,w)}m!=null&&(w.drShiftTo(se,m),te!=Q&&B.ZERO.subTo(m,m)),w.t=se,w.clamp(),Z>0&&w.rShiftTo(Z,w),te<0&&B.ZERO.subTo(w,w)}}},B.prototype.invDigit=function(){if(this.t<1)return 0;var d=this[0];if((1&d)==0)return 0;var m=3&d;return(m=(m=(m=(m=m*(2-(15&d)*m)&15)*(2-(255&d)*m)&255)*(2-((65535&d)*m&65535))&65535)*(2-d*m%this.DV)%this.DV)>0?this.DV-m:-m},B.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},B.prototype.exp=function(d,m){if(d>4294967295||d<1)return B.ONE;var w=Y(),F=Y(),H=m.convert(this),G=we(d)-1;for(H.copyTo(w);--G>=0;)if(m.sqrTo(w,F),(d&1<<G)>0)m.mulTo(F,H,w);else{var te=w;w=F,F=te}return m.revert(w)},B.prototype.toString=function(d){if(this.s<0)return"-"+this.negate().toString(d);var m;if(d==16)m=4;else if(d==8)m=3;else if(d==2)m=1;else if(d==32)m=5;else{if(d!=4)return this.toRadix(d);m=2}var w,F=(1<<m)-1,H=!1,G="",te=this.t,Q=this.DB-te*this.DB%m;if(te-- >0)for(Q<this.DB&&(w=this[te]>>Q)>0&&(H=!0,G=Ve(w));te>=0;)Q<m?(w=(this[te]&(1<<Q)-1)<<m-Q,w|=this[--te]>>(Q+=this.DB-m)):(w=this[te]>>(Q-=m)&F,Q<=0&&(Q+=this.DB,--te)),w>0&&(H=!0),H&&(G+=Ve(w));return H?G:"0"},B.prototype.negate=function(){var d=Y();return B.ZERO.subTo(this,d),d},B.prototype.abs=function(){return this.s<0?this.negate():this},B.prototype.compareTo=function(d){var m=this.s-d.s;if(m!=0)return m;var w=this.t;if((m=w-d.t)!=0)return this.s<0?-m:m;for(;--w>=0;)if((m=this[w]-d[w])!=0)return m;return 0},B.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+we(this[this.t-1]^this.s&this.DM)},B.prototype.mod=function(d){var m=Y();return this.abs().divRemTo(d,null,m),this.s<0&&m.compareTo(B.ZERO)>0&&d.subTo(m,m),m},B.prototype.modPowInt=function(d,m){var w;return w=d<256||m.isEven()?new Be(m):new q(m),this.exp(d,w)},B.ZERO=Oe(0),B.ONE=Oe(1),st.prototype.convert=Ce,st.prototype.revert=Ce,st.prototype.mulTo=function(d,m,w){d.multiplyTo(m,w)},st.prototype.sqrTo=function(d,m){d.squareTo(m)},He.prototype.convert=function(d){if(d.s<0||d.t>2*this.m.t)return d.mod(this.m);if(d.compareTo(this.m)<0)return d;var m=Y();return d.copyTo(m),this.reduce(m),m},He.prototype.revert=function(d){return d},He.prototype.reduce=function(d){for(d.drShiftTo(this.m.t-1,this.r2),d.t>this.m.t+1&&(d.t=this.m.t+1,d.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);d.compareTo(this.r2)<0;)d.dAddOffset(1,this.m.t+1);for(d.subTo(this.r2,d);d.compareTo(this.m)>=0;)d.subTo(this.m,d)},He.prototype.mulTo=function(d,m,w){d.multiplyTo(m,w),this.reduce(w)},He.prototype.sqrTo=function(d,m){d.squareTo(m),this.reduce(m)};var Qe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ie=(1<<26)/Qe[Qe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function U(){this.i=0,this.j=0,this.S=new Array}B.prototype.chunkSize=function(d){return Math.floor(Math.LN2*this.DB/Math.log(d))},B.prototype.toRadix=function(d){if(d==null&&(d=10),this.signum()==0||d<2||d>36)return"0";var m=this.chunkSize(d),w=Math.pow(d,m),F=Oe(w),H=Y(),G=Y(),te="";for(this.divRemTo(F,H,G);H.signum()>0;)te=(w+G.intValue()).toString(d).substr(1)+te,H.divRemTo(F,H,G);return G.intValue().toString(d)+te},B.prototype.fromRadix=function(d,m){this.fromInt(0),m==null&&(m=10);for(var w=this.chunkSize(m),F=Math.pow(m,w),H=!1,G=0,te=0,Q=0;Q<d.length;++Q){var Z=ge(d,Q);Z<0?d.charAt(Q)=="-"&&this.signum()==0&&(H=!0):(te=m*te+Z,++G>=w&&(this.dMultiply(F),this.dAddOffset(te,0),G=0,te=0))}G>0&&(this.dMultiply(Math.pow(m,G)),this.dAddOffset(te,0)),H&&B.ZERO.subTo(this,this)},B.prototype.fromNumber=function(d,m,w){if(typeof m=="number")if(d<2)this.fromInt(1);else for(this.fromNumber(d,w),this.testBit(d-1)||this.bitwiseTo(B.ONE.shiftLeft(d-1),Ae,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(m);)this.dAddOffset(2,0),this.bitLength()>d&&this.subTo(B.ONE.shiftLeft(d-1),this);else{var F=new Array,H=7&d;F.length=1+(d>>3),m.nextBytes(F),H>0?F[0]&=(1<<H)-1:F[0]=0,this.fromString(F,256)}},B.prototype.bitwiseTo=function(d,m,w){var F,H,G=Math.min(d.t,this.t);for(F=0;F<G;++F)w[F]=m(this[F],d[F]);if(d.t<this.t){for(H=d.s&this.DM,F=G;F<this.t;++F)w[F]=m(this[F],H);w.t=this.t}else{for(H=this.s&this.DM,F=G;F<d.t;++F)w[F]=m(H,d[F]);w.t=d.t}w.s=m(this.s,d.s),w.clamp()},B.prototype.changeBit=function(d,m){var w=B.ONE.shiftLeft(d);return this.bitwiseTo(w,m,w),w},B.prototype.addTo=function(d,m){for(var w=0,F=0,H=Math.min(d.t,this.t);w<H;)F+=this[w]+d[w],m[w++]=F&this.DM,F>>=this.DB;if(d.t<this.t){for(F+=d.s;w<this.t;)F+=this[w],m[w++]=F&this.DM,F>>=this.DB;F+=this.s}else{for(F+=this.s;w<d.t;)F+=d[w],m[w++]=F&this.DM,F>>=this.DB;F+=d.s}m.s=F<0?-1:0,F>0?m[w++]=F:F<-1&&(m[w++]=this.DV+F),m.t=w,m.clamp()},B.prototype.dMultiply=function(d){this[this.t]=this.am(0,d-1,this,0,0,this.t),++this.t,this.clamp()},B.prototype.dAddOffset=function(d,m){if(d!=0){for(;this.t<=m;)this[this.t++]=0;for(this[m]+=d;this[m]>=this.DV;)this[m]-=this.DV,++m>=this.t&&(this[this.t++]=0),++this[m]}},B.prototype.multiplyLowerTo=function(d,m,w){var F,H=Math.min(this.t+d.t,m);for(w.s=0,w.t=H;H>0;)w[--H]=0;for(F=w.t-this.t;H<F;++H)w[H+this.t]=this.am(0,d[H],w,H,0,this.t);for(F=Math.min(d.t,m);H<F;++H)this.am(0,d[H],w,H,0,m-H);w.clamp()},B.prototype.multiplyUpperTo=function(d,m,w){--m;var F=w.t=this.t+d.t-m;for(w.s=0;--F>=0;)w[F]=0;for(F=Math.max(m-this.t,0);F<d.t;++F)w[this.t+F-m]=this.am(m-F,d[F],w,0,0,this.t+F-m);w.clamp(),w.drShiftTo(1,w)},B.prototype.modInt=function(d){if(d<=0)return 0;var m=this.DV%d,w=this.s<0?d-1:0;if(this.t>0)if(m==0)w=this[0]%d;else for(var F=this.t-1;F>=0;--F)w=(m*w+this[F])%d;return w},B.prototype.millerRabin=function(d){var m=this.subtract(B.ONE),w=m.getLowestSetBit();if(w<=0)return!1;var F=m.shiftRight(w);(d=d+1>>1)>Qe.length&&(d=Qe.length);for(var H=Y(),G=0;G<d;++G){H.fromInt(Qe[Math.floor(Math.random()*Qe.length)]);var te=H.modPow(F,this);if(te.compareTo(B.ONE)!=0&&te.compareTo(m)!=0){for(var Q=1;Q++<w&&te.compareTo(m)!=0;)if((te=te.modPowInt(2,this)).compareTo(B.ONE)==0)return!1;if(te.compareTo(m)!=0)return!1}}return!0},B.prototype.clone=function(){var d=Y();return this.copyTo(d),d},B.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},B.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},B.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},B.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},B.prototype.toByteArray=function(){var d=this.t,m=new Array;m[0]=this.s;var w,F=this.DB-d*this.DB%8,H=0;if(d-- >0)for(F<this.DB&&(w=this[d]>>F)!=(this.s&this.DM)>>F&&(m[H++]=w|this.s<<this.DB-F);d>=0;)F<8?(w=(this[d]&(1<<F)-1)<<8-F,w|=this[--d]>>(F+=this.DB-8)):(w=this[d]>>(F-=8)&255,F<=0&&(F+=this.DB,--d)),(128&w)!=0&&(w|=-256),H==0&&(128&this.s)!=(128&w)&&++H,(H>0||w!=this.s)&&(m[H++]=w);return m},B.prototype.equals=function(d){return this.compareTo(d)==0},B.prototype.min=function(d){return this.compareTo(d)<0?this:d},B.prototype.max=function(d){return this.compareTo(d)>0?this:d},B.prototype.and=function(d){var m=Y();return this.bitwiseTo(d,le,m),m},B.prototype.or=function(d){var m=Y();return this.bitwiseTo(d,Ae,m),m},B.prototype.xor=function(d){var m=Y();return this.bitwiseTo(d,be,m),m},B.prototype.andNot=function(d){var m=Y();return this.bitwiseTo(d,We,m),m},B.prototype.not=function(){for(var d=Y(),m=0;m<this.t;++m)d[m]=this.DM&~this[m];return d.t=this.t,d.s=~this.s,d},B.prototype.shiftLeft=function(d){var m=Y();return d<0?this.rShiftTo(-d,m):this.lShiftTo(d,m),m},B.prototype.shiftRight=function(d){var m=Y();return d<0?this.lShiftTo(-d,m):this.rShiftTo(d,m),m},B.prototype.getLowestSetBit=function(){for(var d=0;d<this.t;++d)if(this[d]!=0)return d*this.DB+Xe(this[d]);return this.s<0?this.t*this.DB:-1},B.prototype.bitCount=function(){for(var d=0,m=this.s&this.DM,w=0;w<this.t;++w)d+=rt(this[w]^m);return d},B.prototype.testBit=function(d){var m=Math.floor(d/this.DB);return m>=this.t?this.s!=0:(this[m]&1<<d%this.DB)!=0},B.prototype.setBit=function(d){return this.changeBit(d,Ae)},B.prototype.clearBit=function(d){return this.changeBit(d,We)},B.prototype.flipBit=function(d){return this.changeBit(d,be)},B.prototype.add=function(d){var m=Y();return this.addTo(d,m),m},B.prototype.subtract=function(d){var m=Y();return this.subTo(d,m),m},B.prototype.multiply=function(d){var m=Y();return this.multiplyTo(d,m),m},B.prototype.divide=function(d){var m=Y();return this.divRemTo(d,m,null),m},B.prototype.remainder=function(d){var m=Y();return this.divRemTo(d,null,m),m},B.prototype.divideAndRemainder=function(d){var m=Y(),w=Y();return this.divRemTo(d,m,w),new Array(m,w)},B.prototype.modPow=function(d,m){var w,F,H=d.bitLength(),G=Oe(1);if(H<=0)return G;w=H<18?1:H<48?3:H<144?4:H<768?5:6,F=H<8?new Be(m):m.isEven()?new He(m):new q(m);var te=new Array,Q=3,Z=w-1,se=(1<<w)-1;if(te[1]=F.convert(this),w>1){var oe=Y();for(F.sqrTo(te[1],oe);Q<=se;)te[Q]=Y(),F.mulTo(oe,te[Q-2],te[Q]),Q+=2}var ve,_e,Re=d.t-1,Ue=!0,ze=Y();for(H=we(d[Re])-1;Re>=0;){for(H>=Z?ve=d[Re]>>H-Z&se:(ve=(d[Re]&(1<<H+1)-1)<<Z-H,Re>0&&(ve|=d[Re-1]>>this.DB+H-Z)),Q=w;(1&ve)==0;)ve>>=1,--Q;if((H-=Q)<0&&(H+=this.DB,--Re),Ue)te[ve].copyTo(G),Ue=!1;else{for(;Q>1;)F.sqrTo(G,ze),F.sqrTo(ze,G),Q-=2;Q>0?F.sqrTo(G,ze):(_e=G,G=ze,ze=_e),F.mulTo(ze,te[ve],G)}for(;Re>=0&&(d[Re]&1<<H)==0;)F.sqrTo(G,ze),_e=G,G=ze,ze=_e,--H<0&&(H=this.DB-1,--Re)}return F.revert(G)},B.prototype.modInverse=function(d){var m=d.isEven();if(this.isEven()&&m||d.signum()==0)return B.ZERO;for(var w=d.clone(),F=this.clone(),H=Oe(1),G=Oe(0),te=Oe(0),Q=Oe(1);w.signum()!=0;){for(;w.isEven();)w.rShiftTo(1,w),m?(H.isEven()&&G.isEven()||(H.addTo(this,H),G.subTo(d,G)),H.rShiftTo(1,H)):G.isEven()||G.subTo(d,G),G.rShiftTo(1,G);for(;F.isEven();)F.rShiftTo(1,F),m?(te.isEven()&&Q.isEven()||(te.addTo(this,te),Q.subTo(d,Q)),te.rShiftTo(1,te)):Q.isEven()||Q.subTo(d,Q),Q.rShiftTo(1,Q);w.compareTo(F)>=0?(w.subTo(F,w),m&&H.subTo(te,H),G.subTo(Q,G)):(F.subTo(w,F),m&&te.subTo(H,te),Q.subTo(G,Q))}return F.compareTo(B.ONE)!=0?B.ZERO:Q.compareTo(d)>=0?Q.subtract(d):Q.signum()<0?(Q.addTo(d,Q),Q.signum()<0?Q.add(d):Q):Q},B.prototype.pow=function(d){return this.exp(d,new st)},B.prototype.gcd=function(d){var m=this.s<0?this.negate():this.clone(),w=d.s<0?d.negate():d.clone();if(m.compareTo(w)<0){var F=m;m=w,w=F}var H=m.getLowestSetBit(),G=w.getLowestSetBit();if(G<0)return m;for(H<G&&(G=H),G>0&&(m.rShiftTo(G,m),w.rShiftTo(G,w));m.signum()>0;)(H=m.getLowestSetBit())>0&&m.rShiftTo(H,m),(H=w.getLowestSetBit())>0&&w.rShiftTo(H,w),m.compareTo(w)>=0?(m.subTo(w,m),m.rShiftTo(1,m)):(w.subTo(m,w),w.rShiftTo(1,w));return G>0&&w.lShiftTo(G,w),w},B.prototype.isProbablePrime=function(d){var m,w=this.abs();if(w.t==1&&w[0]<=Qe[Qe.length-1]){for(m=0;m<Qe.length;++m)if(w[0]==Qe[m])return!0;return!1}if(w.isEven())return!1;for(m=1;m<Qe.length;){for(var F=Qe[m],H=m+1;H<Qe.length&&F<ie;)F*=Qe[H++];for(F=w.modInt(F);m<H;)if(F%Qe[m++]==0)return!1}return w.millerRabin(d)},B.prototype.square=function(){var d=Y();return this.squareTo(d),d},U.prototype.init=function(d){var m,w,F;for(m=0;m<256;++m)this.S[m]=m;for(w=0,m=0;m<256;++m)w=w+this.S[m]+d[m%d.length]&255,F=this.S[m],this.S[m]=this.S[w],this.S[w]=F;this.i=0,this.j=0},U.prototype.next=function(){var d;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,d=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=d,this.S[d+this.S[this.i]&255]};var O,z,$;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function fe(){(function(d){z[$++]^=255&d,z[$++]^=d>>8&255,z[$++]^=d>>16&255,z[$++]^=d>>24&255,$>=256&&($-=256)})(new Date().getTime())}if(z==null){var ue;if(z=new Array,$=0,C!==void 0&&(C.crypto!==void 0||C.msCrypto!==void 0)){var Pe=C.crypto||C.msCrypto;if(Pe.getRandomValues){var he=new Uint8Array(32);for(Pe.getRandomValues(he),ue=0;ue<32;++ue)z[$++]=he[ue]}else if(D.appName=="Netscape"&&D.appVersion<"5"){var Le=C.crypto.random(32);for(ue=0;ue<Le.length;++ue)z[$++]=255&Le.charCodeAt(ue)}}for(;$<256;)ue=Math.floor(65536*Math.random()),z[$++]=ue>>>8,z[$++]=255&ue;$=0,fe()}function Ge(){if(O==null){for(fe(),(O=function(){return new U}()).init(z),$=0;$<z.length;++$)z[$]=0;$=0}return O.next()}function qe(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function at(h,d){return new B(h,d)}function St(h,d,m){for(var w="",F=0;w.length<d;)w+=m(String.fromCharCode.apply(String,h.concat([(4278190080&F)>>24,(16711680&F)>>16,(65280&F)>>8,255&F]))),F+=1;return w}function it(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(h,d){this.x=d,this.q=h}function V(h,d,m,w){this.curve=h,this.x=d,this.y=m,this.z=w??B.ONE,this.zinv=null}function M(h,d,m){this.q=h,this.a=this.fromBigInteger(d),this.b=this.fromBigInteger(m),this.infinity=new V(this,null,null)}qe.prototype.nextBytes=function(d){var m;for(m=0;m<d.length;++m)d[m]=Ge()},it.prototype.doPublic=function(d){return d.modPowInt(this.e,this.n)},it.prototype.setPublic=function(d,m){if(this.isPublic=!0,this.isPrivate=!1,typeof d!="string")this.n=d,this.e=m;else{if(!(d!=null&&m!=null&&d.length>0&&m.length>0))throw"Invalid RSA public key";this.n=at(d,16),this.e=parseInt(m,16)}},it.prototype.encrypt=function(d){var m=function(G,te){if(te<G.length+11)throw"Message too long for RSA";for(var Q=new Array,Z=G.length-1;Z>=0&&te>0;){var se=G.charCodeAt(Z--);se<128?Q[--te]=se:se>127&&se<2048?(Q[--te]=63&se|128,Q[--te]=se>>6|192):(Q[--te]=63&se|128,Q[--te]=se>>6&63|128,Q[--te]=se>>12|224)}Q[--te]=0;for(var oe=new qe,ve=new Array;te>2;){for(ve[0]=0;ve[0]==0;)oe.nextBytes(ve);Q[--te]=ve[0]}return Q[--te]=2,Q[--te]=0,new B(Q)}(d,this.n.bitLength()+7>>3);if(m==null)return null;var w=this.doPublic(m);if(w==null)return null;var F=w.toString(16);return(1&F.length)==0?F:"0"+F},it.prototype.encryptOAEP=function(d,m,w){var F=function(Q,Z,se,oe){var ve=I.crypto.MessageDigest,_e=I.crypto.Util,Re=null;if(se||(se="sha1"),typeof se=="string"&&(Re=ve.getCanonicalAlgName(se),oe=ve.getHashLength(Re),se=function(et){return kr(_e.hashHex(Pr(et),Re))}),Q.length+2*oe+2>Z)throw"Message too long for RSA";var Ue,ze="";for(Ue=0;Ue<Z-Q.length-2*oe-2;Ue+=1)ze+="\0";var W=se("")+ze+""+Q,ae=new Array(oe);new qe().nextBytes(ae);var ce=St(ae,W.length,se),pe=[];for(Ue=0;Ue<W.length;Ue+=1)pe[Ue]=W.charCodeAt(Ue)^ce.charCodeAt(Ue);var Ne=St(pe,ae.length,se),$e=[0];for(Ue=0;Ue<ae.length;Ue+=1)$e[Ue+1]=ae[Ue]^Ne.charCodeAt(Ue);return new B($e.concat(pe))}(d,this.n.bitLength()+7>>3,m,w);if(F==null)return null;var H=this.doPublic(F);if(H==null)return null;var G=H.toString(16);return(1&G.length)==0?G:"0"+G},it.prototype.type="RSA",gt.prototype.equals=function(d){return d==this||this.q.equals(d.q)&&this.x.equals(d.x)},gt.prototype.toBigInteger=function(){return this.x},gt.prototype.negate=function(){return new gt(this.q,this.x.negate().mod(this.q))},gt.prototype.add=function(d){return new gt(this.q,this.x.add(d.toBigInteger()).mod(this.q))},gt.prototype.subtract=function(d){return new gt(this.q,this.x.subtract(d.toBigInteger()).mod(this.q))},gt.prototype.multiply=function(d){return new gt(this.q,this.x.multiply(d.toBigInteger()).mod(this.q))},gt.prototype.square=function(){return new gt(this.q,this.x.square().mod(this.q))},gt.prototype.divide=function(d){return new gt(this.q,this.x.multiply(d.toBigInteger().modInverse(this.q)).mod(this.q))},V.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},V.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},V.prototype.equals=function(d){return d==this||(this.isInfinity()?d.isInfinity():d.isInfinity()?this.isInfinity():!!d.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(d.z)).mod(this.curve.q).equals(B.ZERO)&&d.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(d.z)).mod(this.curve.q).equals(B.ZERO))},V.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(B.ZERO)&&!this.y.toBigInteger().equals(B.ZERO)},V.prototype.negate=function(){return new V(this.curve,this.x,this.y.negate(),this.z)},V.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var m=d.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(d.z)).mod(this.curve.q),w=d.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(d.z)).mod(this.curve.q);if(B.ZERO.equals(w))return B.ZERO.equals(m)?this.twice():this.curve.getInfinity();var F=new B("3"),H=this.x.toBigInteger(),G=this.y.toBigInteger(),te=(d.x.toBigInteger(),d.y.toBigInteger(),w.square()),Q=te.multiply(w),Z=H.multiply(te),se=m.square().multiply(this.z),oe=se.subtract(Z.shiftLeft(1)).multiply(d.z).subtract(Q).multiply(w).mod(this.curve.q),ve=Z.multiply(F).multiply(m).subtract(G.multiply(Q)).subtract(se.multiply(m)).multiply(d.z).add(m.multiply(Q)).mod(this.curve.q),_e=Q.multiply(this.z).multiply(d.z).mod(this.curve.q);return new V(this.curve,this.curve.fromBigInteger(oe),this.curve.fromBigInteger(ve),_e)},V.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var d=new B("3"),m=this.x.toBigInteger(),w=this.y.toBigInteger(),F=w.multiply(this.z),H=F.multiply(w).mod(this.curve.q),G=this.curve.a.toBigInteger(),te=m.square().multiply(d);B.ZERO.equals(G)||(te=te.add(this.z.square().multiply(G)));var Q=(te=te.mod(this.curve.q)).square().subtract(m.shiftLeft(3).multiply(H)).shiftLeft(1).multiply(F).mod(this.curve.q),Z=te.multiply(d).multiply(m).subtract(H.shiftLeft(1)).shiftLeft(2).multiply(H).subtract(te.square().multiply(te)).mod(this.curve.q),se=F.square().multiply(F).shiftLeft(3).mod(this.curve.q);return new V(this.curve,this.curve.fromBigInteger(Q),this.curve.fromBigInteger(Z),se)},V.prototype.multiply=function(d){if(this.isInfinity())return this;if(d.signum()==0)return this.curve.getInfinity();var m,w=d,F=w.multiply(new B("3")),H=this.negate(),G=this,te=this.curve.q.subtract(d),Q=te.multiply(new B("3")),Z=new V(this.curve,this.x,this.y),se=Z.negate();for(m=F.bitLength()-2;m>0;--m){G=G.twice();var oe=F.testBit(m);oe!=w.testBit(m)&&(G=G.add(oe?this:H))}for(m=Q.bitLength()-2;m>0;--m){Z=Z.twice();var ve=Q.testBit(m);ve!=te.testBit(m)&&(Z=Z.add(ve?Z:se))}return G},V.prototype.multiplyTwo=function(d,m,w){var F;F=d.bitLength()>w.bitLength()?d.bitLength()-1:w.bitLength()-1;for(var H=this.curve.getInfinity(),G=this.add(m);F>=0;)H=H.twice(),d.testBit(F)?H=w.testBit(F)?H.add(G):H.add(this):w.testBit(F)&&(H=H.add(m)),--F;return H},M.prototype.getQ=function(){return this.q},M.prototype.getA=function(){return this.a},M.prototype.getB=function(){return this.b},M.prototype.equals=function(d){return d==this||this.q.equals(d.q)&&this.a.equals(d.a)&&this.b.equals(d.b)},M.prototype.getInfinity=function(){return this.infinity},M.prototype.fromBigInteger=function(d){return new gt(this.q,d)},M.prototype.decodePointHex=function(d){switch(parseInt(d.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var m=(d.length-2)/2,w=d.substr(2,m),F=d.substr(m+2,m);return new V(this,this.fromBigInteger(new B(w,16)),this.fromBigInteger(new B(F,16)));default:return null}},gt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},V.prototype.getEncoded=function(h){var d=function(G,te){var Q=G.toByteArrayUnsigned();if(te<Q.length)Q=Q.slice(Q.length-te);else for(;te>Q.length;)Q.unshift(0);return Q},m=this.getX().toBigInteger(),w=this.getY().toBigInteger(),F=d(m,32);return h?w.isEven()?F.unshift(2):F.unshift(3):(F.unshift(4),F=F.concat(d(w,32))),F},V.decodeFrom=function(h,d){d[0];var m=d.length-1,w=d.slice(1,1+m/2),F=d.slice(1+m/2,1+m);w.unshift(0),F.unshift(0);var H=new B(w),G=new B(F);return new V(h,h.fromBigInteger(H),h.fromBigInteger(G))},V.decodeFromHex=function(h,d){d.substr(0,2);var m=d.length-2,w=d.substr(2,m/2),F=d.substr(2+m/2,m/2),H=new B(w,16),G=new B(F,16);return new V(h,h.fromBigInteger(H),h.fromBigInteger(G))},V.prototype.add2D=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;if(this.x.equals(h.x))return this.y.equals(h.y)?this.twice():this.curve.getInfinity();var d=h.x.subtract(this.x),m=h.y.subtract(this.y).divide(d),w=m.square().subtract(this.x).subtract(h.x),F=m.multiply(this.x.subtract(w)).subtract(this.y);return new V(this.curve,w,F)},V.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var h=this.curve.fromBigInteger(B.valueOf(2)),d=this.curve.fromBigInteger(B.valueOf(3)),m=this.x.square().multiply(d).add(this.curve.a).divide(this.y.multiply(h)),w=m.square().subtract(this.x.multiply(h)),F=m.multiply(this.x.subtract(w)).subtract(this.y);return new V(this.curve,w,F)},V.prototype.multiply2D=function(h){if(this.isInfinity())return this;if(h.signum()==0)return this.curve.getInfinity();var d,m=h,w=m.multiply(new B("3")),F=this.negate(),H=this;for(d=w.bitLength()-2;d>0;--d){H=H.twice();var G=w.testBit(d);G!=m.testBit(d)&&(H=H.add2D(G?this:F))}return H},V.prototype.isOnCurve=function(){var h=this.getX().toBigInteger(),d=this.getY().toBigInteger(),m=this.curve.getA().toBigInteger(),w=this.curve.getB().toBigInteger(),F=this.curve.getQ(),H=d.multiply(d).mod(F),G=h.multiply(h).multiply(h).add(m.multiply(h)).add(w).mod(F);return H.equals(G)},V.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},V.prototype.validate=function(){var h=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var d=this.getX().toBigInteger(),m=this.getY().toBigInteger();if(d.compareTo(B.ONE)<0||d.compareTo(h.subtract(B.ONE))>0)throw new Error("x coordinate out of bounds");if(m.compareTo(B.ONE)<0||m.compareTo(h.subtract(B.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(h).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var P=function(){var h=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),d=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),m={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function w(G,te,Q){return te?m[te]:String.fromCharCode(parseInt(Q,16))}var F=new String(""),H=Object.hasOwnProperty;return function(G,te){var Q,Z,se=G.match(h),oe=se[0],ve=!1;oe==="{"?Q={}:oe==="["?Q=[]:(Q=[],ve=!0);for(var _e=[Q],Re=1-ve,Ue=se.length;Re<Ue;++Re){var ze;switch((oe=se[Re]).charCodeAt(0)){default:(ze=_e[0])[Z||ze.length]=+oe,Z=void 0;break;case 34:if((oe=oe.substring(1,oe.length-1)).indexOf("\\")!==-1&&(oe=oe.replace(d,w)),ze=_e[0],!Z){if(!(ze instanceof Array)){Z=oe||F;break}Z=ze.length}ze[Z]=oe,Z=void 0;break;case 91:ze=_e[0],_e.unshift(ze[Z||ze.length]=[]),Z=void 0;break;case 93:_e.shift();break;case 102:(ze=_e[0])[Z||ze.length]=!1,Z=void 0;break;case 110:(ze=_e[0])[Z||ze.length]=null,Z=void 0;break;case 116:(ze=_e[0])[Z||ze.length]=!0,Z=void 0;break;case 123:ze=_e[0],_e.unshift(ze[Z||ze.length]={}),Z=void 0;break;case 125:_e.shift()}}if(ve){if(_e.length!==1)throw new Error;Q=Q[0]}else if(_e.length)throw new Error;return te&&(Q=function W(ae,ce){var pe=ae[ce];if(pe&&(pe===void 0?"undefined":T(pe))==="object"){var Ne=null;for(var $e in pe)if(H.call(pe,$e)&&pe!==ae){var ct=W(pe,$e);ct!==void 0?pe[$e]=ct:(Ne||(Ne=[]),Ne.push($e))}if(Ne)for(var et=Ne.length;--et>=0;)delete pe[Ne[et]]}return te.call(ae,ce,pe)}({"":Q},"")),Q}}();I!==void 0&&I||(i.KJUR=I={}),I.asn1!==void 0&&I.asn1||(I.asn1={}),I.asn1.ASN1Util=new function(){this.integerToByteHex=function(h){var d=h.toString(16);return d.length%2==1&&(d="0"+d),d},this.bigIntToMinTwosComplementsHex=function(h){var d=h.toString(16);if(d.substr(0,1)!="-")d.length%2==1?d="0"+d:d.match(/^[0-7]/)||(d="00"+d);else{var m=d.substr(1).length;m%2==1?m+=1:d.match(/^[0-7]/)||(m+=2);for(var w="",F=0;F<m;F++)w+="f";d=new B(w,16).xor(h).add(B.ONE).toString(16).replace(/^-/,"")}return d},this.getPEMStringFromHex=function(h,d){return nt(h,d)},this.newObject=function(h){var d=I.asn1,m=d.ASN1Object,w=d.DERBoolean,F=d.DERInteger,H=d.DERBitString,G=d.DEROctetString,te=d.DERNull,Q=d.DERObjectIdentifier,Z=d.DEREnumerated,se=d.DERUTF8String,oe=d.DERNumericString,ve=d.DERPrintableString,_e=d.DERTeletexString,Re=d.DERIA5String,Ue=d.DERUTCTime,ze=d.DERGeneralizedTime,W=d.DERVisibleString,ae=d.DERBMPString,ce=d.DERSequence,pe=d.DERSet,Ne=d.DERTaggedObject,$e=d.ASN1Util.newObject;if(h instanceof d.ASN1Object)return h;var ct=Object.keys(h);if(ct.length!=1)throw new Error("key of param shall be only one.");var et=ct[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+et+":")==-1)throw new Error("undefined key: "+et);if(et=="bool")return new w(h[et]);if(et=="int")return new F(h[et]);if(et=="bitstr")return new H(h[et]);if(et=="octstr")return new G(h[et]);if(et=="null")return new te(h[et]);if(et=="oid")return new Q(h[et]);if(et=="enum")return new Z(h[et]);if(et=="utf8str")return new se(h[et]);if(et=="numstr")return new oe(h[et]);if(et=="prnstr")return new ve(h[et]);if(et=="telstr")return new _e(h[et]);if(et=="ia5str")return new Re(h[et]);if(et=="utctime")return new Ue(h[et]);if(et=="gentime")return new ze(h[et]);if(et=="visstr")return new W(h[et]);if(et=="bmpstr")return new ae(h[et]);if(et=="asn1")return new m(h[et]);if(et=="seq"){for(var Et=h[et],lt=[],ht=0;ht<Et.length;ht++){var Pt=$e(Et[ht]);lt.push(Pt)}return new ce({array:lt})}if(et=="set"){for(Et=h[et],lt=[],ht=0;ht<Et.length;ht++)Pt=$e(Et[ht]),lt.push(Pt);return new pe({array:lt})}if(et=="tag"){var Bt=h[et];if(Object.prototype.toString.call(Bt)==="[object Array]"&&Bt.length==3){var Vt=$e(Bt[2]);return new Ne({tag:Bt[0],explicit:Bt[1],obj:Vt})}return new Ne(Bt)}},this.jsonToASN1HEX=function(h){return this.newObject(h).getEncodedHex()}},I.asn1.ASN1Util.oidHexToInt=function(h){for(var d="",m=parseInt(h.substr(0,2),16),w=(d=Math.floor(m/40)+"."+m%40,""),F=2;F<h.length;F+=2){var H=("00000000"+parseInt(h.substr(F,2),16).toString(2)).slice(-8);w+=H.substr(1,7),H.substr(0,1)=="0"&&(d=d+"."+new B(w,2).toString(10),w="")}return d},I.asn1.ASN1Util.oidIntToHex=function(h){var d=function(Q){var Z=Q.toString(16);return Z.length==1&&(Z="0"+Z),Z},m=function(Q){var Z="",se=new B(Q,10).toString(2),oe=7-se.length%7;oe==7&&(oe=0);for(var ve="",_e=0;_e<oe;_e++)ve+="0";for(se=ve+se,_e=0;_e<se.length-1;_e+=7){var Re=se.substr(_e,7);_e!=se.length-7&&(Re="1"+Re),Z+=d(parseInt(Re,2))}return Z};if(!h.match(/^[0-9.]+$/))throw"malformed oid string: "+h;var w="",F=h.split("."),H=40*parseInt(F[0])+parseInt(F[1]);w+=d(H),F.splice(0,2);for(var G=0;G<F.length;G++)w+=m(F[G]);return w},I.asn1.ASN1Object=function(h){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var d=this.hV.length/2,m=d.toString(16);if(m.length%2==1&&(m="0"+m),d<128)return m;var w=m.length/2;if(w>15)throw"ASN.1 length too long to represent by 8x: n = "+d.toString(16);return(128+w).toString(16)+m},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(d){this.params=d},h!=null&&h.tlv!=null&&(this.hTLV=h.tlv,this.isModified=!1)},I.asn1.DERAbstractString=function(h){I.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(d){this.hTLV=null,this.isModified=!0,this.s=d,this.hV=hn(this.s).toLowerCase()},this.setStringHex=function(d){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.getFreshValueHex=function(){return this.hV},h!==void 0&&(typeof h=="string"?this.setString(h):h.str!==void 0?this.setString(h.str):h.hex!==void 0&&this.setStringHex(h.hex))},Mt(I.asn1.DERAbstractString,I.asn1.ASN1Object),I.asn1.DERAbstractTime=function(h){I.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(d){var m=d.getTime()+6e4*d.getTimezoneOffset();return new Date(m)},this.formatDate=function(d,m,w){var F=this.zeroPadding,H=this.localDateToUTC(d),G=String(H.getFullYear());m=="utc"&&(G=G.substr(2,2));var te=G+F(String(H.getMonth()+1),2)+F(String(H.getDate()),2)+F(String(H.getHours()),2)+F(String(H.getMinutes()),2)+F(String(H.getSeconds()),2);if(w===!0){var Q=H.getMilliseconds();if(Q!=0){var Z=F(String(Q),3);te=te+"."+(Z=Z.replace(/[0]+$/,""))}}return te+"Z"},this.zeroPadding=function(d,m){return d.length>=m?d:new Array(m-d.length+1).join("0")+d},this.getString=function(){return this.s},this.setString=function(d){this.hTLV=null,this.isModified=!0,this.s=d,this.hV=At(d)},this.setByDateValue=function(d,m,w,F,H,G){var te=new Date(Date.UTC(d,m-1,w,F,H,G,0));this.setByDate(te)},this.getFreshValueHex=function(){return this.hV}},Mt(I.asn1.DERAbstractTime,I.asn1.ASN1Object),I.asn1.DERAbstractStructured=function(h){I.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(d){this.hTLV=null,this.isModified=!0,this.asn1Array=d},this.appendASN1Object=function(d){this.hTLV=null,this.isModified=!0,this.asn1Array.push(d)},this.asn1Array=new Array,h!==void 0&&h.array!==void 0&&(this.asn1Array=h.array)},Mt(I.asn1.DERAbstractStructured,I.asn1.ASN1Object),I.asn1.DERBoolean=function(h){I.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=h==0?"010100":"0101ff"},Mt(I.asn1.DERBoolean,I.asn1.ASN1Object),I.asn1.DERInteger=function(h){I.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(d){this.hTLV=null,this.isModified=!0,this.hV=I.asn1.ASN1Util.bigIntToMinTwosComplementsHex(d)},this.setByInteger=function(d){var m=new B(String(d),10);this.setByBigInteger(m)},this.setValueHex=function(d){this.hV=d},this.getFreshValueHex=function(){return this.hV},h!==void 0&&(h.bigint!==void 0?this.setByBigInteger(h.bigint):h.int!==void 0?this.setByInteger(h.int):typeof h=="number"?this.setByInteger(h):h.hex!==void 0&&this.setValueHex(h.hex))},Mt(I.asn1.DERInteger,I.asn1.ASN1Object),I.asn1.DERBitString=function(h){if(h!==void 0&&h.obj!==void 0){var d=I.asn1.ASN1Util.newObject(h.obj);h.hex="00"+d.getEncodedHex()}I.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(m){this.hTLV=null,this.isModified=!0,this.hV=m},this.setUnusedBitsAndHexValue=function(m,w){if(m<0||7<m)throw"unused bits shall be from 0 to 7: u = "+m;var F="0"+m;this.hTLV=null,this.isModified=!0,this.hV=F+w},this.setByBinaryString=function(m){var w=8-(m=m.replace(/0+$/,"")).length%8;w==8&&(w=0);for(var F=0;F<=w;F++)m+="0";var H="";for(F=0;F<m.length-1;F+=8){var G=m.substr(F,8),te=parseInt(G,2).toString(16);te.length==1&&(te="0"+te),H+=te}this.hTLV=null,this.isModified=!0,this.hV="0"+w+H},this.setByBooleanArray=function(m){for(var w="",F=0;F<m.length;F++)m[F]==1?w+="1":w+="0";this.setByBinaryString(w)},this.newFalseArray=function(m){for(var w=new Array(m),F=0;F<m;F++)w[F]=!1;return w},this.getFreshValueHex=function(){return this.hV},h!==void 0&&(typeof h=="string"&&h.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(h):h.hex!==void 0?this.setHexValueIncludingUnusedBits(h.hex):h.bin!==void 0?this.setByBinaryString(h.bin):h.array!==void 0&&this.setByBooleanArray(h.array))},Mt(I.asn1.DERBitString,I.asn1.ASN1Object),I.asn1.DEROctetString=function(h){if(h!==void 0&&h.obj!==void 0){var d=I.asn1.ASN1Util.newObject(h.obj);h.hex=d.getEncodedHex()}I.asn1.DEROctetString.superclass.constructor.call(this,h),this.hT="04"},Mt(I.asn1.DEROctetString,I.asn1.DERAbstractString),I.asn1.DERNull=function(){I.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Mt(I.asn1.DERNull,I.asn1.ASN1Object),I.asn1.DERObjectIdentifier=function(h){I.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(d){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.setValueOidString=function(d){var m=function(F){var H=function(ve){var _e=ve.toString(16);return _e.length==1&&(_e="0"+_e),_e},G=function(ve){var _e="",Re=parseInt(ve,10).toString(2),Ue=7-Re.length%7;Ue==7&&(Ue=0);for(var ze="",W=0;W<Ue;W++)ze+="0";for(Re=ze+Re,W=0;W<Re.length-1;W+=7){var ae=Re.substr(W,7);W!=Re.length-7&&(ae="1"+ae),_e+=H(parseInt(ae,2))}return _e};try{if(!F.match(/^[0-9.]+$/))return null;var te="",Q=F.split("."),Z=40*parseInt(Q[0],10)+parseInt(Q[1],10);te+=H(Z),Q.splice(0,2);for(var se=0;se<Q.length;se++)te+=G(Q[se]);return te}catch{return null}}(d);if(m==null)throw new Error("malformed oid string: "+d);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=m},this.setValueName=function(d){var m=I.asn1.x509.OID.name2oid(d);if(m==="")throw new Error("DERObjectIdentifier oidName undefined: "+d);this.setValueOidString(m)},this.setValueNameOrOid=function(d){d.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(d):this.setValueName(d)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(d){typeof d=="string"?this.setValueNameOrOid(d):d.oid!==void 0?this.setValueNameOrOid(d.oid):d.name!==void 0?this.setValueNameOrOid(d.name):d.hex!==void 0&&this.setValueHex(d.hex)},h!==void 0&&this.setByParam(h)},Mt(I.asn1.DERObjectIdentifier,I.asn1.ASN1Object),I.asn1.DEREnumerated=function(h){I.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(d){this.hTLV=null,this.isModified=!0,this.hV=I.asn1.ASN1Util.bigIntToMinTwosComplementsHex(d)},this.setByInteger=function(d){var m=new B(String(d),10);this.setByBigInteger(m)},this.setValueHex=function(d){this.hV=d},this.getFreshValueHex=function(){return this.hV},h!==void 0&&(h.int!==void 0?this.setByInteger(h.int):typeof h=="number"?this.setByInteger(h):h.hex!==void 0&&this.setValueHex(h.hex))},Mt(I.asn1.DEREnumerated,I.asn1.ASN1Object),I.asn1.DERUTF8String=function(h){I.asn1.DERUTF8String.superclass.constructor.call(this,h),this.hT="0c"},Mt(I.asn1.DERUTF8String,I.asn1.DERAbstractString),I.asn1.DERNumericString=function(h){I.asn1.DERNumericString.superclass.constructor.call(this,h),this.hT="12"},Mt(I.asn1.DERNumericString,I.asn1.DERAbstractString),I.asn1.DERPrintableString=function(h){I.asn1.DERPrintableString.superclass.constructor.call(this,h),this.hT="13"},Mt(I.asn1.DERPrintableString,I.asn1.DERAbstractString),I.asn1.DERTeletexString=function(h){I.asn1.DERTeletexString.superclass.constructor.call(this,h),this.hT="14"},Mt(I.asn1.DERTeletexString,I.asn1.DERAbstractString),I.asn1.DERIA5String=function(h){I.asn1.DERIA5String.superclass.constructor.call(this,h),this.hT="16"},Mt(I.asn1.DERIA5String,I.asn1.DERAbstractString),I.asn1.DERVisibleString=function(h){I.asn1.DERIA5String.superclass.constructor.call(this,h),this.hT="1a"},Mt(I.asn1.DERVisibleString,I.asn1.DERAbstractString),I.asn1.DERBMPString=function(h){I.asn1.DERBMPString.superclass.constructor.call(this,h),this.hT="1e"},Mt(I.asn1.DERBMPString,I.asn1.DERAbstractString),I.asn1.DERUTCTime=function(h){I.asn1.DERUTCTime.superclass.constructor.call(this,h),this.hT="17",this.setByDate=function(d){this.hTLV=null,this.isModified=!0,this.date=d,this.s=this.formatDate(this.date,"utc"),this.hV=At(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=At(this.s)),this.hV},h!==void 0&&(h.str!==void 0?this.setString(h.str):typeof h=="string"&&h.match(/^[0-9]{12}Z$/)?this.setString(h):h.hex!==void 0?this.setStringHex(h.hex):h.date!==void 0&&this.setByDate(h.date))},Mt(I.asn1.DERUTCTime,I.asn1.DERAbstractTime),I.asn1.DERGeneralizedTime=function(h){I.asn1.DERGeneralizedTime.superclass.constructor.call(this,h),this.hT="18",this.withMillis=!1,this.setByDate=function(d){this.hTLV=null,this.isModified=!0,this.date=d,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=At(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=At(this.s)),this.hV},h!==void 0&&(h.str!==void 0?this.setString(h.str):typeof h=="string"&&h.match(/^[0-9]{14}Z$/)?this.setString(h):h.hex!==void 0?this.setStringHex(h.hex):h.date!==void 0&&this.setByDate(h.date),h.millis===!0&&(this.withMillis=!0))},Mt(I.asn1.DERGeneralizedTime,I.asn1.DERAbstractTime),I.asn1.DERSequence=function(h){I.asn1.DERSequence.superclass.constructor.call(this,h),this.hT="30",this.getFreshValueHex=function(){for(var d="",m=0;m<this.asn1Array.length;m++)d+=this.asn1Array[m].getEncodedHex();return this.hV=d,this.hV}},Mt(I.asn1.DERSequence,I.asn1.DERAbstractStructured),I.asn1.DERSet=function(h){I.asn1.DERSet.superclass.constructor.call(this,h),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var d=new Array,m=0;m<this.asn1Array.length;m++){var w=this.asn1Array[m];d.push(w.getEncodedHex())}return this.sortFlag==1&&d.sort(),this.hV=d.join(""),this.hV},h!==void 0&&h.sortflag!==void 0&&h.sortflag==0&&(this.sortFlag=!1)},Mt(I.asn1.DERSet,I.asn1.DERAbstractStructured),I.asn1.DERTaggedObject=function(h){I.asn1.DERTaggedObject.superclass.constructor.call(this);var d=I.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(m,w,F){this.hT=w,this.isExplicit=m,this.asn1Object=F,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=F.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,w),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(m){m.tag!=null&&(this.hT=m.tag),m.explicit!=null&&(this.isExplicit=m.explicit),m.tage!=null&&(this.hT=m.tage,this.isExplicit=!0),m.tagi!=null&&(this.hT=m.tagi,this.isExplicit=!1),m.obj!=null&&(m.obj instanceof d.ASN1Object?(this.asn1Object=m.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):T(m.obj)=="object"&&(this.asn1Object=d.ASN1Util.newObject(m.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},h!=null&&this.setByParam(h)},Mt(I.asn1.DERTaggedObject,I.asn1.ASN1Object);var I,Ee,Fe,Se=new function(){};function vt(h){for(var d=new Array,m=0;m<h.length;m++)d[m]=h.charCodeAt(m);return d}function Nt(h){for(var d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);return d}function Ot(h){for(var d="",m=0;m<h.length;m++){var w=h[m].toString(16);w.length==1&&(w="0"+w),d+=w}return d}function At(h){return Ot(vt(h))}function Dt(h){return h=(h=(h=h.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function kn(h){return h.length%4==2?h+="==":h.length%4==3&&(h+="="),h=(h=h.replace(/-/g,"+")).replace(/_/g,"/")}function rr(h){return h.length%2==1&&(h="0"+h),Dt(j(h))}function Ut(h){return X(kn(h))}function hn(h){return nr(Ln(h))}function or(h){return decodeURIComponent(Pn(h))}function kr(h){for(var d="",m=0;m<h.length-1;m+=2)d+=String.fromCharCode(parseInt(h.substr(m,2),16));return d}function Pr(h){for(var d="",m=0;m<h.length;m++)d+=("0"+h.charCodeAt(m).toString(16)).slice(-2);return d}function yi(h){return j(h)}function ee(h){var d=yi(h).replace(/(.{64})/g,`$1\r
`);return d=d.replace(/\r\n$/,"")}function de(h){return X(h.replace(/[^0-9A-Za-z\/+=]*/g,""))}function nt(h,d){return"-----BEGIN "+d+`-----\r
`+ee(h)+`\r
-----END `+d+`-----\r
`}function tt(h,d){if(h.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+d;return de(h=d!==void 0?(h=h.replace(new RegExp("^[^]*-----BEGIN "+d+"-----"),"")).replace(new RegExp("-----END "+d+"-----[^]*$"),""):(h=h.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function ut(h){var d,m,w,F,H,G,te,Q,Z,se,oe;if(oe=h.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Q=oe[1],d=parseInt(Q),Q.length===2&&(50<=d&&d<100?d=1900+d:0<=d&&d<50&&(d=2e3+d)),m=parseInt(oe[2])-1,w=parseInt(oe[3]),F=parseInt(oe[4]),H=parseInt(oe[5]),G=parseInt(oe[6]),te=0,(Z=oe[7])!==""&&(se=(Z.substr(1)+"00").substr(0,3),te=parseInt(se)),Date.UTC(d,m,w,F,H,G,te);throw"unsupported zulu format: "+h}function It(h){return~~(ut(h)/1e3)}function nr(h){return h.replace(/%/g,"")}function Pn(h){return h.replace(/(..)/g,"%$1")}function En(h){var d="malformed IPv6 address";if(!h.match(/^[0-9A-Fa-f:]+$/))throw d;var m=(h=h.toLowerCase()).split(":").length-1;if(m<2)throw d;var w=":".repeat(7-m+2),F=(h=h.replace("::",w)).split(":");if(F.length!=8)throw d;for(var H=0;H<8;H++)F[H]=("0000"+F[H]).slice(-4);return F.join("")}function Da(h){if(!h.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var d=(h=h.toLowerCase()).match(/.{1,4}/g),m=0;m<8;m++)d[m]=d[m].replace(/^0+/,""),d[m]==""&&(d[m]="0");var w=(h=":"+d.join(":")+":").match(/:(0:){2,}/g);if(w===null)return h.slice(1,-1);var F="";for(m=0;m<w.length;m++)w[m].length>F.length&&(F=w[m]);return(h=h.replace(F,"::")).slice(1,-1)}function Wi(h){var d="malformed hex value";if(!h.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw d;if(h.length!=8)return h.length==32?Da(h):h;try{return parseInt(h.substr(0,2),16)+"."+parseInt(h.substr(2,2),16)+"."+parseInt(h.substr(4,2),16)+"."+parseInt(h.substr(6,2),16)}catch{throw d}}function Un(h){return h.match(/.{4}/g).map(function(m){var w=parseInt(m.substr(0,2),16),F=parseInt(m.substr(2),16);if(w==0&F<128)return String.fromCharCode(F);if(w<8){var H=128|63&F;return or((192|(7&w)<<3|(192&F)>>6).toString(16)+H.toString(16))}H=128|(15&w)<<2|(192&F)>>6;var G=128|63&F;return or((224|(240&w)>>4).toString(16)+H.toString(16)+G.toString(16))}).join("")}function Ln(h){for(var d=encodeURIComponent(h),m="",w=0;w<d.length;w++)d[w]=="%"?(m+=d.substr(w,3),w+=2):m=m+"%"+At(d[w]);return m}function pn(h){return!(h.length%2!=0||!h.match(/^[0-9a-f]+$/)&&!h.match(/^[0-9A-F]+$/))}function tn(h){return h.length%2==1?"0"+h:h.substr(0,1)>"7"?"00"+h:h}Se.getLblen=function(h,d){if(h.substr(d+2,1)!="8")return 1;var m=parseInt(h.substr(d+3,1));return m==0?-1:0<m&&m<10?m+1:-2},Se.getL=function(h,d){var m=Se.getLblen(h,d);return m<1?"":h.substr(d+2,2*m)},Se.getVblen=function(h,d){var m;return(m=Se.getL(h,d))==""?-1:(m.substr(0,1)==="8"?new B(m.substr(2),16):new B(m,16)).intValue()},Se.getVidx=function(h,d){var m=Se.getLblen(h,d);return m<0?m:d+2*(m+1)},Se.getV=function(h,d){var m=Se.getVidx(h,d),w=Se.getVblen(h,d);return h.substr(m,2*w)},Se.getTLV=function(h,d){return h.substr(d,2)+Se.getL(h,d)+Se.getV(h,d)},Se.getTLVblen=function(h,d){return 2+2*Se.getLblen(h,d)+2*Se.getVblen(h,d)},Se.getNextSiblingIdx=function(h,d){return Se.getVidx(h,d)+2*Se.getVblen(h,d)},Se.getChildIdx=function(h,d){var m,w,F,H=Se,G=[];m=H.getVidx(h,d),w=2*H.getVblen(h,d),h.substr(d,2)=="03"&&(m+=2,w-=2),F=0;for(var te=m;F<=w;){var Q=H.getTLVblen(h,te);if((F+=Q)<=w&&G.push(te),te+=Q,F>=w)break}return G},Se.getNthChildIdx=function(h,d,m){return Se.getChildIdx(h,d)[m]},Se.getIdxbyList=function(h,d,m,w){var F,H,G=Se;return m.length==0?w!==void 0&&h.substr(d,2)!==w?-1:d:(F=m.shift())>=(H=G.getChildIdx(h,d)).length?-1:G.getIdxbyList(h,H[F],m,w)},Se.getIdxbyListEx=function(h,d,m,w){var F,H,G=Se;if(m.length==0)return w!==void 0&&h.substr(d,2)!==w?-1:d;F=m.shift(),H=G.getChildIdx(h,d);for(var te=0,Q=0;Q<H.length;Q++){var Z=h.substr(H[Q],2);if(typeof F=="number"&&!G.isContextTag(Z)&&te==F||typeof F=="string"&&G.isContextTag(Z,F))return G.getIdxbyListEx(h,H[Q],m,w);G.isContextTag(Z)||te++}return-1},Se.getTLVbyList=function(h,d,m,w){var F=Se,H=F.getIdxbyList(h,d,m,w);return H==-1||H>=h.length?null:F.getTLV(h,H)},Se.getTLVbyListEx=function(h,d,m,w){var F=Se,H=F.getIdxbyListEx(h,d,m,w);return H==-1?null:F.getTLV(h,H)},Se.getVbyList=function(h,d,m,w,F){var H,G,te=Se;return(H=te.getIdxbyList(h,d,m,w))==-1||H>=h.length?null:(G=te.getV(h,H),F===!0&&(G=G.substr(2)),G)},Se.getVbyListEx=function(h,d,m,w,F){var H,G,te=Se;return(H=te.getIdxbyListEx(h,d,m,w))==-1?null:(G=te.getV(h,H),h.substr(H,2)=="03"&&F!==!1&&(G=G.substr(2)),G)},Se.getInt=function(h,d,m){m==null&&(m=-1);try{var w=h.substr(d,2);if(w!="02"&&w!="03")return m;var F=Se.getV(h,d);return w=="02"?parseInt(F,16):function(G){try{var te=G.substr(0,2);if(te=="00")return parseInt(G.substr(2),16);var Q=parseInt(te,16),Z=G.substr(2),se=parseInt(Z,16).toString(2);return se=="0"&&(se="00000000"),se=se.slice(0,0-Q),parseInt(se,2)}catch{return-1}}(F)}catch{return m}},Se.getOID=function(h,d,m){m==null&&(m=null);try{return h.substr(d,2)!="06"?m:function(F){if(!pn(F))return null;try{var H=[],G=F.substr(0,2),te=parseInt(G,16);H[0]=new String(Math.floor(te/40)),H[1]=new String(te%40);for(var Q=F.substr(2),Z=[],se=0;se<Q.length/2;se++)Z.push(parseInt(Q.substr(2*se,2),16));var oe=[],ve="";for(se=0;se<Z.length;se++)128&Z[se]?ve+=xn((127&Z[se]).toString(2),7):(ve+=xn((127&Z[se]).toString(2),7),oe.push(new String(parseInt(ve,2))),ve="");var _e=H.join(".");return oe.length>0&&(_e=_e+"."+oe.join(".")),_e}catch{return null}}(Se.getV(h,d))}catch{return m}},Se.getOIDName=function(h,d,m){m==null&&(m=null);try{var w=Se.getOID(h,d,m);if(w==m)return m;var F=I.asn1.x509.OID.oid2name(w);return F==""?w:F}catch{return m}},Se.getString=function(h,d,m){m==null&&(m=null);try{return kr(Se.getV(h,d))}catch{return m}},Se.hextooidstr=function(h){var d=function(ve,_e){return ve.length>=_e?ve:new Array(_e-ve.length+1).join("0")+ve},m=[],w=h.substr(0,2),F=parseInt(w,16);m[0]=new String(Math.floor(F/40)),m[1]=new String(F%40);for(var H=h.substr(2),G=[],te=0;te<H.length/2;te++)G.push(parseInt(H.substr(2*te,2),16));var Q=[],Z="";for(te=0;te<G.length;te++)128&G[te]?Z+=d((127&G[te]).toString(2),7):(Z+=d((127&G[te]).toString(2),7),Q.push(new String(parseInt(Z,2))),Z="");var se=m.join(".");return Q.length>0&&(se=se+"."+Q.join(".")),se},Se.dump=function(h,d,m,w){var F=Se,H=F.getV,G=F.dump,te=F.getChildIdx,Q=h;h instanceof I.asn1.ASN1Object&&(Q=h.getEncodedHex());var Z=function(et,Et){return et.length<=2*Et?et:et.substr(0,Et)+"..(total "+et.length/2+"bytes).."+et.substr(et.length-Et,Et)};d===void 0&&(d={ommit_long_octet:32}),m===void 0&&(m=0),w===void 0&&(w="");var se,oe=d.ommit_long_octet;if((se=Q.substr(m,2))=="01")return(ve=H(Q,m))=="00"?w+`BOOLEAN FALSE
`:w+`BOOLEAN TRUE
`;if(se=="02")return w+"INTEGER "+Z(ve=H(Q,m),oe)+`
`;if(se=="03"){var ve=H(Q,m);if(F.isASN1HEX(ve.substr(2))){var _e=w+`BITSTRING, encapsulates
`;return _e+=G(ve.substr(2),d,0,w+"  ")}return w+"BITSTRING "+Z(ve,oe)+`
`}if(se=="04")return ve=H(Q,m),F.isASN1HEX(ve)?(_e=w+`OCTETSTRING, encapsulates
`,_e+=G(ve,d,0,w+"  ")):w+"OCTETSTRING "+Z(ve,oe)+`
`;if(se=="05")return w+`NULL
`;if(se=="06"){var Re=H(Q,m),Ue=I.asn1.ASN1Util.oidHexToInt(Re),ze=I.asn1.x509.OID.oid2name(Ue),W=Ue.replace(/\./g," ");return ze!=""?w+"ObjectIdentifier "+ze+" ("+W+`)
`:w+"ObjectIdentifier ("+W+`)
`}if(se=="0a")return w+"ENUMERATED "+parseInt(H(Q,m))+`
`;if(se=="0c")return w+"UTF8String '"+or(H(Q,m))+`'
`;if(se=="13")return w+"PrintableString '"+or(H(Q,m))+`'
`;if(se=="14")return w+"TeletexString '"+or(H(Q,m))+`'
`;if(se=="16")return w+"IA5String '"+or(H(Q,m))+`'
`;if(se=="17")return w+"UTCTime "+or(H(Q,m))+`
`;if(se=="18")return w+"GeneralizedTime "+or(H(Q,m))+`
`;if(se=="1a")return w+"VisualString '"+or(H(Q,m))+`'
`;if(se=="1e")return w+"BMPString '"+Un(H(Q,m))+`'
`;if(se=="30"){if(Q.substr(m,4)=="3000")return w+`SEQUENCE {}
`;_e=w+`SEQUENCE
`;var ae=d;if(((Ne=te(Q,m)).length==2||Ne.length==3)&&Q.substr(Ne[0],2)=="06"&&Q.substr(Ne[Ne.length-1],2)=="04"){ze=F.oidname(H(Q,Ne[0]));var ce=JSON.parse(JSON.stringify(d));ce.x509ExtName=ze,ae=ce}for(var pe=0;pe<Ne.length;pe++)_e+=G(Q,ae,Ne[pe],w+"  ");return _e}if(se=="31"){_e=w+`SET
`;var Ne=te(Q,m);for(pe=0;pe<Ne.length;pe++)_e+=G(Q,d,Ne[pe],w+"  ");return _e}if((128&(se=parseInt(se,16)))!=0){var $e=31&se;if((32&se)!=0){for(_e=w+"["+$e+`]
`,Ne=te(Q,m),pe=0;pe<Ne.length;pe++)_e+=G(Q,d,Ne[pe],w+"  ");return _e}if(ve=H(Q,m),Se.isASN1HEX(ve)){var _e=w+"["+$e+`]
`;return _e+=G(ve,d,0,w+"  ")}return(ve.substr(0,8)=="68747470"||d.x509ExtName==="subjectAltName"&&$e==2)&&(ve=or(ve)),_e=w+"["+$e+"] "+ve+`
`}return w+"UNKNOWN("+se+") "+H(Q,m)+`
`},Se.isContextTag=function(h,d){var m,w;h=h.toLowerCase();try{m=parseInt(h,16)}catch{return-1}if(d===void 0)return(192&m)==128;try{return d.match(/^\[[0-9]+\]$/)!=null&&!((w=parseInt(d.substr(1,d.length-1),10))>31)&&(192&m)==128&&(31&m)==w}catch{return!1}},Se.isASN1HEX=function(h){var d=Se;if(h.length%2==1)return!1;var m=d.getVblen(h,0),w=h.substr(0,2),F=d.getL(h,0);return h.length-w.length-F.length==2*m},Se.checkStrictDER=function(h,d,m,w,F){var H=Se;if(m===void 0){if(typeof h!="string")throw new Error("not hex string");if(h=h.toLowerCase(),!I.lang.String.isHex(h))throw new Error("not hex string");m=h.length,F=(w=h.length/2)<128?1:Math.ceil(w.toString(16))+1}if(H.getL(h,d).length>2*F)throw new Error("L of TLV too long: idx="+d);var G=H.getVblen(h,d);if(G>w)throw new Error("value of L too long than hex: idx="+d);var te=H.getTLV(h,d),Q=te.length-2-H.getL(h,d).length;if(Q!==2*G)throw new Error("V string length and L's value not the same:"+Q+"/"+2*G);if(d===0&&h.length!=te.length)throw new Error("total length and TLV length unmatch:"+h.length+"!="+te.length);var Z=h.substr(d,2);if(Z==="02"){var se=H.getVidx(h,d);if(h.substr(se,2)=="00"&&h.charCodeAt(se+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Z,16)){for(var oe=H.getVblen(h,d),ve=0,_e=H.getChildIdx(h,d),Re=0;Re<_e.length;Re++)ve+=H.getTLV(h,_e[Re]).length,H.checkStrictDER(h,_e[Re],m,w,F);if(2*oe!=ve)throw new Error("sum of children's TLV length and L unmatch: "+2*oe+"!="+ve)}},Se.oidname=function(h){var d=I.asn1;I.lang.String.isHex(h)&&(h=d.ASN1Util.oidHexToInt(h));var m=d.x509.OID.oid2name(h);return m===""&&(m=h),m},I!==void 0&&I||(i.KJUR=I={}),I.lang!==void 0&&I.lang||(I.lang={}),I.lang.String=function(){},typeof u=="function"?(i.utf8tob64u=Ee=function(d){return Dt(u.from(d,"utf8").toString("base64"))},i.b64utoutf8=Fe=function(d){return u.from(kn(d),"base64").toString("utf8")}):(i.utf8tob64u=Ee=function(d){return rr(nr(Ln(d)))},i.b64utoutf8=Fe=function(d){return decodeURIComponent(Pn(Ut(d)))}),I.lang.String.isInteger=function(h){return!!h.match(/^[0-9]+$/)||!!h.match(/^-[0-9]+$/)},I.lang.String.isHex=function(h){return pn(h)},I.lang.String.isBase64=function(h){return!(!(h=h.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||h.length%4!=0)},I.lang.String.isBase64URL=function(h){return!h.match(/[+/=]/)&&(h=kn(h),I.lang.String.isBase64(h))},I.lang.String.isIntegerArray=function(h){return!!(h=h.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},I.lang.String.isPrintable=function(h){return h.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},I.lang.String.isIA5=function(h){return h.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},I.lang.String.isMail=function(h){return h.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var xn=function(d,m,w){return w==null&&(w="0"),d.length>=m?d:new Array(m-d.length+1).join(w)+d};function Mt(h,d){var m=function(){};m.prototype=d.prototype,h.prototype=new m,h.prototype.constructor=h,h.superclass=d.prototype,d.prototype.constructor==Object.prototype.constructor&&(d.prototype.constructor=d)}I!==void 0&&I||(i.KJUR=I={}),I.crypto!==void 0&&I.crypto||(I.crypto={}),I.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:N.algo.MD5,sha1:N.algo.SHA1,sha224:N.algo.SHA224,sha256:N.algo.SHA256,sha384:N.algo.SHA384,sha512:N.algo.SHA512,ripemd160:N.algo.RIPEMD160},this.getDigestInfoHex=function(h,d){if(this.DIGESTINFOHEAD[d]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+d;return this.DIGESTINFOHEAD[d]+h},this.getPaddedDigestInfoHex=function(h,d,m){var w=this.getDigestInfoHex(h,d),F=m/4;if(w.length+22>F)throw"key is too short for SigAlg: keylen="+m+","+d;for(var H="0001",G="00"+w,te="",Q=F-H.length-G.length,Z=0;Z<Q;Z+=2)te+="ff";return H+te+G},this.hashString=function(h,d){return new I.crypto.MessageDigest({alg:d}).digestString(h)},this.hashHex=function(h,d){return new I.crypto.MessageDigest({alg:d}).digestHex(h)},this.sha1=function(h){return this.hashString(h,"sha1")},this.sha256=function(h){return this.hashString(h,"sha256")},this.sha256Hex=function(h){return this.hashHex(h,"sha256")},this.sha512=function(h){return this.hashString(h,"sha512")},this.sha512Hex=function(h){return this.hashHex(h,"sha512")},this.isKey=function(h){return h instanceof it||h instanceof I.crypto.DSA||h instanceof I.crypto.ECDSA}},I.crypto.Util.md5=function(h){return new I.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(h)},I.crypto.Util.ripemd160=function(h){return new I.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(h)},I.crypto.Util.SECURERANDOMGEN=new qe,I.crypto.Util.getRandomHexOfNbytes=function(h){var d=new Array(h);return I.crypto.Util.SECURERANDOMGEN.nextBytes(d),Ot(d)},I.crypto.Util.getRandomBigIntegerOfNbytes=function(h){return new B(I.crypto.Util.getRandomHexOfNbytes(h),16)},I.crypto.Util.getRandomHexOfNbits=function(h){var d=h%8,m=new Array((h-d)/8+1);return I.crypto.Util.SECURERANDOMGEN.nextBytes(m),m[0]=(255<<d&255^255)&m[0],Ot(m)},I.crypto.Util.getRandomBigIntegerOfNbits=function(h){return new B(I.crypto.Util.getRandomHexOfNbits(h),16)},I.crypto.Util.getRandomBigIntegerZeroToMax=function(h){for(var d=h.bitLength();;){var m=I.crypto.Util.getRandomBigIntegerOfNbits(d);if(h.compareTo(m)!=-1)return m}},I.crypto.Util.getRandomBigIntegerMinToMax=function(h,d){var m=h.compareTo(d);if(m==1)throw"biMin is greater than biMax";if(m==0)return h;var w=d.subtract(h);return I.crypto.Util.getRandomBigIntegerZeroToMax(w).add(h)},I.crypto.MessageDigest=function(h){this.setAlgAndProvider=function(d,m){if((d=I.crypto.MessageDigest.getCanonicalAlgName(d))!==null&&m===void 0&&(m=I.crypto.Util.DEFAULTPROVIDER[d]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(d)!=-1&&m=="cryptojs"){try{this.md=I.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[d].create()}catch(w){throw"setAlgAndProvider hash alg set fail alg="+d+"/"+w}this.updateString=function(w){this.md.update(w)},this.updateHex=function(w){var F=N.enc.Hex.parse(w);this.md.update(F)},this.digest=function(){return this.md.finalize().toString(N.enc.Hex)},this.digestString=function(w){return this.updateString(w),this.digest()},this.digestHex=function(w){return this.updateHex(w),this.digest()}}if(":sha256:".indexOf(d)!=-1&&m=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(w){throw"setAlgAndProvider hash alg set fail alg="+d+"/"+w}this.updateString=function(w){this.md.update(w)},this.updateHex=function(w){var F=sjcl.codec.hex.toBits(w);this.md.update(F)},this.digest=function(){var w=this.md.finalize();return sjcl.codec.hex.fromBits(w)},this.digestString=function(w){return this.updateString(w),this.digest()},this.digestHex=function(w){return this.updateHex(w),this.digest()}}},this.updateString=function(d){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(d){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(d){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(d){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},h!==void 0&&h.alg!==void 0&&(this.algName=h.alg,h.prov===void 0&&(this.provName=I.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},I.crypto.MessageDigest.getCanonicalAlgName=function(h){return typeof h=="string"&&(h=(h=h.toLowerCase()).replace(/-/,"")),h},I.crypto.MessageDigest.getHashLength=function(h){var d=I.crypto.MessageDigest,m=d.getCanonicalAlgName(h);if(d.HASHLENGTH[m]===void 0)throw"not supported algorithm: "+h;return d.HASHLENGTH[m]},I.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},I.crypto.Mac=function(h){this.setAlgAndProvider=function(d,m){if((d=d.toLowerCase())==null&&(d="hmacsha1"),(d=d.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+d;m===void 0&&(m=I.crypto.Util.DEFAULTPROVIDER[d]),this.algProv=d+"/"+m;var w=d.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(w)!=-1&&m=="cryptojs"){try{var F=I.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[w];this.mac=N.algo.HMAC.create(F,this.pass)}catch(H){throw"setAlgAndProvider hash alg set fail hashAlg="+w+"/"+H}this.updateString=function(H){this.mac.update(H)},this.updateHex=function(H){var G=N.enc.Hex.parse(H);this.mac.update(G)},this.doFinal=function(){return this.mac.finalize().toString(N.enc.Hex)},this.doFinalString=function(H){return this.updateString(H),this.doFinal()},this.doFinalHex=function(H){return this.updateHex(H),this.doFinal()}}},this.updateString=function(d){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(d){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(d){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(d){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(d){if(typeof d=="string"){var m=d;return d.length%2!=1&&d.match(/^[0-9A-Fa-f]+$/)||(m=Pr(d)),void(this.pass=N.enc.Hex.parse(m))}if((d===void 0?"undefined":T(d))!="object")throw"KJUR.crypto.Mac unsupported password type: "+d;if(m=null,d.hex!==void 0){if(d.hex.length%2!=0||!d.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+d.hex;m=d.hex}if(d.utf8!==void 0&&(m=hn(d.utf8)),d.rstr!==void 0&&(m=Pr(d.rstr)),d.b64!==void 0&&(m=X(d.b64)),d.b64u!==void 0&&(m=Ut(d.b64u)),m==null)throw"KJUR.crypto.Mac unsupported password type: "+d;this.pass=N.enc.Hex.parse(m)},h!==void 0&&(h.pass!==void 0&&this.setPassword(h.pass),h.alg!==void 0&&(this.algName=h.alg,h.prov===void 0&&(this.provName=I.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},I.crypto.Signature=function(h){var d=null;if(this._setAlgNames=function(){var m=this.algName.match(/^(.+)with(.+)$/);m&&(this.mdAlgName=m[1].toLowerCase(),this.pubkeyAlgName=m[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(m,w){for(var F="",H=w/4-m.length,G=0;G<H;G++)F+="0";return F+m},this.setAlgAndProvider=function(m,w){if(this._setAlgNames(),w!="cryptojs/jsrsa")throw new Error("provider not supported: "+w);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new I.crypto.MessageDigest({alg:this.mdAlgName})}catch(F){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+F)}this.init=function(F,H){var G=null;try{G=H===void 0?wt.getKey(F):wt.getKey(F,H)}catch(te){throw"init failed:"+te}if(G.isPrivate===!0)this.prvKey=G,this.state="SIGN";else{if(G.isPublic!==!0)throw"init failed.:"+G;this.pubKey=G,this.state="VERIFY"}},this.updateString=function(F){this.md.updateString(F)},this.updateHex=function(F){this.md.updateHex(F)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&I.crypto.ECDSA!==void 0&&(this.prvKey=new I.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof it&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof it&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof I.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof I.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(F){return this.updateString(F),this.sign()},this.signHex=function(F){return this.updateHex(F),this.sign()},this.verify=function(F){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&I.crypto.ECDSA!==void 0&&(this.pubKey=new I.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof it&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,F,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof it&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,F);if(I.crypto.ECDSA!==void 0&&this.pubKey instanceof I.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,F);if(I.crypto.DSA!==void 0&&this.pubKey instanceof I.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,F);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(m,w){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(m){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(m){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(m){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(m){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=h,h!==void 0&&(h.alg!==void 0&&(this.algName=h.alg,h.prov===void 0?this.provName=I.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=h.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),h.psssaltlen!==void 0&&(this.pssSaltLen=h.psssaltlen),h.prvkeypem!==void 0)){if(h.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{d=wt.getKey(h.prvkeypem),this.init(d)}catch(m){throw"fatal error to load pem private key: "+m}}},I.crypto.Cipher=function(h){},I.crypto.Cipher.encrypt=function(h,d,m){if(d instanceof it&&d.isPublic){var w=I.crypto.Cipher.getAlgByKeyAndName(d,m);if(w==="RSA")return d.encrypt(h);if(w==="RSAOAEP")return d.encryptOAEP(h,"sha1");var F=w.match(/^RSAOAEP(\d+)$/);if(F!==null)return d.encryptOAEP(h,"sha"+F[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+m}throw"Cipher.encrypt: unsupported key or algorithm"},I.crypto.Cipher.decrypt=function(h,d,m){if(d instanceof it&&d.isPrivate){var w=I.crypto.Cipher.getAlgByKeyAndName(d,m);if(w==="RSA")return d.decrypt(h);if(w==="RSAOAEP")return d.decryptOAEP(h,"sha1");var F=w.match(/^RSAOAEP(\d+)$/);if(F!==null)return d.decryptOAEP(h,"sha"+F[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+m}throw"Cipher.decrypt: unsupported key or algorithm"},I.crypto.Cipher.getAlgByKeyAndName=function(h,d){if(h instanceof it){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(d)!=-1)return d;if(d==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+d}throw"getAlgByKeyAndName: not supported algorithm name: "+d},I.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},I!==void 0&&I||(i.KJUR=I={}),I.crypto!==void 0&&I.crypto||(I.crypto={}),I.crypto.ECDSA=function(h){var d=Error,m=B,w=V,F=I.crypto.ECDSA,H=I.crypto.ECParameterDB,G=F.getName,te=Se,Q=te.getVbyListEx,Z=te.isASN1HEX,se=new qe;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(oe){return new m(oe.bitLength(),se).mod(oe.subtract(m.ONE)).add(m.ONE)},this.setNamedCurve=function(oe){this.ecparams=H.getByName(oe),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=oe},this.setPrivateKeyHex=function(oe){this.isPrivate=!0,this.prvKeyHex=oe},this.setPublicKeyHex=function(oe){this.isPublic=!0,this.pubKeyHex=oe},this.getPublicKeyXYHex=function(){var oe=this.pubKeyHex;if(oe.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ve=this.ecparams.keylen/4;if(oe.length!==2+2*ve)throw"malformed public key hex length";var _e={};return _e.x=oe.substr(2,ve),_e.y=oe.substr(2+ve),_e},this.getShortNISTPCurveName=function(){var oe=this.curveName;return oe==="secp256r1"||oe==="NIST P-256"||oe==="P-256"||oe==="prime256v1"?"P-256":oe==="secp384r1"||oe==="NIST P-384"||oe==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var oe=this.ecparams.n,ve=this.getBigRandom(oe),_e=this.ecparams.G.multiply(ve),Re=_e.getX().toBigInteger(),Ue=_e.getY().toBigInteger(),ze=this.ecparams.keylen/4,W=("0000000000"+ve.toString(16)).slice(-ze),ae="04"+("0000000000"+Re.toString(16)).slice(-ze)+("0000000000"+Ue.toString(16)).slice(-ze);return this.setPrivateKeyHex(W),this.setPublicKeyHex(ae),{ecprvhex:W,ecpubhex:ae}},this.signWithMessageHash=function(oe){return this.signHex(oe,this.prvKeyHex)},this.signHex=function(oe,ve){var _e=new m(ve,16),Re=this.ecparams.n,Ue=new m(oe.substring(0,this.ecparams.keylen/4),16);do var ze=this.getBigRandom(Re),W=this.ecparams.G.multiply(ze).getX().toBigInteger().mod(Re);while(W.compareTo(m.ZERO)<=0);var ae=ze.modInverse(Re).multiply(Ue.add(_e.multiply(W))).mod(Re);return F.biRSSigToASN1Sig(W,ae)},this.sign=function(oe,ve){var _e=ve,Re=this.ecparams.n,Ue=m.fromByteArrayUnsigned(oe);do var ze=this.getBigRandom(Re),W=this.ecparams.G.multiply(ze).getX().toBigInteger().mod(Re);while(W.compareTo(B.ZERO)<=0);var ae=ze.modInverse(Re).multiply(Ue.add(_e.multiply(W))).mod(Re);return this.serializeSig(W,ae)},this.verifyWithMessageHash=function(oe,ve){return this.verifyHex(oe,ve,this.pubKeyHex)},this.verifyHex=function(oe,ve,_e){try{var Re,Ue,ze=F.parseSigHex(ve);Re=ze.r,Ue=ze.s;var W=w.decodeFromHex(this.ecparams.curve,_e),ae=new m(oe.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(ae,Re,Ue,W)}catch{return!1}},this.verify=function(oe,ve,_e){var Re,Ue,ze;if(Bitcoin.Util.isArray(ve)){var W=this.parseSig(ve);Re=W.r,Ue=W.s}else{if((ve===void 0?"undefined":T(ve))!=="object"||!ve.r||!ve.s)throw"Invalid value for signature";Re=ve.r,Ue=ve.s}if(_e instanceof V)ze=_e;else{if(!Bitcoin.Util.isArray(_e))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ze=w.decodeFrom(this.ecparams.curve,_e)}var ae=m.fromByteArrayUnsigned(oe);return this.verifyRaw(ae,Re,Ue,ze)},this.verifyRaw=function(oe,ve,_e,Re){var Ue=this.ecparams.n,ze=this.ecparams.G;if(ve.compareTo(m.ONE)<0||ve.compareTo(Ue)>=0||_e.compareTo(m.ONE)<0||_e.compareTo(Ue)>=0)return!1;var W=_e.modInverse(Ue),ae=oe.multiply(W).mod(Ue),ce=ve.multiply(W).mod(Ue);return ze.multiply(ae).add(Re.multiply(ce)).getX().toBigInteger().mod(Ue).equals(ve)},this.serializeSig=function(oe,ve){var _e=oe.toByteArraySigned(),Re=ve.toByteArraySigned(),Ue=[];return Ue.push(2),Ue.push(_e.length),(Ue=Ue.concat(_e)).push(2),Ue.push(Re.length),(Ue=Ue.concat(Re)).unshift(Ue.length),Ue.unshift(48),Ue},this.parseSig=function(oe){var ve;if(oe[0]!=48)throw new Error("Signature not a valid DERSequence");if(oe[ve=2]!=2)throw new Error("First element in signature must be a DERInteger");var _e=oe.slice(ve+2,ve+2+oe[ve+1]);if(oe[ve+=2+oe[ve+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var Re=oe.slice(ve+2,ve+2+oe[ve+1]);return ve+=2+oe[ve+1],{r:m.fromByteArrayUnsigned(_e),s:m.fromByteArrayUnsigned(Re)}},this.parseSigCompact=function(oe){if(oe.length!==65)throw"Signature has the wrong length";var ve=oe[0]-27;if(ve<0||ve>7)throw"Invalid signature type";var _e=this.ecparams.n;return{r:m.fromByteArrayUnsigned(oe.slice(1,33)).mod(_e),s:m.fromByteArrayUnsigned(oe.slice(33,65)).mod(_e),i:ve}},this.readPKCS5PrvKeyHex=function(oe){if(Z(oe)===!1)throw new Error("not ASN.1 hex string");var ve,_e,Re;try{ve=Q(oe,0,["[0]",0],"06"),_e=Q(oe,0,[1],"04");try{Re=Q(oe,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=G(ve),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Re),this.setPrivateKeyHex(_e),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(oe){if(Z(oe)===!1)throw new d("not ASN.1 hex string");var ve,_e,Re;try{Q(oe,0,[1,0],"06"),ve=Q(oe,0,[1,1],"06"),_e=Q(oe,0,[2,0,1],"04");try{Re=Q(oe,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new d("malformed PKCS#8 plain ECC private key")}if(this.curveName=G(ve),this.curveName===void 0)throw new d("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Re),this.setPrivateKeyHex(_e),this.isPublic=!1},this.readPKCS8PubKeyHex=function(oe){if(Z(oe)===!1)throw new d("not ASN.1 hex string");var ve,_e;try{Q(oe,0,[0,0],"06"),ve=Q(oe,0,[0,1],"06"),_e=Q(oe,0,[1],"03")}catch{throw new d("malformed PKCS#8 ECC public key")}if(this.curveName=G(ve),this.curveName===null)throw new d("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(_e)},this.readCertPubKeyHex=function(oe,ve){if(Z(oe)===!1)throw new d("not ASN.1 hex string");var _e,Re;try{_e=Q(oe,0,[0,5,0,1],"06"),Re=Q(oe,0,[0,5,1],"03")}catch{throw new d("malformed X.509 certificate ECC public key")}if(this.curveName=G(_e),this.curveName===null)throw new d("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Re)},h!==void 0&&h.curve!==void 0&&(this.curveName=h.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),h!==void 0&&(h.prv!==void 0&&this.setPrivateKeyHex(h.prv),h.pub!==void 0&&this.setPublicKeyHex(h.pub))},I.crypto.ECDSA.parseSigHex=function(h){var d=I.crypto.ECDSA.parseSigHexInHexRS(h);return{r:new B(d.r,16),s:new B(d.s,16)}},I.crypto.ECDSA.parseSigHexInHexRS=function(h){var d=Se,m=d.getChildIdx,w=d.getV;if(d.checkStrictDER(h,0),h.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var F=m(h,0);if(F.length!=2)throw new Error("signature shall have two elements");var H=F[0],G=F[1];if(h.substr(H,2)!="02")throw new Error("1st item not ASN.1 integer");if(h.substr(G,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:w(h,H),s:w(h,G)}},I.crypto.ECDSA.asn1SigToConcatSig=function(h){var d=I.crypto.ECDSA.parseSigHexInHexRS(h),m=d.r,w=d.s;if(m.substr(0,2)=="00"&&m.length%32==2&&(m=m.substr(2)),w.substr(0,2)=="00"&&w.length%32==2&&(w=w.substr(2)),m.length%32==30&&(m="00"+m),w.length%32==30&&(w="00"+w),m.length%32!=0)throw"unknown ECDSA sig r length error";if(w.length%32!=0)throw"unknown ECDSA sig s length error";return m+w},I.crypto.ECDSA.concatSigToASN1Sig=function(h){if(h.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var d=h.substr(0,h.length/2),m=h.substr(h.length/2);return I.crypto.ECDSA.hexRSSigToASN1Sig(d,m)},I.crypto.ECDSA.hexRSSigToASN1Sig=function(h,d){var m=new B(h,16),w=new B(d,16);return I.crypto.ECDSA.biRSSigToASN1Sig(m,w)},I.crypto.ECDSA.biRSSigToASN1Sig=function(h,d){var m=I.asn1,w=new m.DERInteger({bigint:h}),F=new m.DERInteger({bigint:d});return new m.DERSequence({array:[w,F]}).getEncodedHex()},I.crypto.ECDSA.getName=function(h){return h==="2b8104001f"?"secp192k1":h==="2a8648ce3d030107"?"secp256r1":h==="2b8104000a"?"secp256k1":h==="2b81040021"?"secp224r1":h==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(h)!==-1?"secp256r1":"|secp256k1|".indexOf(h)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(h)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(h)!==-1?"secp384r1":null},I!==void 0&&I||(i.KJUR=I={}),I.crypto!==void 0&&I.crypto||(I.crypto={}),I.crypto.ECParameterDB=new function(){var h={},d={};function m(w){return new B(w,16)}this.getByName=function(w){var F=w;if(d[F]!==void 0&&(F=d[w]),h[F]!==void 0)return h[F];throw"unregistered EC curve name: "+F},this.regist=function(w,F,H,G,te,Q,Z,se,oe,ve,_e,Re){h[w]={};var Ue=m(H),ze=m(G),W=m(te),ae=m(Q),ce=m(Z),pe=new M(Ue,ze,W),Ne=pe.decodePointHex("04"+se+oe);h[w].name=w,h[w].keylen=F,h[w].curve=pe,h[w].G=Ne,h[w].n=ae,h[w].h=ce,h[w].oid=_e,h[w].info=Re;for(var $e=0;$e<ve.length;$e++)d[ve[$e]]=w}},I.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),I.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),I.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),I.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),I.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),I.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),I.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),I.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),I.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),I.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var wt=function(){var h=function(Z,se,oe){return d(N.AES,Z,se,oe)},d=function(Z,se,oe,ve){var _e=N.enc.Hex.parse(se),Re=N.enc.Hex.parse(oe),Ue=N.enc.Hex.parse(ve),ze={};ze.key=Re,ze.iv=Ue,ze.ciphertext=_e;var W=Z.decrypt(ze,Re,{iv:Ue});return N.enc.Hex.stringify(W)},m=function(Z,se,oe){return w(N.AES,Z,se,oe)},w=function(Z,se,oe,ve){var _e=N.enc.Hex.parse(se),Re=N.enc.Hex.parse(oe),Ue=N.enc.Hex.parse(ve),ze=Z.encrypt(_e,Re,{iv:Ue}),W=N.enc.Hex.parse(ze.toString());return N.enc.Base64.stringify(W)},F={"AES-256-CBC":{proc:h,eproc:m,keylen:32,ivlen:16},"AES-192-CBC":{proc:h,eproc:m,keylen:24,ivlen:16},"AES-128-CBC":{proc:h,eproc:m,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Z,se,oe){return d(N.TripleDES,Z,se,oe)},eproc:function(Z,se,oe){return w(N.TripleDES,Z,se,oe)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Z,se,oe){return d(N.DES,Z,se,oe)},eproc:function(Z,se,oe){return w(N.DES,Z,se,oe)},keylen:8,ivlen:8}},H=function(Z){var se={},oe=Z.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));oe&&(se.cipher=oe[1],se.ivsalt=oe[2]);var ve=Z.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ve&&(se.type=ve[1]);var _e=-1,Re=0;Z.indexOf(`\r
\r
`)!=-1&&(_e=Z.indexOf(`\r
\r
`),Re=2),Z.indexOf(`

`)!=-1&&(_e=Z.indexOf(`

`),Re=1);var Ue=Z.indexOf("-----END");if(_e!=-1&&Ue!=-1){var ze=Z.substring(_e+2*Re,Ue-Re);ze=ze.replace(/\s+/g,""),se.data=ze}return se},G=function(Z,se,oe){for(var ve=oe.substring(0,16),_e=N.enc.Hex.parse(ve),Re=N.enc.Utf8.parse(se),Ue=F[Z].keylen+F[Z].ivlen,ze="",W=null;;){var ae=N.algo.MD5.create();if(W!=null&&ae.update(W),ae.update(Re),ae.update(_e),W=ae.finalize(),(ze+=N.enc.Hex.stringify(W)).length>=2*Ue)break}var ce={};return ce.keyhex=ze.substr(0,2*F[Z].keylen),ce.ivhex=ze.substr(2*F[Z].keylen,2*F[Z].ivlen),ce},te=function(Z,se,oe,ve){var _e=N.enc.Base64.parse(Z),Re=N.enc.Hex.stringify(_e);return(0,F[se].proc)(Re,oe,ve)};return{version:"1.0.0",parsePKCS5PEM:function(Z){return H(Z)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Z,se,oe){return G(Z,se,oe)},decryptKeyB64:function(Z,se,oe,ve){return te(Z,se,oe,ve)},getDecryptedKeyHex:function(Z,se){var oe=H(Z),ve=(oe.type,oe.cipher),_e=oe.ivsalt,Re=oe.data,Ue=G(ve,se,_e).keyhex;return te(Re,ve,Ue,_e)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Z,se,oe,ve,_e){var Re="";if(ve!==void 0&&ve!=null||(ve="AES-256-CBC"),F[ve]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ve);_e!==void 0&&_e!=null||(_e=function(W){var ae=N.lib.WordArray.random(W);return N.enc.Hex.stringify(ae)}(F[ve].ivlen).toUpperCase());var Ue=function(W,ae,ce,pe){return(0,F[ae].eproc)(W,ce,pe)}(se,ve,G(ve,oe,_e).keyhex,_e);return Re="-----BEGIN "+Z+` PRIVATE KEY-----\r
`,Re+=`Proc-Type: 4,ENCRYPTED\r
`,Re+="DEK-Info: "+ve+","+_e+`\r
`,Re+=`\r
`,Re+=Ue.replace(/(.{64})/g,`$1\r
`),Re+=`\r
-----END `+Z+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Z){var se=Se,oe=se.getChildIdx,ve=se.getV,_e={},Re=oe(Z,0);if(Re.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+Re.length);_e.ciphertext=ve(Z,Re[1]);var Ue=oe(Z,Re[0]);if(Ue.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+Ue.length);if(ve(Z,Ue[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ze=oe(Z,Ue[1]);if(Ue.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ze.length);var W=oe(Z,ze[1]);if(W.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+W.length);if(ve(Z,W[0])!="2a864886f70d0307")throw"this only supports TripleDES";_e.encryptionSchemeAlg="TripleDES",_e.encryptionSchemeIV=ve(Z,W[1]);var ae=oe(Z,ze[0]);if(ae.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+ae.length);if(ve(Z,ae[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var ce=oe(Z,ae[1]);if(ce.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+ce.length);_e.pbkdf2Salt=ve(Z,ce[0]);var pe=ve(Z,ce[1]);try{_e.pbkdf2Iter=parseInt(pe,16)}catch{throw new Error("malformed format pbkdf2Iter: "+pe)}return _e},getPBKDF2KeyHexFromParam:function(Z,se){var oe=N.enc.Hex.parse(Z.pbkdf2Salt),ve=Z.pbkdf2Iter,_e=N.PBKDF2(se,oe,{keySize:6,iterations:ve});return N.enc.Hex.stringify(_e)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Z,se){var oe=tt(Z,"ENCRYPTED PRIVATE KEY"),ve=this.parseHexOfEncryptedPKCS8(oe),_e=wt.getPBKDF2KeyHexFromParam(ve,se),Re={};Re.ciphertext=N.enc.Hex.parse(ve.ciphertext);var Ue=N.enc.Hex.parse(_e),ze=N.enc.Hex.parse(ve.encryptionSchemeIV),W=N.TripleDES.decrypt(Re,Ue,{iv:ze});return N.enc.Hex.stringify(W)},getKeyFromEncryptedPKCS8PEM:function(Z,se){var oe=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Z,se);return this.getKeyFromPlainPrivatePKCS8Hex(oe)},parsePlainPrivatePKCS8Hex:function(Z){var se=Se,oe=se.getChildIdx,ve=se.getV,_e={algparam:null};if(Z.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var Re=oe(Z,0);if(Re.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Z.substr(Re[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var Ue=oe(Z,Re[1]);if(Ue.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Z.substr(Ue[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(_e.algoid=ve(Z,Ue[0]),Z.substr(Ue[1],2)=="06"&&(_e.algparam=ve(Z,Ue[1])),Z.substr(Re[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return _e.keyidx=se.getVidx(Z,Re[2]),_e},getKeyFromPlainPrivatePKCS8PEM:function(Z){var se=tt(Z,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(se)},getKeyFromPlainPrivatePKCS8Hex:function(Z){var se,oe=this.parsePlainPrivatePKCS8Hex(Z);if(oe.algoid=="2a864886f70d010101")se=new it;else if(oe.algoid=="2a8648ce380401")se=new I.crypto.DSA;else{if(oe.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");se=new I.crypto.ECDSA}return se.readPKCS8PrvKeyHex(Z),se},_getKeyFromPublicPKCS8Hex:function(Z){var se,oe=Se.getVbyList(Z,0,[0,0],"06");if(oe==="2a864886f70d010101")se=new it;else if(oe==="2a8648ce380401")se=new I.crypto.DSA;else{if(oe!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");se=new I.crypto.ECDSA}return se.readPKCS8PubKeyHex(Z),se},parsePublicRawRSAKeyHex:function(Z){var se=Se,oe=se.getChildIdx,ve=se.getV,_e={};if(Z.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var Re=oe(Z,0);if(Re.length!=2)throw new Error("malformed RSA key(code:002)");if(Z.substr(Re[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(_e.n=ve(Z,Re[0]),Z.substr(Re[1],2)!="02")throw new Error("malformed RSA key(code:004)");return _e.e=ve(Z,Re[1]),_e},parsePublicPKCS8Hex:function(Z){var se=Se,oe=se.getChildIdx,ve=se.getV,_e={algparam:null},Re=oe(Z,0);if(Re.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+Re.length);var Ue=Re[0];if(Z.substr(Ue,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ze=oe(Z,Ue);if(ze.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Z.substr(ze[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(_e.algoid=ve(Z,ze[0]),Z.substr(ze[1],2)=="06"?_e.algparam=ve(Z,ze[1]):Z.substr(ze[1],2)=="30"&&(_e.algparam={},_e.algparam.p=se.getVbyList(Z,ze[1],[0],"02"),_e.algparam.q=se.getVbyList(Z,ze[1],[1],"02"),_e.algparam.g=se.getVbyList(Z,ze[1],[2],"02")),Z.substr(Re[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return _e.key=ve(Z,Re[1]).substr(2),_e}}}();wt.getKey=function(h,d,m){var w=(ze=Se).getChildIdx,F=(ze.getV,ze.getVbyList),H=I.crypto,G=H.ECDSA,te=H.DSA,Q=it,Z=tt,se=wt;if(Q!==void 0&&h instanceof Q||G!==void 0&&h instanceof G||te!==void 0&&h instanceof te)return h;if(h.curve!==void 0&&h.xy!==void 0&&h.d===void 0)return new G({pub:h.xy,curve:h.curve});if(h.curve!==void 0&&h.d!==void 0)return new G({prv:h.d,curve:h.curve});if(h.kty===void 0&&h.n!==void 0&&h.e!==void 0&&h.d===void 0)return(ht=new Q).setPublic(h.n,h.e),ht;if(h.kty===void 0&&h.n!==void 0&&h.e!==void 0&&h.d!==void 0&&h.p!==void 0&&h.q!==void 0&&h.dp!==void 0&&h.dq!==void 0&&h.co!==void 0&&h.qi===void 0)return(ht=new Q).setPrivateEx(h.n,h.e,h.d,h.p,h.q,h.dp,h.dq,h.co),ht;if(h.kty===void 0&&h.n!==void 0&&h.e!==void 0&&h.d!==void 0&&h.p===void 0)return(ht=new Q).setPrivate(h.n,h.e,h.d),ht;if(h.p!==void 0&&h.q!==void 0&&h.g!==void 0&&h.y!==void 0&&h.x===void 0)return(ht=new te).setPublic(h.p,h.q,h.g,h.y),ht;if(h.p!==void 0&&h.q!==void 0&&h.g!==void 0&&h.y!==void 0&&h.x!==void 0)return(ht=new te).setPrivate(h.p,h.q,h.g,h.y,h.x),ht;if(h.kty==="RSA"&&h.n!==void 0&&h.e!==void 0&&h.d===void 0)return(ht=new Q).setPublic(Ut(h.n),Ut(h.e)),ht;if(h.kty==="RSA"&&h.n!==void 0&&h.e!==void 0&&h.d!==void 0&&h.p!==void 0&&h.q!==void 0&&h.dp!==void 0&&h.dq!==void 0&&h.qi!==void 0)return(ht=new Q).setPrivateEx(Ut(h.n),Ut(h.e),Ut(h.d),Ut(h.p),Ut(h.q),Ut(h.dp),Ut(h.dq),Ut(h.qi)),ht;if(h.kty==="RSA"&&h.n!==void 0&&h.e!==void 0&&h.d!==void 0)return(ht=new Q).setPrivate(Ut(h.n),Ut(h.e),Ut(h.d)),ht;if(h.kty==="EC"&&h.crv!==void 0&&h.x!==void 0&&h.y!==void 0&&h.d===void 0){var oe=(lt=new G({curve:h.crv})).ecparams.keylen/4,ve="04"+("0000000000"+Ut(h.x)).slice(-oe)+("0000000000"+Ut(h.y)).slice(-oe);return lt.setPublicKeyHex(ve),lt}if(h.kty==="EC"&&h.crv!==void 0&&h.x!==void 0&&h.y!==void 0&&h.d!==void 0){oe=(lt=new G({curve:h.crv})).ecparams.keylen/4,ve="04"+("0000000000"+Ut(h.x)).slice(-oe)+("0000000000"+Ut(h.y)).slice(-oe);var _e=("0000000000"+Ut(h.d)).slice(-oe);return lt.setPublicKeyHex(ve),lt.setPrivateKeyHex(_e),lt}if(m==="pkcs5prv"){var Re,Ue=h,ze=Se;if((Re=w(Ue,0)).length===9)(ht=new Q).readPKCS5PrvKeyHex(Ue);else if(Re.length===6)(ht=new te).readPKCS5PrvKeyHex(Ue);else{if(!(Re.length>2&&Ue.substr(Re[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(ht=new G).readPKCS5PrvKeyHex(Ue)}return ht}if(m==="pkcs8prv")return ht=se.getKeyFromPlainPrivatePKCS8Hex(h);if(m==="pkcs8pub")return se._getKeyFromPublicPKCS8Hex(h);if(m==="x509pub")return Xt.getPublicKeyFromCertHex(h);if(h.indexOf("-END CERTIFICATE-",0)!=-1||h.indexOf("-END X509 CERTIFICATE-",0)!=-1||h.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Xt.getPublicKeyFromCertPEM(h);if(h.indexOf("-END PUBLIC KEY-")!=-1){var W=tt(h,"PUBLIC KEY");return se._getKeyFromPublicPKCS8Hex(W)}if(h.indexOf("-END RSA PRIVATE KEY-")!=-1&&h.indexOf("4,ENCRYPTED")==-1){var ae=Z(h,"RSA PRIVATE KEY");return se.getKey(ae,null,"pkcs5prv")}if(h.indexOf("-END DSA PRIVATE KEY-")!=-1&&h.indexOf("4,ENCRYPTED")==-1){var ce=F(Vt=Z(h,"DSA PRIVATE KEY"),0,[1],"02"),pe=F(Vt,0,[2],"02"),Ne=F(Vt,0,[3],"02"),$e=F(Vt,0,[4],"02"),ct=F(Vt,0,[5],"02");return(ht=new te).setPrivate(new B(ce,16),new B(pe,16),new B(Ne,16),new B($e,16),new B(ct,16)),ht}if(h.indexOf("-END EC PRIVATE KEY-")!=-1&&h.indexOf("4,ENCRYPTED")==-1)return ae=Z(h,"EC PRIVATE KEY"),se.getKey(ae,null,"pkcs5prv");if(h.indexOf("-END PRIVATE KEY-")!=-1)return se.getKeyFromPlainPrivatePKCS8PEM(h);if(h.indexOf("-END RSA PRIVATE KEY-")!=-1&&h.indexOf("4,ENCRYPTED")!=-1){var et=se.getDecryptedKeyHex(h,d),Et=new it;return Et.readPKCS5PrvKeyHex(et),Et}if(h.indexOf("-END EC PRIVATE KEY-")!=-1&&h.indexOf("4,ENCRYPTED")!=-1){var lt,ht=F(Vt=se.getDecryptedKeyHex(h,d),0,[1],"04"),Pt=F(Vt,0,[2,0],"06"),Bt=F(Vt,0,[3,0],"03").substr(2);if(I.crypto.OID.oidhex2name[Pt]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Pt);return(lt=new G({curve:I.crypto.OID.oidhex2name[Pt]})).setPublicKeyHex(Bt),lt.setPrivateKeyHex(ht),lt.isPublic=!1,lt}if(h.indexOf("-END DSA PRIVATE KEY-")!=-1&&h.indexOf("4,ENCRYPTED")!=-1){var Vt;return ce=F(Vt=se.getDecryptedKeyHex(h,d),0,[1],"02"),pe=F(Vt,0,[2],"02"),Ne=F(Vt,0,[3],"02"),$e=F(Vt,0,[4],"02"),ct=F(Vt,0,[5],"02"),(ht=new te).setPrivate(new B(ce,16),new B(pe,16),new B(Ne,16),new B($e,16),new B(ct,16)),ht}if(h.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return se.getKeyFromEncryptedPKCS8PEM(h,d);throw new Error("not supported argument")},wt.generateKeypair=function(h,d){if(h=="RSA"){var m=d;(G=new it).generate(m,"10001"),G.isPrivate=!0,G.isPublic=!0;var w=new it,F=G.n.toString(16),H=G.e.toString(16);return w.setPublic(F,H),w.isPrivate=!1,w.isPublic=!0,(te={}).prvKeyObj=G,te.pubKeyObj=w,te}if(h=="EC"){var G,te,Q=d,Z=new I.crypto.ECDSA({curve:Q}).generateKeyPairHex();return(G=new I.crypto.ECDSA({curve:Q})).setPublicKeyHex(Z.ecpubhex),G.setPrivateKeyHex(Z.ecprvhex),G.isPrivate=!0,G.isPublic=!1,(w=new I.crypto.ECDSA({curve:Q})).setPublicKeyHex(Z.ecpubhex),w.isPrivate=!1,w.isPublic=!0,(te={}).prvKeyObj=G,te.pubKeyObj=w,te}throw new Error("unknown algorithm: "+h)},wt.getPEM=function(h,d,m,w,F,H){var G=I,te=G.asn1,Q=te.DERObjectIdentifier,Z=te.DERInteger,se=te.ASN1Util.newObject,oe=te.x509.SubjectPublicKeyInfo,ve=G.crypto,_e=ve.DSA,Re=ve.ECDSA,Ue=it;function ze(lt){return se({seq:[{int:0},{int:{bigint:lt.n}},{int:lt.e},{int:{bigint:lt.d}},{int:{bigint:lt.p}},{int:{bigint:lt.q}},{int:{bigint:lt.dmp1}},{int:{bigint:lt.dmq1}},{int:{bigint:lt.coeff}}]})}function W(lt){return se({seq:[{int:1},{octstr:{hex:lt.prvKeyHex}},{tag:["a0",!0,{oid:{name:lt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+lt.pubKeyHex}}]}]})}function ae(lt){return se({seq:[{int:0},{int:{bigint:lt.p}},{int:{bigint:lt.q}},{int:{bigint:lt.g}},{int:{bigint:lt.y}},{int:{bigint:lt.x}}]})}if((Ue!==void 0&&h instanceof Ue||_e!==void 0&&h instanceof _e||Re!==void 0&&h instanceof Re)&&h.isPublic==1&&(d===void 0||d=="PKCS8PUB"))return nt($e=new oe(h).getEncodedHex(),"PUBLIC KEY");if(d=="PKCS1PRV"&&Ue!==void 0&&h instanceof Ue&&(m===void 0||m==null)&&h.isPrivate==1)return nt($e=ze(h).getEncodedHex(),"RSA PRIVATE KEY");if(d=="PKCS1PRV"&&Re!==void 0&&h instanceof Re&&(m===void 0||m==null)&&h.isPrivate==1){var ce=new Q({name:h.curveName}).getEncodedHex(),pe=W(h).getEncodedHex(),Ne="";return Ne+=nt(ce,"EC PARAMETERS"),Ne+=nt(pe,"EC PRIVATE KEY")}if(d=="PKCS1PRV"&&_e!==void 0&&h instanceof _e&&(m===void 0||m==null)&&h.isPrivate==1)return nt($e=ae(h).getEncodedHex(),"DSA PRIVATE KEY");if(d=="PKCS5PRV"&&Ue!==void 0&&h instanceof Ue&&m!==void 0&&m!=null&&h.isPrivate==1){var $e=ze(h).getEncodedHex();return w===void 0&&(w="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",$e,m,w,H)}if(d=="PKCS5PRV"&&Re!==void 0&&h instanceof Re&&m!==void 0&&m!=null&&h.isPrivate==1)return $e=W(h).getEncodedHex(),w===void 0&&(w="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",$e,m,w,H);if(d=="PKCS5PRV"&&_e!==void 0&&h instanceof _e&&m!==void 0&&m!=null&&h.isPrivate==1)return $e=ae(h).getEncodedHex(),w===void 0&&(w="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",$e,m,w,H);var ct=function(ht,Pt){var Bt=et(ht,Pt);return new se({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Bt.pbkdf2Salt}},{int:Bt.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Bt.encryptionSchemeIV}}]}]}]},{octstr:{hex:Bt.ciphertext}}]}).getEncodedHex()},et=function(ht,Pt){var Bt=N.lib.WordArray.random(8),Vt=N.lib.WordArray.random(8),Fr=N.PBKDF2(Pt,Bt,{keySize:6,iterations:100}),xr=N.enc.Hex.parse(ht),yr=N.TripleDES.encrypt(xr,Fr,{iv:Vt})+"",jt={};return jt.ciphertext=yr,jt.pbkdf2Salt=N.enc.Hex.stringify(Bt),jt.pbkdf2Iter=100,jt.encryptionSchemeAlg="DES-EDE3-CBC",jt.encryptionSchemeIV=N.enc.Hex.stringify(Vt),jt};if(d=="PKCS8PRV"&&Ue!=null&&h instanceof Ue&&h.isPrivate==1){var Et=ze(h).getEncodedHex();return $e=se({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Et}}]}).getEncodedHex(),m===void 0||m==null?nt($e,"PRIVATE KEY"):nt(pe=ct($e,m),"ENCRYPTED PRIVATE KEY")}if(d=="PKCS8PRV"&&Re!==void 0&&h instanceof Re&&h.isPrivate==1)return Et=new se({seq:[{int:1},{octstr:{hex:h.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+h.pubKeyHex}}]}]}).getEncodedHex(),$e=se({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:h.curveName}}]},{octstr:{hex:Et}}]}).getEncodedHex(),m===void 0||m==null?nt($e,"PRIVATE KEY"):nt(pe=ct($e,m),"ENCRYPTED PRIVATE KEY");if(d=="PKCS8PRV"&&_e!==void 0&&h instanceof _e&&h.isPrivate==1)return Et=new Z({bigint:h.x}).getEncodedHex(),$e=se({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:h.p}},{int:{bigint:h.q}},{int:{bigint:h.g}}]}]},{octstr:{hex:Et}}]}).getEncodedHex(),m===void 0||m==null?nt($e,"PRIVATE KEY"):nt(pe=ct($e,m),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},wt.getKeyFromCSRPEM=function(h){var d=tt(h,"CERTIFICATE REQUEST");return wt.getKeyFromCSRHex(d)},wt.getKeyFromCSRHex=function(h){var d=wt.parseCSRHex(h);return wt.getKey(d.p8pubkeyhex,null,"pkcs8pub")},wt.parseCSRHex=function(h){var d=Se,m=d.getChildIdx,w=d.getTLV,F={},H=h;if(H.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var G=m(H,0);if(G.length<1)throw new Error("malformed CSR(code:002)");if(H.substr(G[0],2)!="30")throw new Error("malformed CSR(code:003)");var te=m(H,G[0]);if(te.length<3)throw new Error("malformed CSR(code:004)");return F.p8pubkeyhex=w(H,te[2]),F},wt.getKeyID=function(h){var d=wt,m=Se;typeof h=="string"&&h.indexOf("BEGIN ")!=-1&&(h=d.getKey(h));var w=tt(d.getPEM(h)),F=m.getIdxbyList(w,0,[1]),H=m.getV(w,F).substring(2);return I.crypto.Util.hashHex(H,"sha1")},wt.getJWKFromKey=function(h){var d={};if(h instanceof it&&h.isPrivate)return d.kty="RSA",d.n=rr(h.n.toString(16)),d.e=rr(h.e.toString(16)),d.d=rr(h.d.toString(16)),d.p=rr(h.p.toString(16)),d.q=rr(h.q.toString(16)),d.dp=rr(h.dmp1.toString(16)),d.dq=rr(h.dmq1.toString(16)),d.qi=rr(h.coeff.toString(16)),d;if(h instanceof it&&h.isPublic)return d.kty="RSA",d.n=rr(h.n.toString(16)),d.e=rr(h.e.toString(16)),d;if(h instanceof I.crypto.ECDSA&&h.isPrivate){if((w=h.getShortNISTPCurveName())!=="P-256"&&w!=="P-384")throw new Error("unsupported curve name for JWT: "+w);var m=h.getPublicKeyXYHex();return d.kty="EC",d.crv=w,d.x=rr(m.x),d.y=rr(m.y),d.d=rr(h.prvKeyHex),d}if(h instanceof I.crypto.ECDSA&&h.isPublic){var w;if((w=h.getShortNISTPCurveName())!=="P-256"&&w!=="P-384")throw new Error("unsupported curve name for JWT: "+w);return m=h.getPublicKeyXYHex(),d.kty="EC",d.crv=w,d.x=rr(m.x),d.y=rr(m.y),d}throw new Error("not supported key object")},it.getPosArrayOfChildrenFromHex=function(h){return Se.getChildIdx(h,0)},it.getHexValueArrayOfChildrenFromHex=function(h){var d,m=Se.getV,w=m(h,(d=it.getPosArrayOfChildrenFromHex(h))[0]),F=m(h,d[1]),H=m(h,d[2]),G=m(h,d[3]),te=m(h,d[4]),Q=m(h,d[5]),Z=m(h,d[6]),se=m(h,d[7]),oe=m(h,d[8]);return(d=new Array).push(w,F,H,G,te,Q,Z,se,oe),d},it.prototype.readPrivateKeyFromPEMString=function(h){var d=tt(h),m=it.getHexValueArrayOfChildrenFromHex(d);this.setPrivateEx(m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8])},it.prototype.readPKCS5PrvKeyHex=function(h){var d=it.getHexValueArrayOfChildrenFromHex(h);this.setPrivateEx(d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},it.prototype.readPKCS8PrvKeyHex=function(h){var d,m,w,F,H,G,te,Q,Z=Se,se=Z.getVbyListEx;if(Z.isASN1HEX(h)===!1)throw new Error("not ASN.1 hex string");try{d=se(h,0,[2,0,1],"02"),m=se(h,0,[2,0,2],"02"),w=se(h,0,[2,0,3],"02"),F=se(h,0,[2,0,4],"02"),H=se(h,0,[2,0,5],"02"),G=se(h,0,[2,0,6],"02"),te=se(h,0,[2,0,7],"02"),Q=se(h,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(d,m,w,F,H,G,te,Q)},it.prototype.readPKCS5PubKeyHex=function(h){var d=Se,m=d.getV;if(d.isASN1HEX(h)===!1)throw new Error("keyHex is not ASN.1 hex string");var w=d.getChildIdx(h,0);if(w.length!==2||h.substr(w[0],2)!=="02"||h.substr(w[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var F=m(h,w[0]),H=m(h,w[1]);this.setPublic(F,H)},it.prototype.readPKCS8PubKeyHex=function(h){var d=Se;if(d.isASN1HEX(h)===!1)throw new Error("not ASN.1 hex string");if(d.getTLVbyListEx(h,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var m=d.getTLVbyListEx(h,0,[1,0]);this.readPKCS5PubKeyHex(m)},it.prototype.readCertPubKeyHex=function(h,d){var m,w;(m=new Xt).readCertHex(h),w=m.getPublicKeyHex(),this.readPKCS8PubKeyHex(w)};function Xr(h,d){for(var m="",w=d/4-h.length,F=0;F<w;F++)m+="0";return m+h}function ys(h,d,m){for(var w="",F=0;w.length<d;)w+=kr(m(Pr(h+String.fromCharCode.apply(String,[(4278190080&F)>>24,(16711680&F)>>16,(65280&F)>>8,255&F])))),F+=1;return w}function Zn(h){for(var d in I.crypto.Util.DIGESTINFOHEAD){var m=I.crypto.Util.DIGESTINFOHEAD[d],w=m.length;if(h.substring(0,w)==m)return[d,h.substring(w)]}return[]}function Xt(h){var d,m=Se,w=m.getChildIdx,F=m.getV,H=m.getTLV,G=m.getVbyList,te=m.getVbyListEx,Q=m.getTLVbyList,Z=m.getTLVbyListEx,se=m.getIdxbyList,oe=m.getIdxbyListEx,ve=m.getVidx,_e=m.getInt,Re=m.oidname,Ue=m.hextooidstr,ze=tt;try{d=I.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var W=Q(this.hex,0,[0,0]);if(W.substr(0,2)=="a0"){var ae=Q(W,0,[0]),ce=_e(ae,0);if(ce<0||2<ce)throw new Error("malformed version field");return this.version=ce+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return te(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var W=Z(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(W)},this.getAlgorithmIdentifierName=function(W){for(var ae in d)if(W===d[ae])return ae;return Re(te(W,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Q(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Q(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var W=G(this.hex,0,[0,4+this.foffset,0]);return W=W.replace(/(..)/g,"%$1"),W=decodeURIComponent(W)},this.getNotAfter=function(){var W=G(this.hex,0,[0,4+this.foffset,1]);return W=W.replace(/(..)/g,"%$1"),W=decodeURIComponent(W)},this.getPublicKeyHex=function(){return m.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return se(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var W=this.getPublicKeyIdx();return se(this.hex,W,[1,0],"30")},this.getPublicKey=function(){return wt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var W=Q(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(W)},this.getSignatureValueHex=function(){return G(this.hex,0,[2],"03",!0)},this.verifySignature=function(W){var ae=this.getSignatureAlgorithmField(),ce=this.getSignatureValueHex(),pe=Q(this.hex,0,[0],"30"),Ne=new I.crypto.Signature({alg:ae});return Ne.init(W),Ne.updateHex(pe),Ne.verify(ce)},this.parseExt=function(W){var ae,ce,pe;if(W===void 0){if(pe=this.hex,this.version!==3)return-1;ae=se(pe,0,[0,7,0],"30"),ce=w(pe,ae)}else{pe=tt(W);var Ne=se(pe,0,[0,3,0,0],"06");if(F(pe,Ne)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);ae=se(pe,0,[0,3,0,1,0],"30"),ce=w(pe,ae),this.hex=pe}this.aExtInfo=new Array;for(var $e=0;$e<ce.length;$e++){var ct={critical:!1},et=0;w(pe,ce[$e]).length===3&&(ct.critical=!0,et=1),ct.oid=m.hextooidstr(G(pe,ce[$e],[0],"06"));var Et=se(pe,ce[$e],[1+et]);ct.vidx=ve(pe,Et),this.aExtInfo.push(ct)}},this.getExtInfo=function(W){var ae=this.aExtInfo,ce=W;if(W.match(/^[0-9.]+$/)||(ce=I.asn1.x509.OID.name2oid(W)),ce!==""){for(var pe=0;pe<ae.length;pe++)if(ae[pe].oid===ce)return ae[pe]}},this.getExtBasicConstraints=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("basicConstraints");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"basicConstraints"};if(ae&&(pe.critical=!0),W==="3000")return pe;if(W==="30030101ff")return pe.cA=!0,pe;if(W.substr(0,12)==="30060101ff02"){var Ne=F(W,10),$e=parseInt(Ne,16);return pe.cA=!0,pe.pathLen=$e,pe}throw new Error("hExtV parse error: "+W)},this.getExtKeyUsage=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("keyUsage");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"keyUsage"};return ae&&(pe.critical=!0),pe.names=this.getExtKeyUsageString(W).split(","),pe},this.getExtKeyUsageBin=function(W){if(W===void 0){var ae=this.getExtInfo("keyUsage");if(ae===void 0)return"";W=H(this.hex,ae.vidx)}if(W.length!=8&&W.length!=10)throw new Error("malformed key usage value: "+W);var ce="000000000000000"+parseInt(W.substr(6),16).toString(2);return W.length==8&&(ce=ce.slice(-8)),W.length==10&&(ce=ce.slice(-16)),(ce=ce.replace(/0+$/,""))==""&&(ce="0"),ce},this.getExtKeyUsageString=function(W){for(var ae=this.getExtKeyUsageBin(W),ce=new Array,pe=0;pe<ae.length;pe++)ae.substr(pe,1)=="1"&&ce.push(Xt.KEYUSAGE_NAME[pe]);return ce.join(",")},this.getExtSubjectKeyIdentifier=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("subjectKeyIdentifier");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"subjectKeyIdentifier"};ae&&(pe.critical=!0);var Ne=F(W,0);return pe.kid={hex:Ne},pe},this.getExtAuthorityKeyIdentifier=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("authorityKeyIdentifier");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"authorityKeyIdentifier"};ae&&(pe.critical=!0);for(var Ne=w(W,0),$e=0;$e<Ne.length;$e++){var ct=W.substr(Ne[$e],2);if(ct==="80"&&(pe.kid={hex:F(W,Ne[$e])}),ct==="a1"){var et=H(W,Ne[$e]),Et=this.getGeneralNames(et);pe.issuer=Et[0].dn}ct==="82"&&(pe.sn={hex:F(W,Ne[$e])})}return pe},this.getExtExtKeyUsage=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("extKeyUsage");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"extKeyUsage",array:[]};ae&&(pe.critical=!0);for(var Ne=w(W,0),$e=0;$e<Ne.length;$e++)pe.array.push(Re(F(W,Ne[$e])));return pe},this.getExtExtKeyUsageName=function(){var W=this.getExtInfo("extKeyUsage");if(W===void 0)return W;var ae=new Array,ce=H(this.hex,W.vidx);if(ce==="")return ae;for(var pe=w(ce,0),Ne=0;Ne<pe.length;Ne++)ae.push(Re(F(ce,pe[Ne])));return ae},this.getExtSubjectAltName=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("subjectAltName");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"subjectAltName",array:[]};return ae&&(pe.critical=!0),pe.array=this.getGeneralNames(W),pe},this.getExtIssuerAltName=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("issuerAltName");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"issuerAltName",array:[]};return ae&&(pe.critical=!0),pe.array=this.getGeneralNames(W),pe},this.getGeneralNames=function(W){for(var ae=w(W,0),ce=[],pe=0;pe<ae.length;pe++){var Ne=this.getGeneralName(H(W,ae[pe]));Ne!==void 0&&ce.push(Ne)}return ce},this.getGeneralName=function(W){var ae=W.substr(0,2),ce=F(W,0),pe=kr(ce);return ae=="81"?{rfc822:pe}:ae=="82"?{dns:pe}:ae=="86"?{uri:pe}:ae=="87"?{ip:Wi(ce)}:ae=="a4"?{dn:this.getX500Name(ce)}:void 0},this.getExtSubjectAltName2=function(){var W,ae,ce,pe=this.getExtInfo("subjectAltName");if(pe===void 0)return pe;for(var Ne=new Array,$e=H(this.hex,pe.vidx),ct=w($e,0),et=0;et<ct.length;et++)ce=$e.substr(ct[et],2),W=F($e,ct[et]),ce==="81"&&(ae=or(W),Ne.push(["MAIL",ae])),ce==="82"&&(ae=or(W),Ne.push(["DNS",ae])),ce==="84"&&(ae=Xt.hex2dn(W,0),Ne.push(["DN",ae])),ce==="86"&&(ae=or(W),Ne.push(["URI",ae])),ce==="87"&&(ae=Wi(W),Ne.push(["IP",ae]));return Ne},this.getExtCRLDistributionPoints=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("cRLDistributionPoints");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"cRLDistributionPoints",array:[]};ae&&(pe.critical=!0);for(var Ne=w(W,0),$e=0;$e<Ne.length;$e++){var ct=H(W,Ne[$e]);pe.array.push(this.getDistributionPoint(ct))}return pe},this.getDistributionPoint=function(W){for(var ae={},ce=w(W,0),pe=0;pe<ce.length;pe++){var Ne=W.substr(ce[pe],2),$e=H(W,ce[pe]);Ne=="a0"&&(ae.dpname=this.getDistributionPointName($e))}return ae},this.getDistributionPointName=function(W){for(var ae={},ce=w(W,0),pe=0;pe<ce.length;pe++){var Ne=W.substr(ce[pe],2),$e=H(W,ce[pe]);Ne=="a0"&&(ae.full=this.getGeneralNames($e))}return ae},this.getExtCRLDistributionPointsURI=function(){var W=this.getExtInfo("cRLDistributionPoints");if(W===void 0)return W;for(var ae=new Array,ce=w(this.hex,W.vidx),pe=0;pe<ce.length;pe++)try{var Ne=or(G(this.hex,ce[pe],[0,0,0],"86"));ae.push(Ne)}catch{}return ae},this.getExtAIAInfo=function(){var W=this.getExtInfo("authorityInfoAccess");if(W===void 0)return W;for(var ae={ocsp:[],caissuer:[]},ce=w(this.hex,W.vidx),pe=0;pe<ce.length;pe++){var Ne=G(this.hex,ce[pe],[0],"06"),$e=G(this.hex,ce[pe],[1],"86");Ne==="2b06010505073001"&&ae.ocsp.push(or($e)),Ne==="2b06010505073002"&&ae.caissuer.push(or($e))}return ae},this.getExtAuthorityInfoAccess=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("authorityInfoAccess");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"authorityInfoAccess",array:[]};ae&&(pe.critical=!0);for(var Ne=w(W,0),$e=0;$e<Ne.length;$e++){var ct=te(W,Ne[$e],[0],"06"),et=or(G(W,Ne[$e],[1],"86"));if(ct=="2b06010505073001")pe.array.push({ocsp:et});else{if(ct!="2b06010505073002")throw new Error("unknown method: "+ct);pe.array.push({caissuer:et})}}return pe},this.getExtCertificatePolicies=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("certificatePolicies");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"certificatePolicies",array:[]};ae&&(pe.critical=!0);for(var Ne=w(W,0),$e=0;$e<Ne.length;$e++){var ct=H(W,Ne[$e]),et=this.getPolicyInformation(ct);pe.array.push(et)}return pe},this.getPolicyInformation=function(W){var ae={},ce=G(W,0,[0],"06");ae.policyoid=Re(ce);var pe=oe(W,0,[1],"30");if(pe!=-1){ae.array=[];for(var Ne=w(W,pe),$e=0;$e<Ne.length;$e++){var ct=H(W,Ne[$e]),et=this.getPolicyQualifierInfo(ct);ae.array.push(et)}}return ae},this.getPolicyQualifierInfo=function(W){var ae={},ce=G(W,0,[0],"06");if(ce==="2b06010505070201"){var pe=te(W,0,[1],"16");ae.cps=kr(pe)}else if(ce==="2b06010505070202"){var Ne=Q(W,0,[1],"30");ae.unotice=this.getUserNotice(Ne)}return ae},this.getUserNotice=function(W){for(var ae={},ce=w(W,0),pe=0;pe<ce.length;pe++){var Ne=H(W,ce[pe]);Ne.substr(0,2)!="30"&&(ae.exptext=this.getDisplayText(Ne))}return ae},this.getDisplayText=function(W){var ae={};return ae.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[W.substr(0,2)],ae.str=kr(F(W,0)),ae},this.getExtCRLNumber=function(W,ae){var ce={extname:"cRLNumber"};if(ae&&(ce.critical=!0),W.substr(0,2)=="02")return ce.num={hex:F(W,0)},ce;throw new Error("hExtV parse error: "+W)},this.getExtCRLReason=function(W,ae){var ce={extname:"cRLReason"};if(ae&&(ce.critical=!0),W.substr(0,2)=="0a")return ce.code=parseInt(F(W,0),16),ce;throw new Error("hExtV parse error: "+W)},this.getExtOcspNonce=function(W,ae){var ce={extname:"ocspNonce"};ae&&(ce.critical=!0);var pe=F(W,0);return ce.hex=pe,ce},this.getExtOcspNoCheck=function(W,ae){var ce={extname:"ocspNoCheck"};return ae&&(ce.critical=!0),ce},this.getExtAdobeTimeStamp=function(W,ae){if(W===void 0&&ae===void 0){var ce=this.getExtInfo("adobeTimeStamp");if(ce===void 0)return;W=H(this.hex,ce.vidx),ae=ce.critical}var pe={extname:"adobeTimeStamp"};ae&&(pe.critical=!0);var Ne=w(W,0);if(Ne.length>1){var $e=H(W,Ne[1]),ct=this.getGeneralName($e);ct.uri!=null&&(pe.uri=ct.uri)}if(Ne.length>2){var et=H(W,Ne[2]);et=="0101ff"&&(pe.reqauth=!0),et=="010100"&&(pe.reqauth=!1)}return pe},this.getX500NameRule=function(W){for(var ae=null,ce=[],pe=0;pe<W.length;pe++)for(var Ne=W[pe],$e=0;$e<Ne.length;$e++)ce.push(Ne[$e]);for(pe=0;pe<ce.length;pe++){var ct=ce[pe],et=ct.ds,Et=ct.value,lt=ct.type;if(et!="prn"&&et!="utf8"&&et!="ia5")return"mixed";if(et=="ia5"){if(lt!="CN")return"mixed";if(I.lang.String.isMail(Et))continue;return"mixed"}if(lt=="C"){if(et=="prn")continue;return"mixed"}if(ae==null)ae=et;else if(ae!==et)return"mixed"}return ae??"prn"},this.getX500Name=function(W){var ae=this.getX500NameArray(W);return{array:ae,str:this.dnarraytostr(ae)}},this.getX500NameArray=function(W){for(var ae=[],ce=w(W,0),pe=0;pe<ce.length;pe++)ae.push(this.getRDN(H(W,ce[pe])));return ae},this.getRDN=function(W){for(var ae=[],ce=w(W,0),pe=0;pe<ce.length;pe++)ae.push(this.getAttrTypeAndValue(H(W,ce[pe])));return ae},this.getAttrTypeAndValue=function(W){var ae={type:null,value:null,ds:null},ce=w(W,0),pe=G(W,ce[0],[],"06"),Ne=G(W,ce[1],[]),$e=I.asn1.ASN1Util.oidHexToInt(pe);return ae.type=I.asn1.x509.OID.oid2atype($e),ae.ds=this.HEX2STAG[W.substr(ce[1],2)],ae.ds!="bmp"?ae.value=or(Ne):ae.value=Un(Ne),ae},this.readCertPEM=function(W){this.readCertHex(ze(W))},this.readCertHex=function(W){this.hex=W,this.getVersion();try{se(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var W={};return W.version=this.getVersion(),W.serial={hex:this.getSerialNumberHex()},W.sigalg=this.getSignatureAlgorithmField(),W.issuer=this.getIssuer(),W.notbefore=this.getNotBefore(),W.notafter=this.getNotAfter(),W.subject=this.getSubject(),W.sbjpubkey=nt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(W.ext=this.getExtParamArray()),W.sighex=this.getSignatureValueHex(),W},this.getExtParamArray=function(W){W==null&&oe(this.hex,0,[0,"[3]"])!=-1&&(W=Z(this.hex,0,[0,"[3]",0],"30"));for(var ae=[],ce=w(W,0),pe=0;pe<ce.length;pe++){var Ne=H(W,ce[pe]),$e=this.getExtParam(Ne);$e!=null&&ae.push($e)}return ae},this.getExtParam=function(W){var ae=w(W,0).length;if(ae!=2&&ae!=3)throw new Error("wrong number elements in Extension: "+ae+" "+W);var ce=Ue(G(W,0,[0],"06")),pe=!1;ae==3&&Q(W,0,[1])=="0101ff"&&(pe=!0);var Ne=Q(W,0,[ae-1,0]),$e=void 0;if(ce=="2.5.29.14"?$e=this.getExtSubjectKeyIdentifier(Ne,pe):ce=="2.5.29.15"?$e=this.getExtKeyUsage(Ne,pe):ce=="2.5.29.17"?$e=this.getExtSubjectAltName(Ne,pe):ce=="2.5.29.18"?$e=this.getExtIssuerAltName(Ne,pe):ce=="2.5.29.19"?$e=this.getExtBasicConstraints(Ne,pe):ce=="2.5.29.31"?$e=this.getExtCRLDistributionPoints(Ne,pe):ce=="2.5.29.32"?$e=this.getExtCertificatePolicies(Ne,pe):ce=="2.5.29.35"?$e=this.getExtAuthorityKeyIdentifier(Ne,pe):ce=="2.5.29.37"?$e=this.getExtExtKeyUsage(Ne,pe):ce=="1.3.6.1.5.5.7.1.1"?$e=this.getExtAuthorityInfoAccess(Ne,pe):ce=="2.5.29.20"?$e=this.getExtCRLNumber(Ne,pe):ce=="2.5.29.21"?$e=this.getExtCRLReason(Ne,pe):ce=="1.3.6.1.5.5.7.48.1.2"?$e=this.getExtOcspNonce(Ne,pe):ce=="1.3.6.1.5.5.7.48.1.5"?$e=this.getExtOcspNoCheck(Ne,pe):ce=="1.2.840.113583.1.1.9.1"&&($e=this.getExtAdobeTimeStamp(Ne,pe)),$e!=null)return $e;var ct={extname:ce,extn:Ne};return pe&&(ct.critical=!0),ct},this.findExt=function(W,ae){for(var ce=0;ce<W.length;ce++)if(W[ce].extname==ae)return W[ce];return null},this.updateExtCDPFullURI=function(W,ae){var ce=this.findExt(W,"cRLDistributionPoints");if(ce!=null&&ce.array!=null){for(var pe=ce.array,Ne=0;Ne<pe.length;Ne++)if(pe[Ne].dpname!=null&&pe[Ne].dpname.full!=null)for(var $e=pe[Ne].dpname.full,ct=0;ct<$e.length;ct++){var et=$e[Ne];et.uri!=null&&(et.uri=ae)}}},this.updateExtAIAOCSP=function(W,ae){var ce=this.findExt(W,"authorityInfoAccess");if(ce!=null&&ce.array!=null)for(var pe=ce.array,Ne=0;Ne<pe.length;Ne++)pe[Ne].ocsp!=null&&(pe[Ne].ocsp=ae)},this.updateExtAIACAIssuer=function(W,ae){var ce=this.findExt(W,"authorityInfoAccess");if(ce!=null&&ce.array!=null)for(var pe=ce.array,Ne=0;Ne<pe.length;Ne++)pe[Ne].caissuer!=null&&(pe[Ne].caissuer=ae)},this.dnarraytostr=function(W){return"/"+W.map(function(ae){return function(pe){return pe.map(function(Ne){return function(ct){return ct.type+"="+ct.value}(Ne).replace(/\+/,"\\+")}).join("+")}(ae).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var W,ae,ce,pe=function(Fr){return JSON.stringify(Fr.array).replace(/[\[\]\{\}\"]/g,"")},Ne=function(Fr){for(var xr="",yr=Fr.array,jt=0;jt<yr.length;jt++){var sr=yr[jt];if(xr+="    policy oid: "+sr.policyoid+`
`,sr.array!==void 0)for(var ur=0;ur<sr.array.length;ur++){var ir=sr.array[ur];ir.cps!==void 0&&(xr+="    cps: "+ir.cps+`
`)}}return xr},$e=function(Fr){for(var xr="",yr=Fr.array,jt=0;jt<yr.length;jt++){var sr=yr[jt];try{sr.dpname.full[0].uri!==void 0&&(xr+="    "+sr.dpname.full[0].uri+`
`)}catch{}try{sr.dname.full[0].dn.hex!==void 0&&(xr+="    "+Xt.hex2dn(sr.dpname.full[0].dn.hex)+`
`)}catch{}}return xr},ct=function(Fr){for(var xr="",yr=Fr.array,jt=0;jt<yr.length;jt++){var sr=yr[jt];sr.caissuer!==void 0&&(xr+="    caissuer: "+sr.caissuer+`
`),sr.ocsp!==void 0&&(xr+="    ocsp: "+sr.ocsp+`
`)}return xr};if(W=`Basic Fields
`,W+="  serial number: "+this.getSerialNumberHex()+`
`,W+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,W+="  issuer: "+this.getIssuerString()+`
`,W+="  notBefore: "+this.getNotBefore()+`
`,W+="  notAfter: "+this.getNotAfter()+`
`,W+="  subject: "+this.getSubjectString()+`
`,W+=`  subject public key info: 
`,W+="    key algorithm: "+(ae=this.getPublicKey()).type+`
`,ae.type==="RSA"&&(W+="    n="+tn(ae.n.toString(16)).substr(0,16)+`...
`,W+="    e="+tn(ae.e.toString(16))+`
`),(ce=this.aExtInfo)!=null){W+=`X509v3 Extensions:
`;for(var et=0;et<ce.length;et++){var Et=ce[et],lt=I.asn1.x509.OID.oid2name(Et.oid);lt===""&&(lt=Et.oid);var ht="";if(Et.critical===!0&&(ht="CRITICAL"),W+="  "+lt+" "+ht+`:
`,lt==="basicConstraints"){var Pt=this.getExtBasicConstraints();Pt.cA===void 0?W+=`    {}
`:(W+="    cA=true",Pt.pathLen!==void 0&&(W+=", pathLen="+Pt.pathLen),W+=`
`)}else if(lt==="keyUsage")W+="    "+this.getExtKeyUsageString()+`
`;else if(lt==="subjectKeyIdentifier")W+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(lt==="authorityKeyIdentifier"){var Bt=this.getExtAuthorityKeyIdentifier();Bt.kid!==void 0&&(W+="    kid="+Bt.kid.hex+`
`)}else lt==="extKeyUsage"?W+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:lt==="subjectAltName"?W+="    "+pe(this.getExtSubjectAltName())+`
`:lt==="cRLDistributionPoints"?W+=$e(this.getExtCRLDistributionPoints()):lt==="authorityInfoAccess"?W+=ct(this.getExtAuthorityInfoAccess()):lt==="certificatePolicies"&&(W+=Ne(this.getExtCertificatePolicies()))}}return W+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,W+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof h=="string"&&(h.indexOf("-----BEGIN")!=-1?this.readCertPEM(h):I.lang.String.isHex(h)&&this.readCertHex(h))}it.prototype.sign=function(h,d){var m=function(F){return I.crypto.Util.hashString(F,d)}(h);return this.signWithMessageHash(m,d)},it.prototype.signWithMessageHash=function(h,d){var m=at(I.crypto.Util.getPaddedDigestInfoHex(h,d,this.n.bitLength()),16);return Xr(this.doPrivate(m).toString(16),this.n.bitLength())},it.prototype.signPSS=function(h,d,m){var w=function(H){return I.crypto.Util.hashHex(H,d)}(Pr(h));return m===void 0&&(m=-1),this.signWithMessageHashPSS(w,d,m)},it.prototype.signWithMessageHashPSS=function(h,d,m){var w,F=kr(h),H=F.length,G=this.n.bitLength()-1,te=Math.ceil(G/8),Q=function(W){return I.crypto.Util.hashHex(W,d)};if(m===-1||m===void 0)m=H;else if(m===-2)m=te-H-2;else if(m<-2)throw new Error("invalid salt length");if(te<H+m+2)throw new Error("data too long");var Z="";m>0&&(Z=new Array(m),new qe().nextBytes(Z),Z=String.fromCharCode.apply(String,Z));var se=kr(Q(Pr("\0\0\0\0\0\0\0\0"+F+Z))),oe=[];for(w=0;w<te-m-H-2;w+=1)oe[w]=0;var ve=String.fromCharCode.apply(String,oe)+""+Z,_e=ys(se,ve.length,Q),Re=[];for(w=0;w<ve.length;w+=1)Re[w]=ve.charCodeAt(w)^_e.charCodeAt(w);var Ue=65280>>8*te-G&255;for(Re[0]&=~Ue,w=0;w<H;w++)Re.push(se.charCodeAt(w));return Re.push(188),Xr(this.doPrivate(new B(Re)).toString(16),this.n.bitLength())},it.prototype.verify=function(h,d){if((d=d.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var m=at(d,16),w=this.n.bitLength();if(m.bitLength()>w)return!1;var F=this.doPublic(m).toString(16);if(F.length+3!=w/4)return!1;var H=Zn(F.replace(/^1f+00/,""));if(H.length==0)return!1;var G=H[0];return H[1]==function(Q){return I.crypto.Util.hashString(Q,G)}(h)},it.prototype.verifyWithMessageHash=function(h,d){if(d.length!=Math.ceil(this.n.bitLength()/4))return!1;var m=at(d,16);if(m.bitLength()>this.n.bitLength())return 0;var w=Zn(this.doPublic(m).toString(16).replace(/^1f+00/,""));return w.length==0?!1:(w[0],w[1]==h)},it.prototype.verifyPSS=function(h,d,m,w){var F=function(G){return I.crypto.Util.hashHex(G,m)}(Pr(h));return w===void 0&&(w=-1),this.verifyWithMessageHashPSS(F,d,m,w)},it.prototype.verifyWithMessageHashPSS=function(h,d,m,w){if(d.length!=Math.ceil(this.n.bitLength()/4))return!1;var F,H=new B(d,16),G=function(ce){return I.crypto.Util.hashHex(ce,m)},te=kr(h),Q=te.length,Z=this.n.bitLength()-1,se=Math.ceil(Z/8);if(w===-1||w===void 0)w=Q;else if(w===-2)w=se-Q-2;else if(w<-2)throw new Error("invalid salt length");if(se<Q+w+2)throw new Error("data too long");var oe=this.doPublic(H).toByteArray();for(F=0;F<oe.length;F+=1)oe[F]&=255;for(;oe.length<se;)oe.unshift(0);if(oe[se-1]!==188)throw new Error("encoded message does not end in 0xbc");var ve=(oe=String.fromCharCode.apply(String,oe)).substr(0,se-Q-1),_e=oe.substr(ve.length,Q),Re=65280>>8*se-Z&255;if((ve.charCodeAt(0)&Re)!=0)throw new Error("bits beyond keysize not zero");var Ue=ys(_e,ve.length,G),ze=[];for(F=0;F<ve.length;F+=1)ze[F]=ve.charCodeAt(F)^Ue.charCodeAt(F);ze[0]&=~Re;var W=se-Q-w-2;for(F=0;F<W;F+=1)if(ze[F]!==0)throw new Error("leftmost octets not zero");if(ze[W]!==1)throw new Error("0x01 marker not found");return _e===kr(G(Pr("\0\0\0\0\0\0\0\0"+te+String.fromCharCode.apply(String,ze.slice(-w)))))},it.SALT_LEN_HLEN=-1,it.SALT_LEN_MAX=-2,it.SALT_LEN_RECOVER=-2,Xt.hex2dn=function(h,d){d===void 0&&(d=0);var m=new Xt;return Se.getTLV(h,d),m.getX500Name(h).str},Xt.hex2rdn=function(h,d){if(d===void 0&&(d=0),h.substr(d,2)!=="31")throw new Error("malformed RDN");for(var m=new Array,w=Se.getChildIdx(h,d),F=0;F<w.length;F++)m.push(Xt.hex2attrTypeValue(h,w[F]));return(m=m.map(function(H){return H.replace("+","\\+")})).join("+")},Xt.hex2attrTypeValue=function(h,d){var m=Se,w=m.getV;if(d===void 0&&(d=0),h.substr(d,2)!=="30")throw new Error("malformed attribute type and value");var F=m.getChildIdx(h,d);F.length!==2||h.substr(F[0],2);var H=w(h,F[0]),G=I.asn1.ASN1Util.oidHexToInt(H);return I.asn1.x509.OID.oid2atype(G)+"="+kr(w(h,F[1]))},Xt.getPublicKeyFromCertHex=function(h){var d=new Xt;return d.readCertHex(h),d.getPublicKey()},Xt.getPublicKeyFromCertPEM=function(h){var d=new Xt;return d.readCertPEM(h),d.getPublicKey()},Xt.getPublicKeyInfoPropOfCertPEM=function(h){var d,m,w=Se.getVbyList,F={};return F.algparam=null,(d=new Xt).readCertPEM(h),m=d.getPublicKeyHex(),F.keyhex=w(m,0,[1],"03").substr(2),F.algoid=w(m,0,[0,0],"06"),F.algoid==="2a8648ce3d0201"&&(F.algparam=w(m,0,[0,1],"06")),F},Xt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],I!==void 0&&I||(i.KJUR=I={}),I.jws!==void 0&&I.jws||(I.jws={}),I.jws.JWS=function(){var h=I.jws.JWS.isSafeJSONString;this.parseJWS=function(d,m){if(this.parsedJWS===void 0||!m&&this.parsedJWS.sigvalH===void 0){var w=d.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(w==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var F=w[1],H=w[2],G=w[3],te=F+"."+H;if(this.parsedJWS={},this.parsedJWS.headB64U=F,this.parsedJWS.payloadB64U=H,this.parsedJWS.sigvalB64U=G,this.parsedJWS.si=te,!m){var Q=Ut(G),Z=at(Q,16);this.parsedJWS.sigvalH=Q,this.parsedJWS.sigvalBI=Z}var se=Fe(F),oe=Fe(H);if(this.parsedJWS.headS=se,this.parsedJWS.payloadS=oe,!h(se,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+se}}},I.jws.JWS.sign=function(h,d,m,w,F){var H,G,te,Q=I,Z=Q.jws.JWS,se=Z.readSafeJSONString,oe=Z.isSafeJSONString,ve=Q.crypto,_e=(ve.ECDSA,ve.Mac),Re=ve.Signature,Ue=JSON;if(typeof d!="string"&&(d===void 0?"undefined":T(d))!="object")throw"spHeader must be JSON string or object: "+d;if((d===void 0?"undefined":T(d))=="object"&&(G=d,H=Ue.stringify(G)),typeof d=="string"){if(!oe(H=d))throw"JWS Head is not safe JSON string: "+H;G=se(H)}if(te=m,(m===void 0?"undefined":T(m))=="object"&&(te=Ue.stringify(m)),h!=""&&h!=null||G.alg===void 0||(h=G.alg),h!=""&&h!=null&&G.alg===void 0&&(G.alg=h,H=Ue.stringify(G)),h!==G.alg)throw"alg and sHeader.alg doesn't match: "+h+"!="+G.alg;var ze=null;if(Z.jwsalg2sigalg[h]===void 0)throw"unsupported alg name: "+h;ze=Z.jwsalg2sigalg[h];var W=Ee(H)+"."+Ee(te),ae="";if(ze.substr(0,4)=="Hmac"){if(w===void 0)throw"mac key shall be specified for HS* alg";var ce=new _e({alg:ze,prov:"cryptojs",pass:w});ce.updateString(W),ae=ce.doFinal()}else if(ze.indexOf("withECDSA")!=-1){(Ne=new Re({alg:ze})).init(w,F),Ne.updateString(W);var pe=Ne.sign();ae=I.crypto.ECDSA.asn1SigToConcatSig(pe)}else{var Ne;ze!="none"&&((Ne=new Re({alg:ze})).init(w,F),Ne.updateString(W),ae=Ne.sign())}return W+"."+rr(ae)},I.jws.JWS.verify=function(h,d,m){var w,F=I,H=F.jws.JWS,G=H.readSafeJSONString,te=F.crypto,Q=te.ECDSA,Z=te.Mac,se=te.Signature;T(it)!==void 0&&(w=it);var oe=h.split(".");if(oe.length!==3)return!1;var ve=oe[0]+"."+oe[1],_e=Ut(oe[2]),Re=G(Fe(oe[0])),Ue=null,ze=null;if(Re.alg===void 0)throw"algorithm not specified in header";if(ze=(Ue=Re.alg).substr(0,2),m!=null&&Object.prototype.toString.call(m)==="[object Array]"&&m.length>0&&(":"+m.join(":")+":").indexOf(":"+Ue+":")==-1)throw"algorithm '"+Ue+"' not accepted in the list";if(Ue!="none"&&d===null)throw"key shall be specified to verify.";if(typeof d=="string"&&d.indexOf("-----BEGIN ")!=-1&&(d=wt.getKey(d)),!(ze!="RS"&&ze!="PS"||d instanceof w))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ze=="ES"&&!(d instanceof Q))throw"key shall be a ECDSA obj for ES* algs";var W=null;if(H.jwsalg2sigalg[Re.alg]===void 0)throw"unsupported alg name: "+Ue;if((W=H.jwsalg2sigalg[Ue])=="none")throw"not supported";if(W.substr(0,4)=="Hmac"){if(d===void 0)throw"hexadecimal key shall be specified for HMAC";var ae=new Z({alg:W,pass:d});return ae.updateString(ve),_e==ae.doFinal()}if(W.indexOf("withECDSA")!=-1){var ce,pe=null;try{pe=Q.concatSigToASN1Sig(_e)}catch{return!1}return(ce=new se({alg:W})).init(d),ce.updateString(ve),ce.verify(pe)}return(ce=new se({alg:W})).init(d),ce.updateString(ve),ce.verify(_e)},I.jws.JWS.parse=function(h){var d,m,w,F=h.split("."),H={};if(F.length!=2&&F.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return d=F[0],m=F[1],F.length==3&&(w=F[2]),H.headerObj=I.jws.JWS.readSafeJSONString(Fe(d)),H.payloadObj=I.jws.JWS.readSafeJSONString(Fe(m)),H.headerPP=JSON.stringify(H.headerObj,null,"  "),H.payloadObj==null?H.payloadPP=Fe(m):H.payloadPP=JSON.stringify(H.payloadObj,null,"  "),w!==void 0&&(H.sigHex=Ut(w)),H},I.jws.JWS.verifyJWT=function(h,d,m){var w=I.jws,F=w.JWS,H=F.readSafeJSONString,G=F.inArray,te=F.includedArray,Q=h.split("."),Z=Q[0],se=Q[1],oe=(Ut(Q[2]),H(Fe(Z))),ve=H(Fe(se));if(oe.alg===void 0)return!1;if(m.alg===void 0)throw"acceptField.alg shall be specified";if(!G(oe.alg,m.alg)||ve.iss!==void 0&&T(m.iss)==="object"&&!G(ve.iss,m.iss)||ve.sub!==void 0&&T(m.sub)==="object"&&!G(ve.sub,m.sub))return!1;if(ve.aud!==void 0&&T(m.aud)==="object"){if(typeof ve.aud=="string"){if(!G(ve.aud,m.aud))return!1}else if(T(ve.aud)=="object"&&!te(ve.aud,m.aud))return!1}var _e=w.IntDate.getNow();return m.verifyAt!==void 0&&typeof m.verifyAt=="number"&&(_e=m.verifyAt),m.gracePeriod!==void 0&&typeof m.gracePeriod=="number"||(m.gracePeriod=0),!(ve.exp!==void 0&&typeof ve.exp=="number"&&ve.exp+m.gracePeriod<_e)&&!(ve.nbf!==void 0&&typeof ve.nbf=="number"&&_e<ve.nbf-m.gracePeriod)&&!(ve.iat!==void 0&&typeof ve.iat=="number"&&_e<ve.iat-m.gracePeriod)&&(ve.jti===void 0||m.jti===void 0||ve.jti===m.jti)&&!!F.verify(h,d,m.alg)},I.jws.JWS.includedArray=function(h,d){var m=I.jws.JWS.inArray;if(h===null||(h===void 0?"undefined":T(h))!=="object"||typeof h.length!="number")return!1;for(var w=0;w<h.length;w++)if(!m(h[w],d))return!1;return!0},I.jws.JWS.inArray=function(h,d){if(d===null||(d===void 0?"undefined":T(d))!=="object"||typeof d.length!="number")return!1;for(var m=0;m<d.length;m++)if(d[m]==h)return!0;return!1},I.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},I.jws.JWS.isSafeJSONString=function(h,d,m){var w=null;try{return((w=P(h))===void 0?"undefined":T(w))!="object"||w.constructor===Array?0:(d&&(d[m]=w),1)}catch{return 0}},I.jws.JWS.readSafeJSONString=function(h){var d=null;try{return((d=P(h))===void 0?"undefined":T(d))!="object"||d.constructor===Array?null:d}catch{return null}},I.jws.JWS.getEncodedSignatureValueFromJWS=function(h){var d=h.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(d==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return d[1]},I.jws.JWS.getJWKthumbprint=function(h){if(h.kty!=="RSA"&&h.kty!=="EC"&&h.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var d="{";if(h.kty==="RSA"){if(typeof h.n!="string"||typeof h.e!="string")throw"wrong n and e value for RSA key";d+='"e":"'+h.e+'",',d+='"kty":"'+h.kty+'",',d+='"n":"'+h.n+'"}'}else if(h.kty==="EC"){if(typeof h.crv!="string"||typeof h.x!="string"||typeof h.y!="string")throw"wrong crv, x and y value for EC key";d+='"crv":"'+h.crv+'",',d+='"kty":"'+h.kty+'",',d+='"x":"'+h.x+'",',d+='"y":"'+h.y+'"}'}else if(h.kty==="oct"){if(typeof h.k!="string")throw"wrong k value for oct(symmetric) key";d+='"kty":"'+h.kty+'",',d+='"k":"'+h.k+'"}'}var m=Pr(d);return rr(I.crypto.Util.hashHex(m,"sha256"))},I.jws.IntDate={},I.jws.IntDate.get=function(h){var d=I.jws.IntDate,m=d.getNow,w=d.getZulu;if(h=="now")return m();if(h=="now + 1hour")return m()+3600;if(h=="now + 1day")return m()+86400;if(h=="now + 1month")return m()+2592e3;if(h=="now + 1year")return m()+31536e3;if(h.match(/Z$/))return w(h);if(h.match(/^[0-9]+$/))return parseInt(h);throw"unsupported format: "+h},I.jws.IntDate.getZulu=function(h){return It(h)},I.jws.IntDate.getNow=function(){return~~(new Date/1e3)},I.jws.IntDate.intDate2UTCString=function(h){return new Date(1e3*h).toUTCString()},I.jws.IntDate.intDate2Zulu=function(h){var d=new Date(1e3*h);return("0000"+d.getUTCFullYear()).slice(-4)+("00"+(d.getUTCMonth()+1)).slice(-2)+("00"+d.getUTCDate()).slice(-2)+("00"+d.getUTCHours()).slice(-2)+("00"+d.getUTCMinutes()).slice(-2)+("00"+d.getUTCSeconds()).slice(-2)+"Z"},i.SecureRandom=qe,i.rng_seed_time=fe,i.BigInteger=B,i.RSAKey=it;var Nf=I.crypto.EDSA;i.EDSA=Nf;var ll=I.crypto.DSA;i.DSA=ll;var cl=I.crypto.Signature;i.Signature=cl;var Mf=I.crypto.MessageDigest;i.MessageDigest=Mf;var lo=I.crypto.Mac;i.Mac=lo;var co=I.crypto.Cipher;i.Cipher=co,i.KEYUTIL=wt,i.ASN1HEX=Se,i.X509=Xt,i.CryptoJS=N,i.b64tohex=X,i.b64toBA=re,i.stoBA=vt,i.BAtos=Nt,i.BAtohex=Ot,i.stohex=At,i.stob64=function(d){return j(At(d))},i.stob64u=function(d){return Dt(j(At(d)))},i.b64utos=function(d){return Nt(re(kn(d)))},i.b64tob64u=Dt,i.b64utob64=kn,i.hex2b64=j,i.hextob64u=rr,i.b64utohex=Ut,i.utf8tob64u=Ee,i.b64utoutf8=Fe,i.utf8tob64=function(d){return j(nr(Ln(d)))},i.b64toutf8=function(d){return decodeURIComponent(Pn(X(d)))},i.utf8tohex=hn,i.hextoutf8=or,i.hextorstr=kr,i.rstrtohex=Pr,i.hextob64=yi,i.hextob64nl=ee,i.b64nltohex=de,i.hextopem=nt,i.pemtohex=tt,i.hextoArrayBuffer=function(d){if(d.length%2!=0)throw"input is not even length";if(d.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var m=new ArrayBuffer(d.length/2),w=new DataView(m),F=0;F<d.length/2;F++)w.setUint8(F,parseInt(d.substr(2*F,2),16));return m},i.ArrayBuffertohex=function(d){for(var m="",w=new DataView(d),F=0;F<d.byteLength;F++)m+=("00"+w.getUint8(F).toString(16)).slice(-2);return m},i.zulutomsec=ut,i.zulutosec=It,i.zulutodate=function(d){return new Date(ut(d))},i.datetozulu=function(d,m,w){var F,H=d.getUTCFullYear();if(m){if(H<1950||2049<H)throw"not proper year for UTCTime: "+H;F=(""+H).slice(-2)}else F=("000"+H).slice(-4);if(F+=("0"+(d.getUTCMonth()+1)).slice(-2),F+=("0"+d.getUTCDate()).slice(-2),F+=("0"+d.getUTCHours()).slice(-2),F+=("0"+d.getUTCMinutes()).slice(-2),F+=("0"+d.getUTCSeconds()).slice(-2),w){var G=d.getUTCMilliseconds();G!==0&&(F+="."+(G=(G=("00"+G).slice(-3)).replace(/0+$/g,"")))}return F+="Z"},i.uricmptohex=nr,i.hextouricmp=Pn,i.ipv6tohex=En,i.hextoipv6=Da,i.hextoip=Wi,i.iptohex=function(d){var m="malformed IP address";if(!(d=d.toLowerCase(d)).match(/^[0-9.]+$/)){if(d.match(/^[0-9a-f:]+$/)&&d.indexOf(":")!==-1)return En(d);throw m}var w=d.split(".");if(w.length!==4)throw m;var F="";try{for(var H=0;H<4;H++)F+=("0"+parseInt(w[H]).toString(16)).slice(-2);return F}catch{throw m}},i.encodeURIComponentAll=Ln,i.newline_toUnix=function(d){return d=d.replace(/\r\n/gm,`
`)},i.newline_toDos=function(d){return d=(d=d.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},i.hextoposhex=tn,i.intarystrtohex=function(d){d=(d=(d=d.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return d.split(/,/).map(function(m,w,F){var H=parseInt(m);if(H<0||255<H)throw"integer not in range 0-255";return("00"+H.toString(16)).slice(-2)}).join("")}catch(m){throw"malformed integer array string: "+m}},i.strdiffidx=function(d,m){var w=d.length;d.length>m.length&&(w=m.length);for(var F=0;F<w;F++)if(d.charCodeAt(F)!=m.charCodeAt(F))return F;return d.length!=m.length?w:-1},i.KJUR=I;var Bn=I.crypto;i.crypto=Bn;var ms=I.asn1;i.asn1=ms;var fl=I.jws;i.jws=fl;var Gi=I.lang;i.lang=Gi}).call(this,o(28).Buffer)},function(n,i,o){(function(u){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var l=o(30),c=o(31),g=o(32);function p(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function v(ie,U){if(p()<U)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(U)).__proto__=y.prototype:(ie===null&&(ie=new y(U)),ie.length=U),ie}function y(ie,U,O){if(!(y.TYPED_ARRAY_SUPPORT||this instanceof y))return new y(ie,U,O);if(typeof ie=="number"){if(typeof U=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(this,ie)}return _(this,ie,U,O)}function _(ie,U,O,z){if(typeof U=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&U instanceof ArrayBuffer?function(fe,ue,Pe,he){if(ue.byteLength,Pe<0||ue.byteLength<Pe)throw new RangeError("'offset' is out of bounds");if(ue.byteLength<Pe+(he||0))throw new RangeError("'length' is out of bounds");return ue=Pe===void 0&&he===void 0?new Uint8Array(ue):he===void 0?new Uint8Array(ue,Pe):new Uint8Array(ue,Pe,he),y.TYPED_ARRAY_SUPPORT?(fe=ue).__proto__=y.prototype:fe=S(fe,ue),fe}(ie,U,O,z):typeof U=="string"?function(fe,ue,Pe){if(typeof Pe=="string"&&Pe!==""||(Pe="utf8"),!y.isEncoding(Pe))throw new TypeError('"encoding" must be a valid string encoding');var he=0|T(ue,Pe),Le=(fe=v(fe,he)).write(ue,Pe);return Le!==he&&(fe=fe.slice(0,Le)),fe}(ie,U,O):function(fe,ue){if(y.isBuffer(ue)){var Pe=0|R(ue.length);return(fe=v(fe,Pe)).length===0||ue.copy(fe,0,0,Pe),fe}if(ue){if(typeof ArrayBuffer<"u"&&ue.buffer instanceof ArrayBuffer||"length"in ue)return typeof ue.length!="number"||function(Le){return Le!=Le}(ue.length)?v(fe,0):S(fe,ue);if(ue.type==="Buffer"&&g(ue.data))return S(fe,ue.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,U)}function A(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function x(ie,U){if(A(U),ie=v(ie,U<0?0:0|R(U)),!y.TYPED_ARRAY_SUPPORT)for(var O=0;O<U;++O)ie[O]=0;return ie}function S(ie,U){var O=U.length<0?0:0|R(U.length);ie=v(ie,O);for(var z=0;z<O;z+=1)ie[z]=255&U[z];return ie}function R(ie){if(ie>=p())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p().toString(16)+" bytes");return 0|ie}function T(ie,U){if(y.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;typeof ie!="string"&&(ie=""+ie);var O=ie.length;if(O===0)return 0;for(var z=!1;;)switch(U){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":case void 0:return Ce(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*O;case"hex":return O>>>1;case"base64":return He(ie).length;default:if(z)return Ce(ie).length;U=(""+U).toLowerCase(),z=!0}}function D(ie,U,O){var z=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0)<=(U>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return Oe(this,U,O);case"utf8":case"utf-8":return ne(this,U,O);case"ascii":return Ve(this,U,O);case"latin1":case"binary":return ge(this,U,O);case"base64":return me(this,U,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,U,O);default:if(z)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),z=!0}}function C(ie,U,O){var z=ie[U];ie[U]=ie[O],ie[O]=z}function N(ie,U,O,z,$){if(ie.length===0)return-1;if(typeof O=="string"?(z=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,isNaN(O)&&(O=$?0:ie.length-1),O<0&&(O=ie.length+O),O>=ie.length){if($)return-1;O=ie.length-1}else if(O<0){if(!$)return-1;O=0}if(typeof U=="string"&&(U=y.from(U,z)),y.isBuffer(U))return U.length===0?-1:k(ie,U,O,z,$);if(typeof U=="number")return U&=255,y.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(ie,U,O):Uint8Array.prototype.lastIndexOf.call(ie,U,O):k(ie,[U],O,z,$);throw new TypeError("val must be string, number or Buffer")}function k(ie,U,O,z,$){var fe,ue=1,Pe=ie.length,he=U.length;if(z!==void 0&&((z=String(z).toLowerCase())==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(ie.length<2||U.length<2)return-1;ue=2,Pe/=2,he/=2,O/=2}function Le(St,it){return ue===1?St[it]:St.readUInt16BE(it*ue)}if($){var Ge=-1;for(fe=O;fe<Pe;fe++)if(Le(ie,fe)===Le(U,Ge===-1?0:fe-Ge)){if(Ge===-1&&(Ge=fe),fe-Ge+1===he)return Ge*ue}else Ge!==-1&&(fe-=fe-Ge),Ge=-1}else for(O+he>Pe&&(O=Pe-he),fe=O;fe>=0;fe--){for(var qe=!0,at=0;at<he;at++)if(Le(ie,fe+at)!==Le(U,at)){qe=!1;break}if(qe)return fe}return-1}function L(ie,U,O,z){O=Number(O)||0;var $=ie.length-O;z?(z=Number(z))>$&&(z=$):z=$;var fe=U.length;if(fe%2!=0)throw new TypeError("Invalid hex string");z>fe/2&&(z=fe/2);for(var ue=0;ue<z;++ue){var Pe=parseInt(U.substr(2*ue,2),16);if(isNaN(Pe))return ue;ie[O+ue]=Pe}return ue}function j(ie,U,O,z){return Qe(Ce(U,ie.length-O),ie,O,z)}function X(ie,U,O,z){return Qe(function(fe){for(var ue=[],Pe=0;Pe<fe.length;++Pe)ue.push(255&fe.charCodeAt(Pe));return ue}(U),ie,O,z)}function re(ie,U,O,z){return X(ie,U,O,z)}function B(ie,U,O,z){return Qe(He(U),ie,O,z)}function Y(ie,U,O,z){return Qe(function(fe,ue){for(var Pe,he,Le,Ge=[],qe=0;qe<fe.length&&!((ue-=2)<0);++qe)he=(Pe=fe.charCodeAt(qe))>>8,Le=Pe%256,Ge.push(Le),Ge.push(he);return Ge}(U,ie.length-O),ie,O,z)}function me(ie,U,O){return U===0&&O===ie.length?l.fromByteArray(ie):l.fromByteArray(ie.slice(U,O))}function ne(ie,U,O){O=Math.min(ie.length,O);for(var z=[],$=U;$<O;){var fe,ue,Pe,he,Le=ie[$],Ge=null,qe=Le>239?4:Le>223?3:Le>191?2:1;if($+qe<=O)switch(qe){case 1:Le<128&&(Ge=Le);break;case 2:(192&(fe=ie[$+1]))==128&&(he=(31&Le)<<6|63&fe)>127&&(Ge=he);break;case 3:fe=ie[$+1],ue=ie[$+2],(192&fe)==128&&(192&ue)==128&&(he=(15&Le)<<12|(63&fe)<<6|63&ue)>2047&&(he<55296||he>57343)&&(Ge=he);break;case 4:fe=ie[$+1],ue=ie[$+2],Pe=ie[$+3],(192&fe)==128&&(192&ue)==128&&(192&Pe)==128&&(he=(15&Le)<<18|(63&fe)<<12|(63&ue)<<6|63&Pe)>65535&&he<1114112&&(Ge=he)}Ge===null?(Ge=65533,qe=1):Ge>65535&&(Ge-=65536,z.push(Ge>>>10&1023|55296),Ge=56320|1023&Ge),z.push(Ge),$+=qe}return function(St){var it=St.length;if(it<=ke)return String.fromCharCode.apply(String,St);for(var gt="",V=0;V<it;)gt+=String.fromCharCode.apply(String,St.slice(V,V+=ke));return gt}(z)}i.Buffer=y,i.SlowBuffer=function(U){return+U!=U&&(U=0),y.alloc(+U)},i.INSPECT_MAX_BYTES=50,y.TYPED_ARRAY_SUPPORT=u.TYPED_ARRAY_SUPPORT!==void 0?u.TYPED_ARRAY_SUPPORT:function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42&&typeof U.subarray=="function"&&U.subarray(1,1).byteLength===0}catch{return!1}}(),i.kMaxLength=p(),y.poolSize=8192,y._augment=function(ie){return ie.__proto__=y.prototype,ie},y.from=function(ie,U,O){return _(null,ie,U,O)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&y[Symbol.species]===y&&Object.defineProperty(y,Symbol.species,{value:null,configurable:!0})),y.alloc=function(ie,U,O){return function($,fe,ue,Pe){return A(fe),fe<=0?v($,fe):ue!==void 0?typeof Pe=="string"?v($,fe).fill(ue,Pe):v($,fe).fill(ue):v($,fe)}(null,ie,U,O)},y.allocUnsafe=function(ie){return x(null,ie)},y.allocUnsafeSlow=function(ie){return x(null,ie)},y.isBuffer=function(U){return!(U==null||!U._isBuffer)},y.compare=function(U,O){if(!y.isBuffer(U)||!y.isBuffer(O))throw new TypeError("Arguments must be Buffers");if(U===O)return 0;for(var z=U.length,$=O.length,fe=0,ue=Math.min(z,$);fe<ue;++fe)if(U[fe]!==O[fe]){z=U[fe],$=O[fe];break}return z<$?-1:$<z?1:0},y.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(U,O){if(!g(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return y.alloc(0);var z;if(O===void 0)for(O=0,z=0;z<U.length;++z)O+=U[z].length;var $=y.allocUnsafe(O),fe=0;for(z=0;z<U.length;++z){var ue=U[z];if(!y.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy($,fe),fe+=ue.length}return $},y.byteLength=T,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<U;O+=2)C(this,O,O+1);return this},y.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<U;O+=4)C(this,O,O+3),C(this,O+1,O+2);return this},y.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<U;O+=8)C(this,O,O+7),C(this,O+1,O+6),C(this,O+2,O+5),C(this,O+3,O+4);return this},y.prototype.toString=function(){var U=0|this.length;return U===0?"":arguments.length===0?ne(this,0,U):D.apply(this,arguments)},y.prototype.equals=function(U){if(!y.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||y.compare(this,U)===0},y.prototype.inspect=function(){var U="",O=i.INSPECT_MAX_BYTES;return this.length>0&&(U=this.toString("hex",0,O).match(/.{2}/g).join(" "),this.length>O&&(U+=" ... ")),"<Buffer "+U+">"},y.prototype.compare=function(U,O,z,$,fe){if(!y.isBuffer(U))throw new TypeError("Argument must be a Buffer");if(O===void 0&&(O=0),z===void 0&&(z=U?U.length:0),$===void 0&&($=0),fe===void 0&&(fe=this.length),O<0||z>U.length||$<0||fe>this.length)throw new RangeError("out of range index");if($>=fe&&O>=z)return 0;if($>=fe)return-1;if(O>=z)return 1;if(this===U)return 0;for(var ue=(fe>>>=0)-($>>>=0),Pe=(z>>>=0)-(O>>>=0),he=Math.min(ue,Pe),Le=this.slice($,fe),Ge=U.slice(O,z),qe=0;qe<he;++qe)if(Le[qe]!==Ge[qe]){ue=Le[qe],Pe=Ge[qe];break}return ue<Pe?-1:Pe<ue?1:0},y.prototype.includes=function(U,O,z){return this.indexOf(U,O,z)!==-1},y.prototype.indexOf=function(U,O,z){return N(this,U,O,z,!0)},y.prototype.lastIndexOf=function(U,O,z){return N(this,U,O,z,!1)},y.prototype.write=function(U,O,z,$){if(O===void 0)$="utf8",z=this.length,O=0;else if(z===void 0&&typeof O=="string")$=O,z=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O|=0,isFinite(z)?(z|=0,$===void 0&&($="utf8")):($=z,z=void 0)}var fe=this.length-O;if((z===void 0||z>fe)&&(z=fe),U.length>0&&(z<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var ue=!1;;)switch($){case"hex":return L(this,U,O,z);case"utf8":case"utf-8":return j(this,U,O,z);case"ascii":return X(this,U,O,z);case"latin1":case"binary":return re(this,U,O,z);case"base64":return B(this,U,O,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,U,O,z);default:if(ue)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),ue=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ke=4096;function Ve(ie,U,O){var z="";O=Math.min(ie.length,O);for(var $=U;$<O;++$)z+=String.fromCharCode(127&ie[$]);return z}function ge(ie,U,O){var z="";O=Math.min(ie.length,O);for(var $=U;$<O;++$)z+=String.fromCharCode(ie[$]);return z}function Oe(ie,U,O){var z=ie.length;(!U||U<0)&&(U=0),(!O||O<0||O>z)&&(O=z);for(var $="",fe=U;fe<O;++fe)$+=st(ie[fe]);return $}function we(ie,U,O){for(var z=ie.slice(U,O),$="",fe=0;fe<z.length;fe+=2)$+=String.fromCharCode(z[fe]+256*z[fe+1]);return $}function Be(ie,U,O){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+U>O)throw new RangeError("Trying to access beyond buffer length")}function q(ie,U,O,z,$,fe){if(!y.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>$||U<fe)throw new RangeError('"value" argument is out of bounds');if(O+z>ie.length)throw new RangeError("Index out of range")}function le(ie,U,O,z){U<0&&(U=65535+U+1);for(var $=0,fe=Math.min(ie.length-O,2);$<fe;++$)ie[O+$]=(U&255<<8*(z?$:1-$))>>>8*(z?$:1-$)}function Ae(ie,U,O,z){U<0&&(U=4294967295+U+1);for(var $=0,fe=Math.min(ie.length-O,4);$<fe;++$)ie[O+$]=U>>>8*(z?$:3-$)&255}function be(ie,U,O,z,$,fe){if(O+z>ie.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function We(ie,U,O,z,$){return $||be(ie,0,O,4),c.write(ie,U,O,z,23,4),O+4}function Xe(ie,U,O,z,$){return $||be(ie,0,O,8),c.write(ie,U,O,z,52,8),O+8}y.prototype.slice=function(U,O){var z,$=this.length;if((U=~~U)<0?(U+=$)<0&&(U=0):U>$&&(U=$),(O=O===void 0?$:~~O)<0?(O+=$)<0&&(O=0):O>$&&(O=$),O<U&&(O=U),y.TYPED_ARRAY_SUPPORT)(z=this.subarray(U,O)).__proto__=y.prototype;else{var fe=O-U;z=new y(fe,void 0);for(var ue=0;ue<fe;++ue)z[ue]=this[ue+U]}return z},y.prototype.readUIntLE=function(U,O,z){U|=0,O|=0,z||Be(U,O,this.length);for(var $=this[U],fe=1,ue=0;++ue<O&&(fe*=256);)$+=this[U+ue]*fe;return $},y.prototype.readUIntBE=function(U,O,z){U|=0,O|=0,z||Be(U,O,this.length);for(var $=this[U+--O],fe=1;O>0&&(fe*=256);)$+=this[U+--O]*fe;return $},y.prototype.readUInt8=function(U,O){return O||Be(U,1,this.length),this[U]},y.prototype.readUInt16LE=function(U,O){return O||Be(U,2,this.length),this[U]|this[U+1]<<8},y.prototype.readUInt16BE=function(U,O){return O||Be(U,2,this.length),this[U]<<8|this[U+1]},y.prototype.readUInt32LE=function(U,O){return O||Be(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},y.prototype.readUInt32BE=function(U,O){return O||Be(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},y.prototype.readIntLE=function(U,O,z){U|=0,O|=0,z||Be(U,O,this.length);for(var $=this[U],fe=1,ue=0;++ue<O&&(fe*=256);)$+=this[U+ue]*fe;return $>=(fe*=128)&&($-=Math.pow(2,8*O)),$},y.prototype.readIntBE=function(U,O,z){U|=0,O|=0,z||Be(U,O,this.length);for(var $=O,fe=1,ue=this[U+--$];$>0&&(fe*=256);)ue+=this[U+--$]*fe;return ue>=(fe*=128)&&(ue-=Math.pow(2,8*O)),ue},y.prototype.readInt8=function(U,O){return O||Be(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},y.prototype.readInt16LE=function(U,O){O||Be(U,2,this.length);var z=this[U]|this[U+1]<<8;return 32768&z?4294901760|z:z},y.prototype.readInt16BE=function(U,O){O||Be(U,2,this.length);var z=this[U+1]|this[U]<<8;return 32768&z?4294901760|z:z},y.prototype.readInt32LE=function(U,O){return O||Be(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},y.prototype.readInt32BE=function(U,O){return O||Be(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},y.prototype.readFloatLE=function(U,O){return O||Be(U,4,this.length),c.read(this,U,!0,23,4)},y.prototype.readFloatBE=function(U,O){return O||Be(U,4,this.length),c.read(this,U,!1,23,4)},y.prototype.readDoubleLE=function(U,O){return O||Be(U,8,this.length),c.read(this,U,!0,52,8)},y.prototype.readDoubleBE=function(U,O){return O||Be(U,8,this.length),c.read(this,U,!1,52,8)},y.prototype.writeUIntLE=function(U,O,z,$){U=+U,O|=0,z|=0,$||q(this,U,O,z,Math.pow(2,8*z)-1,0);var fe=1,ue=0;for(this[O]=255&U;++ue<z&&(fe*=256);)this[O+ue]=U/fe&255;return O+z},y.prototype.writeUIntBE=function(U,O,z,$){U=+U,O|=0,z|=0,$||q(this,U,O,z,Math.pow(2,8*z)-1,0);var fe=z-1,ue=1;for(this[O+fe]=255&U;--fe>=0&&(ue*=256);)this[O+fe]=U/ue&255;return O+z},y.prototype.writeUInt8=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,1,255,0),y.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),this[O]=255&U,O+1},y.prototype.writeUInt16LE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[O]=255&U,this[O+1]=U>>>8):le(this,U,O,!0),O+2},y.prototype.writeUInt16BE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[O]=U>>>8,this[O+1]=255&U):le(this,U,O,!1),O+2},y.prototype.writeUInt32LE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[O+3]=U>>>24,this[O+2]=U>>>16,this[O+1]=U>>>8,this[O]=255&U):Ae(this,U,O,!0),O+4},y.prototype.writeUInt32BE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[O]=U>>>24,this[O+1]=U>>>16,this[O+2]=U>>>8,this[O+3]=255&U):Ae(this,U,O,!1),O+4},y.prototype.writeIntLE=function(U,O,z,$){if(U=+U,O|=0,!$){var fe=Math.pow(2,8*z-1);q(this,U,O,z,fe-1,-fe)}var ue=0,Pe=1,he=0;for(this[O]=255&U;++ue<z&&(Pe*=256);)U<0&&he===0&&this[O+ue-1]!==0&&(he=1),this[O+ue]=(U/Pe>>0)-he&255;return O+z},y.prototype.writeIntBE=function(U,O,z,$){if(U=+U,O|=0,!$){var fe=Math.pow(2,8*z-1);q(this,U,O,z,fe-1,-fe)}var ue=z-1,Pe=1,he=0;for(this[O+ue]=255&U;--ue>=0&&(Pe*=256);)U<0&&he===0&&this[O+ue+1]!==0&&(he=1),this[O+ue]=(U/Pe>>0)-he&255;return O+z},y.prototype.writeInt8=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,1,127,-128),y.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),U<0&&(U=255+U+1),this[O]=255&U,O+1},y.prototype.writeInt16LE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[O]=255&U,this[O+1]=U>>>8):le(this,U,O,!0),O+2},y.prototype.writeInt16BE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[O]=U>>>8,this[O+1]=255&U):le(this,U,O,!1),O+2},y.prototype.writeInt32LE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[O]=255&U,this[O+1]=U>>>8,this[O+2]=U>>>16,this[O+3]=U>>>24):Ae(this,U,O,!0),O+4},y.prototype.writeInt32BE=function(U,O,z){return U=+U,O|=0,z||q(this,U,O,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),y.TYPED_ARRAY_SUPPORT?(this[O]=U>>>24,this[O+1]=U>>>16,this[O+2]=U>>>8,this[O+3]=255&U):Ae(this,U,O,!1),O+4},y.prototype.writeFloatLE=function(U,O,z){return We(this,U,O,!0,z)},y.prototype.writeFloatBE=function(U,O,z){return We(this,U,O,!1,z)},y.prototype.writeDoubleLE=function(U,O,z){return Xe(this,U,O,!0,z)},y.prototype.writeDoubleBE=function(U,O,z){return Xe(this,U,O,!1,z)},y.prototype.copy=function(U,O,z,$){if(z||(z=0),$||$===0||($=this.length),O>=U.length&&(O=U.length),O||(O=0),$>0&&$<z&&($=z),$===z||U.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),U.length-O<$-z&&($=U.length-O+z);var fe,ue=$-z;if(this===U&&z<O&&O<$)for(fe=ue-1;fe>=0;--fe)U[fe+O]=this[fe+z];else if(ue<1e3||!y.TYPED_ARRAY_SUPPORT)for(fe=0;fe<ue;++fe)U[fe+O]=this[fe+z];else Uint8Array.prototype.set.call(U,this.subarray(z,z+ue),O);return ue},y.prototype.fill=function(U,O,z,$){if(typeof U=="string"){if(typeof O=="string"?($=O,O=0,z=this.length):typeof z=="string"&&($=z,z=this.length),U.length===1){var fe=U.charCodeAt(0);fe<256&&(U=fe)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!y.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof U=="number"&&(U&=255);if(O<0||this.length<O||this.length<z)throw new RangeError("Out of range index");if(z<=O)return this;var ue;if(O>>>=0,z=z===void 0?this.length:z>>>0,U||(U=0),typeof U=="number")for(ue=O;ue<z;++ue)this[ue]=U;else{var Pe=y.isBuffer(U)?U:Ce(new y(U,$).toString()),he=Pe.length;for(ue=0;ue<z-O;++ue)this[ue+O]=Pe[ue%he]}return this};var rt=/[^+\/0-9A-Za-z-_]/g;function st(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function Ce(ie,U){var O;U=U||1/0;for(var z=ie.length,$=null,fe=[],ue=0;ue<z;++ue){if((O=ie.charCodeAt(ue))>55295&&O<57344){if(!$){if(O>56319){(U-=3)>-1&&fe.push(239,191,189);continue}if(ue+1===z){(U-=3)>-1&&fe.push(239,191,189);continue}$=O;continue}if(O<56320){(U-=3)>-1&&fe.push(239,191,189),$=O;continue}O=65536+($-55296<<10|O-56320)}else $&&(U-=3)>-1&&fe.push(239,191,189);if($=null,O<128){if((U-=1)<0)break;fe.push(O)}else if(O<2048){if((U-=2)<0)break;fe.push(O>>6|192,63&O|128)}else if(O<65536){if((U-=3)<0)break;fe.push(O>>12|224,O>>6&63|128,63&O|128)}else{if(!(O<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;fe.push(O>>18|240,O>>12&63|128,O>>6&63|128,63&O|128)}}return fe}function He(ie){return l.toByteArray(function(O){if((O=function($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}(O).replace(rt,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(ie))}function Qe(ie,U,O,z){for(var $=0;$<z&&!($+O>=U.length||$>=ie.length);++$)U[$+O]=ie[$];return $}}).call(this,o(29))},function(n,i){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,i,o){i.byteLength=function(x){var S=y(x),R=S[0],T=S[1];return 3*(R+T)/4-T},i.toByteArray=function(x){var S,R,T=y(x),D=T[0],C=T[1],N=new c(function(X,re,B){return 3*(re+B)/4-B}(0,D,C)),k=0,L=C>0?D-4:D;for(R=0;R<L;R+=4)S=l[x.charCodeAt(R)]<<18|l[x.charCodeAt(R+1)]<<12|l[x.charCodeAt(R+2)]<<6|l[x.charCodeAt(R+3)],N[k++]=S>>16&255,N[k++]=S>>8&255,N[k++]=255&S;return C===2&&(S=l[x.charCodeAt(R)]<<2|l[x.charCodeAt(R+1)]>>4,N[k++]=255&S),C===1&&(S=l[x.charCodeAt(R)]<<10|l[x.charCodeAt(R+1)]<<4|l[x.charCodeAt(R+2)]>>2,N[k++]=S>>8&255,N[k++]=255&S),N},i.fromByteArray=function(x){for(var S,R=x.length,T=R%3,D=[],C=16383,N=0,k=R-T;N<k;N+=C)D.push(_(x,N,N+C>k?k:N+C));return T===1?(S=x[R-1],D.push(u[S>>2]+u[S<<4&63]+"==")):T===2&&(S=(x[R-2]<<8)+x[R-1],D.push(u[S>>10]+u[S>>4&63]+u[S<<2&63]+"=")),D.join("")};for(var u=[],l=[],c=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,v=g.length;p<v;++p)u[p]=g[p],l[g.charCodeAt(p)]=p;function y(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=A.indexOf("=");return S===-1&&(S=x),[S,S===x?0:4-S%4]}function _(A,x,S){for(var R,T,D=[],C=x;C<S;C+=3)R=(A[C]<<16&16711680)+(A[C+1]<<8&65280)+(255&A[C+2]),D.push(u[(T=R)>>18&63]+u[T>>12&63]+u[T>>6&63]+u[63&T]);return D.join("")}l[45]=62,l[95]=63},function(n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(o,u,l,c,g){var p,v,y=8*g-c-1,_=(1<<y)-1,A=_>>1,x=-7,S=l?g-1:0,R=l?-1:1,T=o[u+S];for(S+=R,p=T&(1<<-x)-1,T>>=-x,x+=y;x>0;p=256*p+o[u+S],S+=R,x-=8);for(v=p&(1<<-x)-1,p>>=-x,x+=c;x>0;v=256*v+o[u+S],S+=R,x-=8);if(p===0)p=1-A;else{if(p===_)return v?NaN:1/0*(T?-1:1);v+=Math.pow(2,c),p-=A}return(T?-1:1)*v*Math.pow(2,p-c)},i.write=function(o,u,l,c,g,p){var v,y,_,A=8*p-g-1,x=(1<<A)-1,S=x>>1,R=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=c?0:p-1,D=c?1:-1,C=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(y=isNaN(u)?1:0,v=x):(v=Math.floor(Math.log(u)/Math.LN2),u*(_=Math.pow(2,-v))<1&&(v--,_*=2),(u+=v+S>=1?R/_:R*Math.pow(2,1-S))*_>=2&&(v++,_/=2),v+S>=x?(y=0,v=x):v+S>=1?(y=(u*_-1)*Math.pow(2,g),v+=S):(y=u*Math.pow(2,S-1)*Math.pow(2,g),v=0));g>=8;o[l+T]=255&y,T+=D,y/=256,g-=8);for(v=v<<g|y,A+=g;A>0;o[l+T]=255&v,T+=D,v/=256,A-=8);o[l+T-D]|=128*C}},function(n,i){var o={}.toString;n.exports=Array.isArray||function(u){return o.call(u)=="[object Array]"}},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){var g=c.jws,p=c.KeyUtil,v=c.X509,y=c.crypto,_=c.hextob64u,A=c.b64tohex,x=c.AllowedSigningAlgs;return function(){function S(){(function(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")})(this,S)}return S.parseJwt=function(T){u.Log.debug("JoseUtil.parseJwt");try{var D=g.JWS.parse(T);return{header:D.headerObj,payload:D.payloadObj}}catch(C){u.Log.error(C)}},S.validateJwt=function(T,D,C,N,k,L,j){u.Log.debug("JoseUtil.validateJwt");try{if(D.kty==="RSA")if(D.e&&D.n)D=p.getKey(D);else{if(!D.x5c||!D.x5c.length)return u.Log.error("JoseUtil.validateJwt: RSA key missing key material",D),Promise.reject(new Error("RSA key missing key material"));var X=A(D.x5c[0]);D=v.getPublicKeyFromCertHex(X)}else{if(D.kty!=="EC")return u.Log.error("JoseUtil.validateJwt: Unsupported key type",D&&D.kty),Promise.reject(new Error(D.kty));if(!(D.crv&&D.x&&D.y))return u.Log.error("JoseUtil.validateJwt: EC key missing key material",D),Promise.reject(new Error("EC key missing key material"));D=p.getKey(D)}return S._validateJwt(T,D,C,N,k,L,j)}catch(re){return u.Log.error(re&&re.message||re),Promise.reject("JWT validation failed")}},S.validateJwtAttributes=function(T,D,C,N,k,L){N||(N=0),k||(k=parseInt(Date.now()/1e3));var j=S.parseJwt(T).payload;if(!j.iss)return u.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(j.iss!==D)return u.Log.error("JoseUtil._validateJwt: Invalid issuer in token",j.iss),Promise.reject(new Error("Invalid issuer in token: "+j.iss));if(!j.aud)return u.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(j.aud===C||Array.isArray(j.aud)&&j.aud.indexOf(C)>=0))return u.Log.error("JoseUtil._validateJwt: Invalid audience in token",j.aud),Promise.reject(new Error("Invalid audience in token: "+j.aud));if(j.azp&&j.azp!==C)return u.Log.error("JoseUtil._validateJwt: Invalid azp in token",j.azp),Promise.reject(new Error("Invalid azp in token: "+j.azp));if(!L){var X=k+N,re=k-N;if(!j.iat)return u.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(X<j.iat)return u.Log.error("JoseUtil._validateJwt: iat is in the future",j.iat),Promise.reject(new Error("iat is in the future: "+j.iat));if(j.nbf&&X<j.nbf)return u.Log.error("JoseUtil._validateJwt: nbf is in the future",j.nbf),Promise.reject(new Error("nbf is in the future: "+j.nbf));if(!j.exp)return u.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(j.exp<re)return u.Log.error("JoseUtil._validateJwt: exp is in the past",j.exp),Promise.reject(new Error("exp is in the past:"+j.exp))}return Promise.resolve(j)},S._validateJwt=function(T,D,C,N,k,L,j){return S.validateJwtAttributes(T,C,N,k,L,j).then(function(X){try{return g.JWS.verify(T,D,x)?X:(u.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(re){return u.Log.error(re&&re.message||re),Promise.reject(new Error("signature validation failed"))}})},S.hashString=function(T,D){try{return y.Util.hashString(T,D)}catch(C){u.Log.error(C)}},S.hexToBase64Url=function(T){try{return _(T)}catch(D){u.Log.error(D)}},S}()};var u=o(0);n.exports=i.default},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninResponse=void 0;var u=function(){function g(p,v){for(var y=0;y<v.length;y++){var _=v[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,v,y){return v&&g(p.prototype,v),y&&g(p,y),p}}(),l=o(3);function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}i.SigninResponse=function(){function g(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";c(this,g);var y=l.UrlUtility.parseUrlFragment(p,v);this.error=y.error,this.error_description=y.error_description,this.error_uri=y.error_uri,this.code=y.code,this.state=y.state,this.id_token=y.id_token,this.session_state=y.session_state,this.access_token=y.access_token,this.token_type=y.token_type,this.scope=y.scope,this.profile=void 0,this.expires_in=y.expires_in}return u(g,[{key:"expires_in",get:function(){if(this.expires_at){var v=parseInt(Date.now()/1e3);return this.expires_at-v}},set:function(v){var y=parseInt(v);if(typeof y=="number"&&y>0){var _=parseInt(Date.now()/1e3);this.expires_at=_+y}}},{key:"expired",get:function(){var v=this.expires_in;if(v!==void 0)return v<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),g}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SignoutRequest=void 0;var u=o(0),l=o(3),c=o(9);i.SignoutRequest=function g(p){var v=p.url,y=p.id_token_hint,_=p.post_logout_redirect_uri,A=p.data,x=p.extraQueryParams,S=p.request_type;if(function(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),!v)throw u.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var R in y&&(v=l.UrlUtility.addQueryParam(v,"id_token_hint",y)),_&&(v=l.UrlUtility.addQueryParam(v,"post_logout_redirect_uri",_),A&&(this.state=new c.State({data:A,request_type:S}),v=l.UrlUtility.addQueryParam(v,"state",this.state.id))),x)v=l.UrlUtility.addQueryParam(v,R,x[R]);this.url=v}},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SignoutResponse=void 0;var u=o(3);i.SignoutResponse=function l(c){(function(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")})(this,l);var g=u.UrlUtility.parseUrlFragment(c,"?");this.error=g.error,this.error_description=g.error_description,this.error_uri=g.error_uri,this.state=g.state}},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.InMemoryWebStorage=void 0;var u=function(){function c(g,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,v){return p&&c(g.prototype,p),v&&c(g,v),g}}(),l=o(0);i.InMemoryWebStorage=function(){function c(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c),this._data={}}return c.prototype.getItem=function(p){return l.Log.debug("InMemoryWebStorage.getItem",p),this._data[p]},c.prototype.setItem=function(p,v){l.Log.debug("InMemoryWebStorage.setItem",p),this._data[p]=v},c.prototype.removeItem=function(p){l.Log.debug("InMemoryWebStorage.removeItem",p),delete this._data[p]},c.prototype.key=function(p){return Object.getOwnPropertyNames(this._data)[p]},u(c,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManager=void 0;var u=function(){function C(N,k){for(var L=0;L<k.length;L++){var j=k[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}return function(N,k,L){return k&&C(N.prototype,k),L&&C(N,L),N}}(),l=o(0),c=o(10),g=o(39),p=o(15),v=o(45),y=o(47),_=o(18),A=o(8),x=o(20),S=o(11),R=o(4);function T(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function D(C,N){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||typeof N!="object"&&typeof N!="function"?C:N}i.UserManager=function(C){function N(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.SilentRenewService,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.SessionMonitor,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x.TokenRevocationClient,re=arguments.length>4&&arguments[4]!==void 0?arguments[4]:S.TokenClient,B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:R.JoseUtil;T(this,N),k instanceof g.UserManagerSettings||(k=new g.UserManagerSettings(k));var Y=D(this,C.call(this,k));return Y._events=new v.UserManagerEvents(k),Y._silentRenewService=new L(Y),Y.settings.automaticSilentRenew&&(l.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Y.startSilentRenew()),Y.settings.monitorSession&&(l.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Y._sessionMonitor=new j(Y)),Y._tokenRevocationClient=new X(Y._settings),Y._tokenClient=new re(Y._settings),Y._joseUtil=B,Y}return function(L,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}(N,C),N.prototype.getUser=function(){var L=this;return this._loadUser().then(function(j){return j?(l.Log.info("UserManager.getUser: user loaded"),L._events.load(j,!1),j):(l.Log.info("UserManager.getUser: user not found in storage"),null)})},N.prototype.removeUser=function(){var L=this;return this.storeUser(null).then(function(){l.Log.info("UserManager.removeUser: user removed from storage"),L._events.unload()})},N.prototype.signinRedirect=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(L=Object.assign({},L)).request_type="si:r";var j={useReplaceToNavigate:L.useReplaceToNavigate};return this._signinStart(L,this._redirectNavigator,j).then(function(){l.Log.info("UserManager.signinRedirect: successful")})},N.prototype.signinRedirectCallback=function(L){return this._signinEnd(L||this._redirectNavigator.url).then(function(j){return j.profile&&j.profile.sub?l.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",j.profile.sub):l.Log.info("UserManager.signinRedirectCallback: no sub"),j})},N.prototype.signinPopup=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(L=Object.assign({},L)).request_type="si:p";var j=L.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return j?(L.redirect_uri=j,L.display="popup",this._signin(L,this._popupNavigator,{startUrl:j,popupWindowFeatures:L.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:L.popupWindowTarget||this.settings.popupWindowTarget}).then(function(X){return X&&(X.profile&&X.profile.sub?l.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",X.profile.sub):l.Log.info("UserManager.signinPopup: no sub")),X})):(l.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},N.prototype.signinPopupCallback=function(L){return this._signinCallback(L,this._popupNavigator).then(function(j){return j&&(j.profile&&j.profile.sub?l.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",j.profile.sub):l.Log.info("UserManager.signinPopupCallback: no sub")),j}).catch(function(j){l.Log.error(j.message)})},N.prototype.signinSilent=function(){var L=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j=Object.assign({},j),this._loadUser().then(function(X){return X&&X.refresh_token?(j.refresh_token=X.refresh_token,L._useRefreshToken(j)):(j.request_type="si:s",j.id_token_hint=j.id_token_hint||L.settings.includeIdTokenInSilentRenew&&X&&X.id_token,X&&L._settings.validateSubOnSilentRenew&&(l.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",X.profile.sub),j.current_sub=X.profile.sub),L._signinSilentIframe(j))})},N.prototype._useRefreshToken=function(){var L=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(j).then(function(X){return X?X.access_token?L._loadUser().then(function(re){if(re){var B=Promise.resolve();return X.id_token&&(B=L._validateIdTokenFromTokenRefreshToken(re.profile,X.id_token)),B.then(function(){return l.Log.debug("UserManager._useRefreshToken: refresh token response success"),re.id_token=X.id_token||re.id_token,re.access_token=X.access_token,re.refresh_token=X.refresh_token||re.refresh_token,re.expires_in=X.expires_in,L.storeUser(re).then(function(){return L._events.load(re),re})})}return null}):(l.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(l.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},N.prototype._validateIdTokenFromTokenRefreshToken=function(L,j){var X=this;return this._metadataService.getIssuer().then(function(re){return X.settings.getEpochTime().then(function(B){return X._joseUtil.validateJwtAttributes(j,re,X._settings.client_id,X._settings.clockSkew,B).then(function(Y){return Y?Y.sub!==L.sub?(l.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Y.auth_time&&Y.auth_time!==L.auth_time?(l.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Y.azp&&Y.azp!==L.azp?(l.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Y.azp&&L.azp?(l.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(l.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},N.prototype._signinSilentIframe=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=L.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return j?(L.redirect_uri=j,L.prompt=L.prompt||"none",this._signin(L,this._iframeNavigator,{startUrl:j,silentRequestTimeout:L.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(X){return X&&(X.profile&&X.profile.sub?l.Log.info("UserManager.signinSilent: successful, signed in sub: ",X.profile.sub):l.Log.info("UserManager.signinSilent: no sub")),X})):(l.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},N.prototype.signinSilentCallback=function(L){return this._signinCallback(L,this._iframeNavigator).then(function(j){return j&&(j.profile&&j.profile.sub?l.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",j.profile.sub):l.Log.info("UserManager.signinSilentCallback: no sub")),j})},N.prototype.signinCallback=function(L){var j=this;return this.readSigninResponseState(L).then(function(X){var re=X.state;return X.response,re.request_type==="si:r"?j.signinRedirectCallback(L):re.request_type==="si:p"?j.signinPopupCallback(L):re.request_type==="si:s"?j.signinSilentCallback(L):Promise.reject(new Error("invalid response_type in state"))})},N.prototype.signoutCallback=function(L,j){var X=this;return this.readSignoutResponseState(L).then(function(re){var B=re.state,Y=re.response;return B?B.request_type==="so:r"?X.signoutRedirectCallback(L):B.request_type==="so:p"?X.signoutPopupCallback(L,j):Promise.reject(new Error("invalid response_type in state")):Y})},N.prototype.querySessionStatus=function(){var L=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(j=Object.assign({},j)).request_type="si:s";var X=j.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return X?(j.redirect_uri=X,j.prompt="none",j.response_type=j.response_type||this.settings.query_status_response_type,j.scope=j.scope||"openid",j.skipUserInfo=!0,this._signinStart(j,this._iframeNavigator,{startUrl:X,silentRequestTimeout:j.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(re){return L.processSigninResponse(re.url).then(function(B){if(l.Log.debug("UserManager.querySessionStatus: got signin response"),B.session_state&&B.profile.sub)return l.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",B.profile.sub),{session_state:B.session_state,sub:B.profile.sub,sid:B.profile.sid};l.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(B){if(B.session_state&&L.settings.monitorAnonymousSession&&(B.message=="login_required"||B.message=="consent_required"||B.message=="interaction_required"||B.message=="account_selection_required"))return l.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:B.session_state};throw B})})):(l.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},N.prototype._signin=function(L,j){var X=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(L,j,re).then(function(B){return X._signinEnd(B.url,L)})},N.prototype._signinStart=function(L,j){var X=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j.prepare(re).then(function(B){return l.Log.debug("UserManager._signinStart: got navigator window handle"),X.createSigninRequest(L).then(function(Y){return l.Log.debug("UserManager._signinStart: got signin request"),re.url=Y.url,re.id=Y.state.id,B.navigate(re)}).catch(function(Y){throw B.close&&(l.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),B.close()),Y})})},N.prototype._signinEnd=function(L){var j=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(L).then(function(re){l.Log.debug("UserManager._signinEnd: got signin response");var B=new p.User(re);if(X.current_sub){if(X.current_sub!==B.profile.sub)return l.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",B.profile.sub),Promise.reject(new Error("login_required"));l.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return j.storeUser(B).then(function(){return l.Log.debug("UserManager._signinEnd: user stored"),j._events.load(B),B})})},N.prototype._signinCallback=function(L,j){l.Log.debug("UserManager._signinCallback");var X=this._settings.response_mode==="query"||!this._settings.response_mode&&A.SigninRequest.isCode(this._settings.response_type)?"?":"#";return j.callback(L,void 0,X)},N.prototype.signoutRedirect=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(L=Object.assign({},L)).request_type="so:r";var j=L.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;j&&(L.post_logout_redirect_uri=j);var X={useReplaceToNavigate:L.useReplaceToNavigate};return this._signoutStart(L,this._redirectNavigator,X).then(function(){l.Log.info("UserManager.signoutRedirect: successful")})},N.prototype.signoutRedirectCallback=function(L){return this._signoutEnd(L||this._redirectNavigator.url).then(function(j){return l.Log.info("UserManager.signoutRedirectCallback: successful"),j})},N.prototype.signoutPopup=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(L=Object.assign({},L)).request_type="so:p";var j=L.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return L.post_logout_redirect_uri=j,L.display="popup",L.post_logout_redirect_uri&&(L.state=L.state||{}),this._signout(L,this._popupNavigator,{startUrl:j,popupWindowFeatures:L.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:L.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){l.Log.info("UserManager.signoutPopup: successful")})},N.prototype.signoutPopupCallback=function(L,j){return j===void 0&&typeof L=="boolean"&&(j=L,L=null),this._popupNavigator.callback(L,j,"?").then(function(){l.Log.info("UserManager.signoutPopupCallback: successful")})},N.prototype._signout=function(L,j){var X=this,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(L,j,re).then(function(B){return X._signoutEnd(B.url)})},N.prototype._signoutStart=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=this,X=arguments[1],re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return X.prepare(re).then(function(B){return l.Log.debug("UserManager._signoutStart: got navigator window handle"),j._loadUser().then(function(Y){return l.Log.debug("UserManager._signoutStart: loaded current user from storage"),(j._settings.revokeAccessTokenOnSignout?j._revokeInternal(Y):Promise.resolve()).then(function(){var me=L.id_token_hint||Y&&Y.id_token;return me&&(l.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),L.id_token_hint=me),j.removeUser().then(function(){return l.Log.debug("UserManager._signoutStart: user removed, creating signout request"),j.createSignoutRequest(L).then(function(ne){return l.Log.debug("UserManager._signoutStart: got signout request"),re.url=ne.url,ne.state&&(re.id=ne.state.id),B.navigate(re)})})})}).catch(function(Y){throw B.close&&(l.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),B.close()),Y})})},N.prototype._signoutEnd=function(L){return this.processSignoutResponse(L).then(function(j){return l.Log.debug("UserManager._signoutEnd: got signout response"),j})},N.prototype.revokeAccessToken=function(){var L=this;return this._loadUser().then(function(j){return L._revokeInternal(j,!0).then(function(X){if(X)return l.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),j.access_token=null,j.refresh_token=null,j.expires_at=null,j.token_type=null,L.storeUser(j).then(function(){l.Log.debug("UserManager.revokeAccessToken: user stored"),L._events.load(j)})})}).then(function(){l.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},N.prototype._revokeInternal=function(L,j){var X=this;if(L){var re=L.access_token,B=L.refresh_token;return this._revokeAccessTokenInternal(re,j).then(function(Y){return X._revokeRefreshTokenInternal(B,j).then(function(me){return Y||me||l.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Y||me})})}return Promise.resolve(!1)},N.prototype._revokeAccessTokenInternal=function(L,j){return!L||L.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(L,j).then(function(){return!0})},N.prototype._revokeRefreshTokenInternal=function(L,j){return L?this._tokenRevocationClient.revoke(L,j,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},N.prototype.startSilentRenew=function(){this._silentRenewService.start()},N.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},N.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(L){return L?(l.Log.debug("UserManager._loadUser: user storageString loaded"),p.User.fromStorageString(L)):(l.Log.debug("UserManager._loadUser: no user storageString"),null)})},N.prototype.storeUser=function(L){if(L){l.Log.debug("UserManager.storeUser: storing user");var j=L.toStorageString();return this._userStore.set(this._userStoreKey,j)}return l.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},u(N,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),N}(c.OidcClient)},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManagerSettings=void 0;var u=function(){function S(R,T){for(var D=0;D<T.length;D++){var C=T[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(R,C.key,C)}}return function(R,T,D){return T&&S(R.prototype,T),D&&S(R,D),R}}(),l=(o(0),o(5)),c=o(40),g=o(41),p=o(43),v=o(6),y=o(1),_=o(8);function A(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function x(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?S:R}i.UserManagerSettings=function(S){function R(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=T.popup_redirect_uri,C=T.popup_post_logout_redirect_uri,N=T.popupWindowFeatures,k=T.popupWindowTarget,L=T.silent_redirect_uri,j=T.silentRequestTimeout,X=T.automaticSilentRenew,re=X!==void 0&&X,B=T.validateSubOnSilentRenew,Y=B!==void 0&&B,me=T.includeIdTokenInSilentRenew,ne=me===void 0||me,ke=T.monitorSession,Ve=ke===void 0||ke,ge=T.monitorAnonymousSession,Oe=ge!==void 0&&ge,we=T.checkSessionInterval,Be=we===void 0?2e3:we,q=T.stopCheckSessionOnError,le=q===void 0||q,Ae=T.query_status_response_type,be=T.revokeAccessTokenOnSignout,We=be!==void 0&&be,Xe=T.accessTokenExpiringNotificationTime,rt=Xe===void 0?60:Xe,st=T.redirectNavigator,Ce=st===void 0?new c.RedirectNavigator:st,He=T.popupNavigator,Qe=He===void 0?new g.PopupNavigator:He,ie=T.iframeNavigator,U=ie===void 0?new p.IFrameNavigator:ie,O=T.userStore,z=O===void 0?new v.WebStorageStateStore({store:y.Global.sessionStorage}):O;A(this,R);var $=x(this,S.call(this,arguments[0]));return $._popup_redirect_uri=D,$._popup_post_logout_redirect_uri=C,$._popupWindowFeatures=N,$._popupWindowTarget=k,$._silent_redirect_uri=L,$._silentRequestTimeout=j,$._automaticSilentRenew=re,$._validateSubOnSilentRenew=Y,$._includeIdTokenInSilentRenew=ne,$._accessTokenExpiringNotificationTime=rt,$._monitorSession=Ve,$._monitorAnonymousSession=Oe,$._checkSessionInterval=Be,$._stopCheckSessionOnError=le,Ae?$._query_status_response_type=Ae:arguments[0]&&arguments[0].response_type?$._query_status_response_type=_.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":$._query_status_response_type="id_token",$._revokeAccessTokenOnSignout=We,$._redirectNavigator=Ce,$._popupNavigator=Qe,$._iframeNavigator=U,$._userStore=z,$}return function(D,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);D.prototype=Object.create(C&&C.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(D,C):D.__proto__=C)}(R,S),u(R,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),R}(l.OidcClientSettings)},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.RedirectNavigator=void 0;var u=function(){function c(g,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,v){return p&&c(g.prototype,p),v&&c(g,v),g}}(),l=o(0);i.RedirectNavigator=function(){function c(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.prototype.prepare=function(){return Promise.resolve(this)},c.prototype.navigate=function(p){return p&&p.url?(p.useReplaceToNavigate?window.location.replace(p.url):window.location=p.url,Promise.resolve()):(l.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},u(c,[{key:"url",get:function(){return window.location.href}}]),c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.PopupNavigator=void 0;var u=o(0),l=o(42);i.PopupNavigator=function(){function c(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.prototype.prepare=function(p){var v=new l.PopupWindow(p);return Promise.resolve(v)},c.prototype.callback=function(p,v,y){u.Log.debug("PopupNavigator.callback");try{return l.PopupWindow.notifyOpener(p,v,y),Promise.resolve()}catch(_){return Promise.reject(_)}},c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.PopupWindow=void 0;var u=function(){function g(p,v){for(var y=0;y<v.length;y++){var _=v[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,v,y){return v&&g(p.prototype,v),y&&g(p,y),p}}(),l=o(0),c=o(3);i.PopupWindow=function(){function g(p){var v=this;(function(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")})(this,g),this._promise=new Promise(function(A,x){v._resolve=A,v._reject=x});var y=p.popupWindowTarget||"_blank",_=p.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",y,_),this._popup&&(l.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return g.prototype.navigate=function(v){return this._popup?v&&v.url?(l.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=v.id,this._id&&(window["popupCallback_"+v.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=v.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},g.prototype._success=function(v){l.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(v)},g.prototype._error=function(v){l.Log.error("PopupWindow.error: ",v),this._cleanup(),this._reject(new Error(v))},g.prototype.close=function(){this._cleanup(!1)},g.prototype._cleanup=function(v){l.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!v&&this._popup.close(),this._popup=null},g.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},g.prototype._callback=function(v,y){this._cleanup(y),v?(l.Log.debug("PopupWindow.callback success"),this._success({url:v})):(l.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},g.notifyOpener=function(v,y,_){if(window.opener){if(v=v||window.location.href){var A=c.UrlUtility.parseUrlFragment(v,_);if(A.state){var x="popupCallback_"+A.state,S=window.opener[x];S?(l.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),S(v,y)):l.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else l.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else l.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},u(g,[{key:"promise",get:function(){return this._promise}}]),g}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.IFrameNavigator=void 0;var u=o(0),l=o(44);i.IFrameNavigator=function(){function c(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.prototype.prepare=function(p){var v=new l.IFrameWindow(p);return Promise.resolve(v)},c.prototype.callback=function(p){u.Log.debug("IFrameNavigator.callback");try{return l.IFrameWindow.notifyParent(p),Promise.resolve()}catch(v){return Promise.reject(v)}},c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.IFrameWindow=void 0;var u=function(){function c(g,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,v){return p&&c(g.prototype,p),v&&c(g,v),g}}(),l=o(0);i.IFrameWindow=function(){function c(g){var p=this;(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,c),this._promise=new Promise(function(v,y){p._resolve=v,p._reject=y}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return c.prototype.navigate=function(p){if(p&&p.url){var v=p.silentRequestTimeout||1e4;l.Log.debug("IFrameWindow.navigate: Using timeout of:",v),this._timer=window.setTimeout(this._timeout.bind(this),v),this._frame.src=p.url}else this._error("No url provided");return this.promise},c.prototype._success=function(p){this._cleanup(),l.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(p)},c.prototype._error=function(p){this._cleanup(),l.Log.error(p),this._reject(new Error(p))},c.prototype.close=function(){this._cleanup()},c.prototype._cleanup=function(){this._frame&&(l.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},c.prototype._timeout=function(){l.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},c.prototype._message=function(p){if(l.Log.debug("IFrameWindow.message"),this._timer&&p.origin===this._origin&&p.source===this._frame.contentWindow&&typeof p.data=="string"&&(p.data.startsWith("http://")||p.data.startsWith("https://"))){var v=p.data;v?this._success({url:v}):this._error("Invalid response from frame")}},c.notifyParent=function(p){l.Log.debug("IFrameWindow.notifyParent"),(p=p||window.location.href)&&(l.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(p,location.protocol+"//"+location.host))},u(c,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),c}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManagerEvents=void 0;var u=o(0),l=o(16),c=o(17);i.UserManagerEvents=function(g){function p(v){(function(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")})(this,p);var y=function(A,x){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?A:x}(this,g.call(this,v));return y._userLoaded=new c.Event("User loaded"),y._userUnloaded=new c.Event("User unloaded"),y._silentRenewError=new c.Event("Silent renew error"),y._userSignedIn=new c.Event("User signed in"),y._userSignedOut=new c.Event("User signed out"),y._userSessionChanged=new c.Event("User session changed"),y}return function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}(p,g),p.prototype.load=function(y){var _=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];u.Log.debug("UserManagerEvents.load"),g.prototype.load.call(this,y),_&&this._userLoaded.raise(y)},p.prototype.unload=function(){u.Log.debug("UserManagerEvents.unload"),g.prototype.unload.call(this),this._userUnloaded.raise()},p.prototype.addUserLoaded=function(y){this._userLoaded.addHandler(y)},p.prototype.removeUserLoaded=function(y){this._userLoaded.removeHandler(y)},p.prototype.addUserUnloaded=function(y){this._userUnloaded.addHandler(y)},p.prototype.removeUserUnloaded=function(y){this._userUnloaded.removeHandler(y)},p.prototype.addSilentRenewError=function(y){this._silentRenewError.addHandler(y)},p.prototype.removeSilentRenewError=function(y){this._silentRenewError.removeHandler(y)},p.prototype._raiseSilentRenewError=function(y){u.Log.debug("UserManagerEvents._raiseSilentRenewError",y.message),this._silentRenewError.raise(y)},p.prototype.addUserSignedIn=function(y){this._userSignedIn.addHandler(y)},p.prototype.removeUserSignedIn=function(y){this._userSignedIn.removeHandler(y)},p.prototype._raiseUserSignedIn=function(){u.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},p.prototype.addUserSignedOut=function(y){this._userSignedOut.addHandler(y)},p.prototype.removeUserSignedOut=function(y){this._userSignedOut.removeHandler(y)},p.prototype._raiseUserSignedOut=function(){u.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},p.prototype.addUserSessionChanged=function(y){this._userSessionChanged.addHandler(y)},p.prototype.removeUserSessionChanged=function(y){this._userSessionChanged.removeHandler(y)},p.prototype._raiseUserSessionChanged=function(){u.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},p}(l.AccessTokenEvents)},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.Timer=void 0;var u=function(){function y(_,A){for(var x=0;x<A.length;x++){var S=A[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,A,x){return A&&y(_.prototype,A),x&&y(_,x),_}}(),l=o(0),c=o(1),g=o(17);function p(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function v(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?y:_}i.Timer=function(y){function _(A){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.Global.timer,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;p(this,_);var R=v(this,y.call(this,A));return R._timer=x,R._nowFunc=S||function(){return Date.now()/1e3},R}return function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(x,S):x.__proto__=S)}(_,y),_.prototype.init=function(x){x<=0&&(x=1),x=parseInt(x);var S=this.now+x;if(this.expiration===S&&this._timerHandle)l.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),l.Log.debug("Timer.init timer "+this._name+" for duration:",x),this._expiration=S;var R=5;x<R&&(R=x),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*R)}},_.prototype.cancel=function(){this._timerHandle&&(l.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},_.prototype._callback=function(){var x=this._expiration-this.now;l.Log.debug("Timer.callback; "+this._name+" timer expires in:",x),this._expiration<=this.now&&(this.cancel(),y.prototype.raise.call(this))},u(_,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),_}(g.Event)},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SilentRenewService=void 0;var u=o(0);i.SilentRenewService=function(){function l(c){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,l),this._userManager=c}return l.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(g){}).catch(function(g){u.Log.error("SilentRenewService.start: Error from getUser:",g.message)}))},l.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},l.prototype._tokenExpiring=function(){var g=this;this._userManager.signinSilent().then(function(p){u.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(p){u.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",p.message),g._userManager.events._raiseSilentRenewError(p)})},l}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaPopupNavigator=void 0;var u=o(21);i.CordovaPopupNavigator=function(){function l(){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l)}return l.prototype.prepare=function(g){var p=new u.CordovaPopupWindow(g);return Promise.resolve(p)},l}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaIFrameNavigator=void 0;var u=o(21);i.CordovaIFrameNavigator=function(){function l(){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l)}return l.prototype.prepare=function(g){g.popupWindowFeatures="hidden=yes";var p=new u.CordovaPopupWindow(g);return Promise.resolve(p)},l}()},function(n,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.Version="1.11.6"}])})}(Fc)),Fc.exports}var nm=KO();function zO(r,e){var n;throw r.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=e.redirectUrl)==null?void 0:n.toString()}] is invalid - ${r.error_description??""}`):r.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${r.error_description??""}`):new Error(`Dynamic client registration failed: ${r.error} - ${r.error_description??""}`)}function VO(r){return typeof r.client_id=="string"}function $O(r){return Array.isArray(r.redirect_uris)&&r.redirect_uris.every(e=>typeof e=="string")}function WO(r,e){if(!VO(r))throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(r)}`);if(e.redirectUrl&&$O(r)&&r.redirect_uris[0]!==e.redirectUrl.toString())throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(r.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`);return!0}async function GO(r,e){var l;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const n=xO(e.idTokenSigningAlgValuesSupported,zc),i={client_name:r.clientName,application_type:"web",redirect_uris:[(l=r.redirectUrl)==null?void 0:l.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:n,grant_types:["authorization_code","refresh_token"]},o={"Content-Type":"application/json"},u=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:o,body:JSON.stringify(i)});if(u.ok){const c=await u.json();return WO(c,r),{clientId:c.client_id,clientSecret:c.client_secret,expiresAt:c.client_secret_expires_at,idTokenSignedResponseAlg:c.id_token_signed_response_alg,clientType:"dynamic"}}throw u.status===400&&zO(await u.json(),r),new Error(`Dynamic client registration failed: the server returned ${u.status} ${u.statusText} - ${await u.text()}`)}function YO(r){return r.error!==void 0&&typeof r.error=="string"}function n1(r){return r.error_description!==void 0&&typeof r.error_description=="string"}function JO(r){return r.error_uri!==void 0&&typeof r.error_uri=="string"}function XO(r){return r.access_token!==void 0&&typeof r.access_token=="string"}function QO(r){return r.id_token!==void 0&&typeof r.id_token=="string"}function ZO(r){return r.refresh_token!==void 0&&typeof r.refresh_token=="string"}function eN(r){return r.token_type!==void 0&&typeof r.token_type=="string"}function tN(r){return r.expires_in===void 0||typeof r.expires_in=="number"}function rN(r,e){if(e.grantType&&(!r.grantTypesSupported||!r.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${r.issuer}] does not support the [${e.grantType}] grant`);if(!r.tokenEndpoint)throw new Error(`This issuer [${r.issuer}] does not have a token endpoint`)}function sT(r,e){if(YO(r))throw new aT(`Token endpoint returned error [${r.error}]${n1(r)?`: ${r.error_description}`:""}${JO(r)?` (see ${r.error_uri})`:""}`,r.error,n1(r)?r.error_description:void 0);if(!XO(r))throw new wu(["access_token"]);if(!QO(r))throw new wu(["id_token"]);if(!eN(r))throw new wu(["token_type"]);if(!tN(r))throw new wu(["expires_in"]);if(!e&&r.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${r.token_type}].`);return r}async function nN(r,e,n,i){rN(r,n);const o={"content-type":"application/x-www-form-urlencoded"};let u;i&&(u=await IO(),o.DPoP=await xm(r.tokenEndpoint,"POST",u)),e.clientSecret&&(o.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const l={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:e.clientId},c={method:"POST",headers:o,body:new URLSearchParams(l).toString()},p=await(await fetch(r.tokenEndpoint,c)).json(),v=sT(p,i),{webId:y,clientId:_}=await QA(v.id_token,r.jwksUri,r.issuer,e.clientId);return{accessToken:v.access_token,idToken:v.id_token,refreshToken:ZO(v)?v.refresh_token:void 0,webId:y,clientId:_,dpopKey:u,expiresIn:v.expires_in}}const iN=r=>{try{return new URL(r),!0}catch{return!1}};async function aN(r,e,n,i){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const o={grant_type:"refresh_token",refresh_token:r,scope:XA};let u={};i!==void 0&&(u={DPoP:await xm(e.tokenEndpoint,"POST",i)});let l={};n.clientSecret!==void 0?l={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:iN(n.clientId)&&(o.client_id=n.clientId);const c=await fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(o).toString(),headers:{...u,...l,"Content-Type":"application/x-www-form-urlencoded"}});let g;try{g=await c.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const p=sT(g,i!==void 0),{webId:v}=await QA(p.id_token,e.jwksUri,e.issuer,n.clientId);return{accessToken:p.access_token,idToken:p.id_token,refreshToken:typeof p.refresh_token=="string"?p.refresh_token:void 0,webId:v,dpopKey:i,expiresIn:p.expires_in}}function oN(r){const e=eT(r);return e.hash="",r.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function sN(){await new nm.OidcClient({response_mode:"query"}).clearStaleState(new nm.WebStorageStateStore({}));const e=window.localStorage,n=[];for(let i=0;i<=e.length;i+=1){const o=e.key(i);o&&(o.match(/^oidc\..+$/)||o.match(/^solidClientAuthenticationUser:.+$/))&&n.push(o)}n.forEach(i=>e.removeItem(i))}class uN extends OO{constructor(e,n){super(e,n)}}class lN extends CO{constructor(){super(...arguments);mt(this,"login",async(n,i)=>{n.prompt!=="none"&&await this.sessionInfoManager.clear(n.sessionId);const o=n.redirectUrl??oN(window.location.href);if(!ZA(o))throw new Error(`${o} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...n,redirectUrl:o,clientName:n.clientName??n.clientId,eventEmitter:i})});mt(this,"validateCurrentSession",async n=>{const i=await this.sessionInfoManager.get(n);return i===void 0||i.clientAppId===void 0||i.issuer===void 0?null:i});mt(this,"handleIncomingRedirect",async(n,i)=>{try{const o=await this.redirectHandler.handle(n,i,void 0);return this.fetch=o.fetch.bind(window),this.boundLogout=o.getLogoutUrl,await this.cleanUrlAfterRedirect(n),{isLoggedIn:o.isLoggedIn,webId:o.webId,sessionId:o.sessionId,expirationDate:o.expirationDate,clientAppId:o.clientAppId}}catch(o){await this.cleanUrlAfterRedirect(n),i.emit(Ir.ERROR,"redirect",o);return}})}async cleanUrlAfterRedirect(n){const i=eT(n).href;for(window.history.replaceState(null,"",i);window.location.href!==i;)await new Promise(o=>{setTimeout(()=>o(),1)})}}function i1(r){return typeof r.oidcIssuer=="string"}function a1(r){return typeof r.redirectUrl=="string"}class cN{constructor(e,n,i,o){mt(this,"storageUtility");mt(this,"oidcHandler");mt(this,"issuerConfigFetcher");mt(this,"clientRegistrar");this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=i,this.clientRegistrar=o,this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=i,this.clientRegistrar=o}async canHandle(e){return i1(e)&&a1(e)}async handle(e){if(!i1(e))throw new rm(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!a1(e))throw new rm(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const n=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),i=await DO(e,n,this.storageUtility,this.clientRegistrar),o={issuer:n.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:n,client:i};return this.oidcHandler.handle(o)}}class fN extends vO{async handle(e){const n={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:XA,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:e.prompt??"consent"},i=new nm.OidcClient(n);try{const o=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:o.state._id,codeVerifier:o.state._code_verifier,targetUrl:o.url.toString()})}catch(o){console.error(o)}}}const dN=".well-known/openid-configuration",o1={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function hN(r){const e={};return Object.keys(r).forEach(n=>{o1[n]&&(e[o1[n].toKey]=r[n])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class Am{constructor(e){mt(this,"storageUtility");this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let n;const i=new URL(dN,e.endsWith("/")?e:`${e}/`).href,o=await fetch(i);try{n=hN(await o.json())}catch(u){throw new rm(`[${e.toString()}] has an invalid configuration: ${u.message}`)}return await this.storageUtility.set(Am.getLocalStorageKey(e),JSON.stringify(n)),n}}async function pN(r,e){await rT(r,e),await sN()}class gN extends _O{async get(e){const[n,i,o,u,l,c,g,p]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof l=="string"&&!ZA(l)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(p!==void 0&&!EO(p))throw new Error(`Tokens of type [${p}] are not supported.`);if(!(o===void 0&&n===void 0&&i===void 0&&c===void 0))return{sessionId:e,webId:i,isLoggedIn:n==="true",redirectUrl:l,refreshToken:c,issuer:g,clientAppId:o,clientAppSecret:u,tokenType:p??"DPoP"}}async clear(e){return pN(e,this.storageUtility)}}class vN{async canHandle(e){try{return new URL(e),!0}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e){return tT()}}class yN{constructor(e,n,i,o,u){mt(this,"storageUtility");mt(this,"sessionInfoManager");mt(this,"issuerConfigFetcher");mt(this,"clientRegistrar");mt(this,"tokerRefresher");this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=i,this.clientRegistrar=o,this.tokerRefresher=u,this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=i,this.clientRegistrar=o,this.tokerRefresher=u}async canHandle(e){try{const n=new URL(e);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const i=new URL(e),o=i.searchParams.get("state"),u=await this.storageUtility.getForUser(o,"sessionId",{errorIfNull:!0}),{issuerConfig:l,codeVerifier:c,redirectUrl:g,dpop:p}=await iT(u,this.storageUtility,this.issuerConfigFetcher),v=i.searchParams.get("iss");if(typeof v=="string"&&v!==l.issuer)throw new Error(`The value of the iss parameter (${v}) does not match the issuer identifier of the authorization server (${l.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(c===void 0)throw new Error(`The code verifier for session ${u} is missing from storage.`);if(g===void 0)throw new Error(`The redirect URL for session ${u} is missing from storage.`);const y=await this.clientRegistrar.getClient({sessionId:u},l),_=Date.now(),A=await nN(l,y,{grantType:"authorization_code",code:i.searchParams.get("code"),codeVerifier:c,redirectUrl:g},p);window.localStorage.removeItem(`oidc.${o}`);let x;A.refreshToken!==void 0&&(x={sessionId:u,refreshToken:A.refreshToken,tokenRefresher:this.tokerRefresher});const S=BO(A.accessToken,{dpopKey:A.dpopKey,refreshOptions:x,eventEmitter:n,expiresIn:A.expiresIn});await FO(this.storageUtility,u,A.webId,A.clientId,"true",void 0,!0);const R=await this.sessionInfoManager.get(u);if(!R)throw new Error(`Could not retrieve session: [${u}].`);return Object.assign(R,{fetch:S,getLogoutUrl:SO({idTokenHint:A.idToken,endSessionEndpoint:l.endSessionEndpoint}),expirationDate:typeof A.expiresIn=="number"?_+A.expiresIn*1e3:void 0})}}class mN extends pO{constructor(e){super(e)}}class bN{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,n){this.storage.setItem(e,n)}async delete(e){this.storage.removeItem(e)}}class _N{redirect(e,n){n&&n.handleRedirect?n.handleRedirect(e):n&&n.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class wN{constructor(e){mt(this,"storageUtility");this.storageUtility=e,this.storageUtility=e}async getClient(e,n){const[i,o,u,l,c]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"expiresAt",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]),g=u!==void 0?Number.parseInt(u,10):-1,p=o!==void 0&&Math.floor(Date.now()/1e3)>g;if(i&&RO(c)&&!p)return o!==void 0?{clientId:i,clientSecret:o,clientName:l,clientType:"dynamic",expiresAt:g}:{clientId:i,clientName:l,clientType:c};try{const v=await GO(e,n),y={clientId:v.clientId,clientType:"dynamic"};return v.clientSecret!==void 0&&(y.clientSecret=v.clientSecret,y.expiresAt=String(v.expiresAt)),v.idTokenSignedResponseAlg&&(y.idTokenSignedResponseAlg=v.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,y,{secure:!1}),v}catch(v){throw new Error("Client registration failed.",{cause:v})}}}class SN{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(n!==void 0){const i=new URL(e),o=i.searchParams.get("error"),u=i.searchParams.get("error_description");n.emit(Ir.ERROR,o,u)}return tT()}}class EN{constructor(e,n,i){mt(this,"storageUtility");mt(this,"issuerConfigFetcher");mt(this,"clientRegistrar");this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=i,this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=i}async refresh(e,n,i,o){const u=await iT(e,this.storageUtility,this.issuerConfigFetcher),l=await this.clientRegistrar.getClient({sessionId:e},u.issuerConfig);if(n===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(u.dpop&&i===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const c=await aN(n,u.issuerConfig,l,i);return c.refreshToken!==void 0&&(o==null||o.emit(Ir.NEW_REFRESH_TOKEN,c.refreshToken)),c}}function s1(r){const e=new NO,n=r.secureStorage||e,i=r.insecureStorage||new bN,o=new uN(n,i),u=new Am(o),l=new wN(o),c=new gN(o),g=new EN(o,u,l),p=new _N,v=new cN(o,new fN(o,p),u,l),y=new mN([new SN,new yN(o,c,u,l,g),new vN]);return new lN(v,y,new bO(c,p),c,u)}const Lh=`${JA}currentSession`,im=`${JA}currentUrl`;async function xN(r,e,n){const i=await e.validateCurrentSession(r);return i!==null?(window.localStorage.setItem(im,window.location.href),await e.login({sessionId:r,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:i.tokenType??"DPoP"},n.events),!0):!1}function AN(r){return!!(r!=null&&r.isLoggedIn)}class TN{constructor(e={},n=void 0){mt(this,"info");mt(this,"events");mt(this,"clientAuthentication");mt(this,"tokenRequestInProgress",!1);mt(this,"login",async e=>(await this.clientAuthentication.login({sessionId:this.info.sessionId,...e,tokenType:e.tokenType??"DPoP"},this.events),new Promise(()=>{})));mt(this,"fetch",(e,n)=>this.clientAuthentication.fetch(e,n));mt(this,"internalLogout",async(e,n)=>{window.localStorage.removeItem(Lh),await this.clientAuthentication.logout(this.info.sessionId,n),this.info.isLoggedIn=!1,e&&this.events.emit(Ir.LOGOUT)});mt(this,"logout",async e=>this.internalLogout(!0,e));mt(this,"handleIncomingRedirect",async(e={})=>{if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const n=typeof e=="string"?{url:e}:e,i=n.url??window.location.href;this.tokenRequestInProgress=!0;const o=await this.clientAuthentication.handleIncomingRedirect(i,this.events);if(AN(o)){this.setSessionInfo(o);const u=window.localStorage.getItem(im);u===null?this.events.emit(Ir.LOGIN):(window.localStorage.removeItem(im),this.events.emit(Ir.SESSION_RESTORED,u))}else if(n.restorePreviousSession===!0){const u=window.localStorage.getItem(Lh);if(u!==null&&await xN(u,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,o});this.events=new qO,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=s1({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=s1({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:n??tf(),isLoggedIn:!1},this.events.on(Ir.LOGIN,()=>window.localStorage.setItem(Lh,this.info.sessionId)),this.events.on(Ir.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(Ir.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(Ir.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}const fu=new TN;function RN({onLogin:r}){const[e,n]=dt.useState(!1);dt.useEffect(()=>{fu.handleIncomingRedirect().then(()=>{fu.info.isLoggedIn&&(n(!0),r(fu))})},[]);const i=()=>{fu.login({oidcIssuer:"https://login.inrupt.com",redirectUrl:window.location.href,clientName:"Solid Calendar App"})},o=()=>{fu.logout(),n(!1),window.location.reload()};return pr.jsx("button",{onClick:e?o:i,children:e?"Logout":"Login"})}var Bh={},du={},u1;function DN(){if(u1)return du;u1=1,du.byteLength=c,du.toByteArray=p,du.fromByteArray=_;for(var r=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=i.length;o<u;++o)r[o]=i[o],e[i.charCodeAt(o)]=o;e[45]=62,e[95]=63;function l(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=A.indexOf("=");S===-1&&(S=x);var R=S===x?0:4-S%4;return[S,R]}function c(A){var x=l(A),S=x[0],R=x[1];return(S+R)*3/4-R}function g(A,x,S){return(x+S)*3/4-S}function p(A){var x,S=l(A),R=S[0],T=S[1],D=new n(g(A,R,T)),C=0,N=T>0?R-4:R,k;for(k=0;k<N;k+=4)x=e[A.charCodeAt(k)]<<18|e[A.charCodeAt(k+1)]<<12|e[A.charCodeAt(k+2)]<<6|e[A.charCodeAt(k+3)],D[C++]=x>>16&255,D[C++]=x>>8&255,D[C++]=x&255;return T===2&&(x=e[A.charCodeAt(k)]<<2|e[A.charCodeAt(k+1)]>>4,D[C++]=x&255),T===1&&(x=e[A.charCodeAt(k)]<<10|e[A.charCodeAt(k+1)]<<4|e[A.charCodeAt(k+2)]>>2,D[C++]=x>>8&255,D[C++]=x&255),D}function v(A){return r[A>>18&63]+r[A>>12&63]+r[A>>6&63]+r[A&63]}function y(A,x,S){for(var R,T=[],D=x;D<S;D+=3)R=(A[D]<<16&16711680)+(A[D+1]<<8&65280)+(A[D+2]&255),T.push(v(R));return T.join("")}function _(A){for(var x,S=A.length,R=S%3,T=[],D=16383,C=0,N=S-R;C<N;C+=D)T.push(y(A,C,C+D>N?N:C+D));return R===1?(x=A[S-1],T.push(r[x>>2]+r[x<<4&63]+"==")):R===2&&(x=(A[S-2]<<8)+A[S-1],T.push(r[x>>10]+r[x>>4&63]+r[x<<2&63]+"=")),T.join("")}return du}var vc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var l1;function CN(){return l1||(l1=1,vc.read=function(r,e,n,i,o){var u,l,c=o*8-i-1,g=(1<<c)-1,p=g>>1,v=-7,y=n?o-1:0,_=n?-1:1,A=r[e+y];for(y+=_,u=A&(1<<-v)-1,A>>=-v,v+=c;v>0;u=u*256+r[e+y],y+=_,v-=8);for(l=u&(1<<-v)-1,u>>=-v,v+=i;v>0;l=l*256+r[e+y],y+=_,v-=8);if(u===0)u=1-p;else{if(u===g)return l?NaN:(A?-1:1)*(1/0);l=l+Math.pow(2,i),u=u-p}return(A?-1:1)*l*Math.pow(2,u-i)},vc.write=function(r,e,n,i,o,u){var l,c,g,p=u*8-o-1,v=(1<<p)-1,y=v>>1,_=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:u-1,x=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=v):(l=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-l))<1&&(l--,g*=2),l+y>=1?e+=_/g:e+=_*Math.pow(2,1-y),e*g>=2&&(l++,g/=2),l+y>=v?(c=0,l=v):l+y>=1?(c=(e*g-1)*Math.pow(2,o),l=l+y):(c=e*Math.pow(2,y-1)*Math.pow(2,o),l=0));o>=8;r[n+A]=c&255,A+=x,c/=256,o-=8);for(l=l<<o|c,p+=o;p>0;r[n+A]=l&255,A+=x,l/=256,p-=8);r[n+A-x]|=S*128}),vc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var c1;function zi(){return c1||(c1=1,function(r){const e=DN(),n=CN(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=D,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=u(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const V=new Uint8Array(1),M={foo:function(){return 42}};return Object.setPrototypeOf(M,Uint8Array.prototype),Object.setPrototypeOf(V,M),V.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(V){if(V>o)throw new RangeError('The value "'+V+'" is invalid for option "size"');const M=new Uint8Array(V);return Object.setPrototypeOf(M,c.prototype),M}function c(V,M,P){if(typeof V=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(V)}return g(V,M,P)}c.poolSize=8192;function g(V,M,P){if(typeof V=="string")return _(V,M);if(ArrayBuffer.isView(V))return x(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(qe(V,ArrayBuffer)||V&&qe(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(V,SharedArrayBuffer)||V&&qe(V.buffer,SharedArrayBuffer)))return S(V,M,P);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=V.valueOf&&V.valueOf();if(I!=null&&I!==V)return c.from(I,M,P);const Ee=R(V);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return c.from(V[Symbol.toPrimitive]("string"),M,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}c.from=function(V,M,P){return g(V,M,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function p(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function v(V,M,P){return p(V),V<=0?l(V):M!==void 0?typeof P=="string"?l(V).fill(M,P):l(V).fill(M):l(V)}c.alloc=function(V,M,P){return v(V,M,P)};function y(V){return p(V),l(V<0?0:T(V)|0)}c.allocUnsafe=function(V){return y(V)},c.allocUnsafeSlow=function(V){return y(V)};function _(V,M){if((typeof M!="string"||M==="")&&(M="utf8"),!c.isEncoding(M))throw new TypeError("Unknown encoding: "+M);const P=C(V,M)|0;let I=l(P);const Ee=I.write(V,M);return Ee!==P&&(I=I.slice(0,Ee)),I}function A(V){const M=V.length<0?0:T(V.length)|0,P=l(M);for(let I=0;I<M;I+=1)P[I]=V[I]&255;return P}function x(V){if(qe(V,Uint8Array)){const M=new Uint8Array(V);return S(M.buffer,M.byteOffset,M.byteLength)}return A(V)}function S(V,M,P){if(M<0||V.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<M+(P||0))throw new RangeError('"length" is outside of buffer bounds');let I;return M===void 0&&P===void 0?I=new Uint8Array(V):P===void 0?I=new Uint8Array(V,M):I=new Uint8Array(V,M,P),Object.setPrototypeOf(I,c.prototype),I}function R(V){if(c.isBuffer(V)){const M=T(V.length)|0,P=l(M);return P.length===0||V.copy(P,0,0,M),P}if(V.length!==void 0)return typeof V.length!="number"||at(V.length)?l(0):A(V);if(V.type==="Buffer"&&Array.isArray(V.data))return A(V.data)}function T(V){if(V>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return V|0}function D(V){return+V!=V&&(V=0),c.alloc(+V)}c.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==c.prototype},c.compare=function(M,P){if(qe(M,Uint8Array)&&(M=c.from(M,M.offset,M.byteLength)),qe(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(M)||!c.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===P)return 0;let I=M.length,Ee=P.length;for(let Fe=0,Se=Math.min(I,Ee);Fe<Se;++Fe)if(M[Fe]!==P[Fe]){I=M[Fe],Ee=P[Fe];break}return I<Ee?-1:Ee<I?1:0},c.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(M,P){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return c.alloc(0);let I;if(P===void 0)for(P=0,I=0;I<M.length;++I)P+=M[I].length;const Ee=c.allocUnsafe(P);let Fe=0;for(I=0;I<M.length;++I){let Se=M[I];if(qe(Se,Uint8Array))Fe+Se.length>Ee.length?(c.isBuffer(Se)||(Se=c.from(Se)),Se.copy(Ee,Fe)):Uint8Array.prototype.set.call(Ee,Se,Fe);else if(c.isBuffer(Se))Se.copy(Ee,Fe);else throw new TypeError('"list" argument must be an Array of Buffers');Fe+=Se.length}return Ee};function C(V,M){if(c.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||qe(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const P=V.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&P===0)return 0;let Ee=!1;for(;;)switch(M){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return ue(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return Le(V).length;default:if(Ee)return I?-1:ue(V).length;M=(""+M).toLowerCase(),Ee=!0}}c.byteLength=C;function N(V,M,P){let I=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,M>>>=0,P<=M))return"";for(V||(V="utf8");;)switch(V){case"hex":return Be(this,M,P);case"utf8":case"utf-8":return ke(this,M,P);case"ascii":return Oe(this,M,P);case"latin1":case"binary":return we(this,M,P);case"base64":return ne(this,M,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,M,P);default:if(I)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),I=!0}}c.prototype._isBuffer=!0;function k(V,M,P){const I=V[M];V[M]=V[P],V[P]=I}c.prototype.swap16=function(){const M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<M;P+=2)k(this,P,P+1);return this},c.prototype.swap32=function(){const M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<M;P+=4)k(this,P,P+3),k(this,P+1,P+2);return this},c.prototype.swap64=function(){const M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<M;P+=8)k(this,P,P+7),k(this,P+1,P+6),k(this,P+2,P+5),k(this,P+3,P+4);return this},c.prototype.toString=function(){const M=this.length;return M===0?"":arguments.length===0?ke(this,0,M):N.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(M){if(!c.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:c.compare(this,M)===0},c.prototype.inspect=function(){let M="";const P=r.INSPECT_MAX_BYTES;return M=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(M+=" ... "),"<Buffer "+M+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(M,P,I,Ee,Fe){if(qe(M,Uint8Array)&&(M=c.from(M,M.offset,M.byteLength)),!c.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(P===void 0&&(P=0),I===void 0&&(I=M?M.length:0),Ee===void 0&&(Ee=0),Fe===void 0&&(Fe=this.length),P<0||I>M.length||Ee<0||Fe>this.length)throw new RangeError("out of range index");if(Ee>=Fe&&P>=I)return 0;if(Ee>=Fe)return-1;if(P>=I)return 1;if(P>>>=0,I>>>=0,Ee>>>=0,Fe>>>=0,this===M)return 0;let Se=Fe-Ee,vt=I-P;const Nt=Math.min(Se,vt),Ot=this.slice(Ee,Fe),At=M.slice(P,I);for(let Dt=0;Dt<Nt;++Dt)if(Ot[Dt]!==At[Dt]){Se=Ot[Dt],vt=At[Dt];break}return Se<vt?-1:vt<Se?1:0};function L(V,M,P,I,Ee){if(V.length===0)return-1;if(typeof P=="string"?(I=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,at(P)&&(P=Ee?0:V.length-1),P<0&&(P=V.length+P),P>=V.length){if(Ee)return-1;P=V.length-1}else if(P<0)if(Ee)P=0;else return-1;if(typeof M=="string"&&(M=c.from(M,I)),c.isBuffer(M))return M.length===0?-1:j(V,M,P,I,Ee);if(typeof M=="number")return M=M&255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(V,M,P):Uint8Array.prototype.lastIndexOf.call(V,M,P):j(V,[M],P,I,Ee);throw new TypeError("val must be string, number or Buffer")}function j(V,M,P,I,Ee){let Fe=1,Se=V.length,vt=M.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(V.length<2||M.length<2)return-1;Fe=2,Se/=2,vt/=2,P/=2}function Nt(At,Dt){return Fe===1?At[Dt]:At.readUInt16BE(Dt*Fe)}let Ot;if(Ee){let At=-1;for(Ot=P;Ot<Se;Ot++)if(Nt(V,Ot)===Nt(M,At===-1?0:Ot-At)){if(At===-1&&(At=Ot),Ot-At+1===vt)return At*Fe}else At!==-1&&(Ot-=Ot-At),At=-1}else for(P+vt>Se&&(P=Se-vt),Ot=P;Ot>=0;Ot--){let At=!0;for(let Dt=0;Dt<vt;Dt++)if(Nt(V,Ot+Dt)!==Nt(M,Dt)){At=!1;break}if(At)return Ot}return-1}c.prototype.includes=function(M,P,I){return this.indexOf(M,P,I)!==-1},c.prototype.indexOf=function(M,P,I){return L(this,M,P,I,!0)},c.prototype.lastIndexOf=function(M,P,I){return L(this,M,P,I,!1)};function X(V,M,P,I){P=Number(P)||0;const Ee=V.length-P;I?(I=Number(I),I>Ee&&(I=Ee)):I=Ee;const Fe=M.length;I>Fe/2&&(I=Fe/2);let Se;for(Se=0;Se<I;++Se){const vt=parseInt(M.substr(Se*2,2),16);if(at(vt))return Se;V[P+Se]=vt}return Se}function re(V,M,P,I){return Ge(ue(M,V.length-P),V,P,I)}function B(V,M,P,I){return Ge(Pe(M),V,P,I)}function Y(V,M,P,I){return Ge(Le(M),V,P,I)}function me(V,M,P,I){return Ge(he(M,V.length-P),V,P,I)}c.prototype.write=function(M,P,I,Ee){if(P===void 0)Ee="utf8",I=this.length,P=0;else if(I===void 0&&typeof P=="string")Ee=P,I=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(I)?(I=I>>>0,Ee===void 0&&(Ee="utf8")):(Ee=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Fe=this.length-P;if((I===void 0||I>Fe)&&(I=Fe),M.length>0&&(I<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Se=!1;for(;;)switch(Ee){case"hex":return X(this,M,P,I);case"utf8":case"utf-8":return re(this,M,P,I);case"ascii":case"latin1":case"binary":return B(this,M,P,I);case"base64":return Y(this,M,P,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,M,P,I);default:if(Se)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Se=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(V,M,P){return M===0&&P===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(M,P))}function ke(V,M,P){P=Math.min(V.length,P);const I=[];let Ee=M;for(;Ee<P;){const Fe=V[Ee];let Se=null,vt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(Ee+vt<=P){let Nt,Ot,At,Dt;switch(vt){case 1:Fe<128&&(Se=Fe);break;case 2:Nt=V[Ee+1],(Nt&192)===128&&(Dt=(Fe&31)<<6|Nt&63,Dt>127&&(Se=Dt));break;case 3:Nt=V[Ee+1],Ot=V[Ee+2],(Nt&192)===128&&(Ot&192)===128&&(Dt=(Fe&15)<<12|(Nt&63)<<6|Ot&63,Dt>2047&&(Dt<55296||Dt>57343)&&(Se=Dt));break;case 4:Nt=V[Ee+1],Ot=V[Ee+2],At=V[Ee+3],(Nt&192)===128&&(Ot&192)===128&&(At&192)===128&&(Dt=(Fe&15)<<18|(Nt&63)<<12|(Ot&63)<<6|At&63,Dt>65535&&Dt<1114112&&(Se=Dt))}}Se===null?(Se=65533,vt=1):Se>65535&&(Se-=65536,I.push(Se>>>10&1023|55296),Se=56320|Se&1023),I.push(Se),Ee+=vt}return ge(I)}const Ve=4096;function ge(V){const M=V.length;if(M<=Ve)return String.fromCharCode.apply(String,V);let P="",I=0;for(;I<M;)P+=String.fromCharCode.apply(String,V.slice(I,I+=Ve));return P}function Oe(V,M,P){let I="";P=Math.min(V.length,P);for(let Ee=M;Ee<P;++Ee)I+=String.fromCharCode(V[Ee]&127);return I}function we(V,M,P){let I="";P=Math.min(V.length,P);for(let Ee=M;Ee<P;++Ee)I+=String.fromCharCode(V[Ee]);return I}function Be(V,M,P){const I=V.length;(!M||M<0)&&(M=0),(!P||P<0||P>I)&&(P=I);let Ee="";for(let Fe=M;Fe<P;++Fe)Ee+=St[V[Fe]];return Ee}function q(V,M,P){const I=V.slice(M,P);let Ee="";for(let Fe=0;Fe<I.length-1;Fe+=2)Ee+=String.fromCharCode(I[Fe]+I[Fe+1]*256);return Ee}c.prototype.slice=function(M,P){const I=this.length;M=~~M,P=P===void 0?I:~~P,M<0?(M+=I,M<0&&(M=0)):M>I&&(M=I),P<0?(P+=I,P<0&&(P=0)):P>I&&(P=I),P<M&&(P=M);const Ee=this.subarray(M,P);return Object.setPrototypeOf(Ee,c.prototype),Ee};function le(V,M,P){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+M>P)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(M,P,I){M=M>>>0,P=P>>>0,I||le(M,P,this.length);let Ee=this[M],Fe=1,Se=0;for(;++Se<P&&(Fe*=256);)Ee+=this[M+Se]*Fe;return Ee},c.prototype.readUintBE=c.prototype.readUIntBE=function(M,P,I){M=M>>>0,P=P>>>0,I||le(M,P,this.length);let Ee=this[M+--P],Fe=1;for(;P>0&&(Fe*=256);)Ee+=this[M+--P]*Fe;return Ee},c.prototype.readUint8=c.prototype.readUInt8=function(M,P){return M=M>>>0,P||le(M,1,this.length),this[M]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(M,P){return M=M>>>0,P||le(M,2,this.length),this[M]|this[M+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(M,P){return M=M>>>0,P||le(M,2,this.length),this[M]<<8|this[M+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(M,P){return M=M>>>0,P||le(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(M,P){return M=M>>>0,P||le(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},c.prototype.readBigUInt64LE=it(function(M){M=M>>>0,O(M,"offset");const P=this[M],I=this[M+7];(P===void 0||I===void 0)&&z(M,this.length-8);const Ee=P+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24,Fe=this[++M]+this[++M]*2**8+this[++M]*2**16+I*2**24;return BigInt(Ee)+(BigInt(Fe)<<BigInt(32))}),c.prototype.readBigUInt64BE=it(function(M){M=M>>>0,O(M,"offset");const P=this[M],I=this[M+7];(P===void 0||I===void 0)&&z(M,this.length-8);const Ee=P*2**24+this[++M]*2**16+this[++M]*2**8+this[++M],Fe=this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+I;return(BigInt(Ee)<<BigInt(32))+BigInt(Fe)}),c.prototype.readIntLE=function(M,P,I){M=M>>>0,P=P>>>0,I||le(M,P,this.length);let Ee=this[M],Fe=1,Se=0;for(;++Se<P&&(Fe*=256);)Ee+=this[M+Se]*Fe;return Fe*=128,Ee>=Fe&&(Ee-=Math.pow(2,8*P)),Ee},c.prototype.readIntBE=function(M,P,I){M=M>>>0,P=P>>>0,I||le(M,P,this.length);let Ee=P,Fe=1,Se=this[M+--Ee];for(;Ee>0&&(Fe*=256);)Se+=this[M+--Ee]*Fe;return Fe*=128,Se>=Fe&&(Se-=Math.pow(2,8*P)),Se},c.prototype.readInt8=function(M,P){return M=M>>>0,P||le(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},c.prototype.readInt16LE=function(M,P){M=M>>>0,P||le(M,2,this.length);const I=this[M]|this[M+1]<<8;return I&32768?I|4294901760:I},c.prototype.readInt16BE=function(M,P){M=M>>>0,P||le(M,2,this.length);const I=this[M+1]|this[M]<<8;return I&32768?I|4294901760:I},c.prototype.readInt32LE=function(M,P){return M=M>>>0,P||le(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},c.prototype.readInt32BE=function(M,P){return M=M>>>0,P||le(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},c.prototype.readBigInt64LE=it(function(M){M=M>>>0,O(M,"offset");const P=this[M],I=this[M+7];(P===void 0||I===void 0)&&z(M,this.length-8);const Ee=this[M+4]+this[M+5]*2**8+this[M+6]*2**16+(I<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(P+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24)}),c.prototype.readBigInt64BE=it(function(M){M=M>>>0,O(M,"offset");const P=this[M],I=this[M+7];(P===void 0||I===void 0)&&z(M,this.length-8);const Ee=(P<<24)+this[++M]*2**16+this[++M]*2**8+this[++M];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+I)}),c.prototype.readFloatLE=function(M,P){return M=M>>>0,P||le(M,4,this.length),n.read(this,M,!0,23,4)},c.prototype.readFloatBE=function(M,P){return M=M>>>0,P||le(M,4,this.length),n.read(this,M,!1,23,4)},c.prototype.readDoubleLE=function(M,P){return M=M>>>0,P||le(M,8,this.length),n.read(this,M,!0,52,8)},c.prototype.readDoubleBE=function(M,P){return M=M>>>0,P||le(M,8,this.length),n.read(this,M,!1,52,8)};function Ae(V,M,P,I,Ee,Fe){if(!c.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>Ee||M<Fe)throw new RangeError('"value" argument is out of bounds');if(P+I>V.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(M,P,I,Ee){if(M=+M,P=P>>>0,I=I>>>0,!Ee){const vt=Math.pow(2,8*I)-1;Ae(this,M,P,I,vt,0)}let Fe=1,Se=0;for(this[P]=M&255;++Se<I&&(Fe*=256);)this[P+Se]=M/Fe&255;return P+I},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(M,P,I,Ee){if(M=+M,P=P>>>0,I=I>>>0,!Ee){const vt=Math.pow(2,8*I)-1;Ae(this,M,P,I,vt,0)}let Fe=I-1,Se=1;for(this[P+Fe]=M&255;--Fe>=0&&(Se*=256);)this[P+Fe]=M/Se&255;return P+I},c.prototype.writeUint8=c.prototype.writeUInt8=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,1,255,0),this[P]=M&255,P+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,2,65535,0),this[P]=M&255,this[P+1]=M>>>8,P+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,2,65535,0),this[P]=M>>>8,this[P+1]=M&255,P+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,4,4294967295,0),this[P+3]=M>>>24,this[P+2]=M>>>16,this[P+1]=M>>>8,this[P]=M&255,P+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,4,4294967295,0),this[P]=M>>>24,this[P+1]=M>>>16,this[P+2]=M>>>8,this[P+3]=M&255,P+4};function be(V,M,P,I,Ee){U(M,I,Ee,V,P,7);let Fe=Number(M&BigInt(4294967295));V[P++]=Fe,Fe=Fe>>8,V[P++]=Fe,Fe=Fe>>8,V[P++]=Fe,Fe=Fe>>8,V[P++]=Fe;let Se=Number(M>>BigInt(32)&BigInt(4294967295));return V[P++]=Se,Se=Se>>8,V[P++]=Se,Se=Se>>8,V[P++]=Se,Se=Se>>8,V[P++]=Se,P}function We(V,M,P,I,Ee){U(M,I,Ee,V,P,7);let Fe=Number(M&BigInt(4294967295));V[P+7]=Fe,Fe=Fe>>8,V[P+6]=Fe,Fe=Fe>>8,V[P+5]=Fe,Fe=Fe>>8,V[P+4]=Fe;let Se=Number(M>>BigInt(32)&BigInt(4294967295));return V[P+3]=Se,Se=Se>>8,V[P+2]=Se,Se=Se>>8,V[P+1]=Se,Se=Se>>8,V[P]=Se,P+8}c.prototype.writeBigUInt64LE=it(function(M,P=0){return be(this,M,P,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=it(function(M,P=0){return We(this,M,P,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(M,P,I,Ee){if(M=+M,P=P>>>0,!Ee){const Nt=Math.pow(2,8*I-1);Ae(this,M,P,I,Nt-1,-Nt)}let Fe=0,Se=1,vt=0;for(this[P]=M&255;++Fe<I&&(Se*=256);)M<0&&vt===0&&this[P+Fe-1]!==0&&(vt=1),this[P+Fe]=(M/Se>>0)-vt&255;return P+I},c.prototype.writeIntBE=function(M,P,I,Ee){if(M=+M,P=P>>>0,!Ee){const Nt=Math.pow(2,8*I-1);Ae(this,M,P,I,Nt-1,-Nt)}let Fe=I-1,Se=1,vt=0;for(this[P+Fe]=M&255;--Fe>=0&&(Se*=256);)M<0&&vt===0&&this[P+Fe+1]!==0&&(vt=1),this[P+Fe]=(M/Se>>0)-vt&255;return P+I},c.prototype.writeInt8=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,1,127,-128),M<0&&(M=255+M+1),this[P]=M&255,P+1},c.prototype.writeInt16LE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,2,32767,-32768),this[P]=M&255,this[P+1]=M>>>8,P+2},c.prototype.writeInt16BE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,2,32767,-32768),this[P]=M>>>8,this[P+1]=M&255,P+2},c.prototype.writeInt32LE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,4,2147483647,-2147483648),this[P]=M&255,this[P+1]=M>>>8,this[P+2]=M>>>16,this[P+3]=M>>>24,P+4},c.prototype.writeInt32BE=function(M,P,I){return M=+M,P=P>>>0,I||Ae(this,M,P,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[P]=M>>>24,this[P+1]=M>>>16,this[P+2]=M>>>8,this[P+3]=M&255,P+4},c.prototype.writeBigInt64LE=it(function(M,P=0){return be(this,M,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=it(function(M,P=0){return We(this,M,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Xe(V,M,P,I,Ee,Fe){if(P+I>V.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function rt(V,M,P,I,Ee){return M=+M,P=P>>>0,Ee||Xe(V,M,P,4),n.write(V,M,P,I,23,4),P+4}c.prototype.writeFloatLE=function(M,P,I){return rt(this,M,P,!0,I)},c.prototype.writeFloatBE=function(M,P,I){return rt(this,M,P,!1,I)};function st(V,M,P,I,Ee){return M=+M,P=P>>>0,Ee||Xe(V,M,P,8),n.write(V,M,P,I,52,8),P+8}c.prototype.writeDoubleLE=function(M,P,I){return st(this,M,P,!0,I)},c.prototype.writeDoubleBE=function(M,P,I){return st(this,M,P,!1,I)},c.prototype.copy=function(M,P,I,Ee){if(!c.isBuffer(M))throw new TypeError("argument should be a Buffer");if(I||(I=0),!Ee&&Ee!==0&&(Ee=this.length),P>=M.length&&(P=M.length),P||(P=0),Ee>0&&Ee<I&&(Ee=I),Ee===I||M.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),M.length-P<Ee-I&&(Ee=M.length-P+I);const Fe=Ee-I;return this===M&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,I,Ee):Uint8Array.prototype.set.call(M,this.subarray(I,Ee),P),Fe},c.prototype.fill=function(M,P,I,Ee){if(typeof M=="string"){if(typeof P=="string"?(Ee=P,P=0,I=this.length):typeof I=="string"&&(Ee=I,I=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!c.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(M.length===1){const Se=M.charCodeAt(0);(Ee==="utf8"&&Se<128||Ee==="latin1")&&(M=Se)}}else typeof M=="number"?M=M&255:typeof M=="boolean"&&(M=Number(M));if(P<0||this.length<P||this.length<I)throw new RangeError("Out of range index");if(I<=P)return this;P=P>>>0,I=I===void 0?this.length:I>>>0,M||(M=0);let Fe;if(typeof M=="number")for(Fe=P;Fe<I;++Fe)this[Fe]=M;else{const Se=c.isBuffer(M)?M:c.from(M,Ee),vt=Se.length;if(vt===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(Fe=0;Fe<I-P;++Fe)this[Fe+P]=Se[Fe%vt]}return this};const Ce={};function He(V,M,P){Ce[V]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}He("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(V,M){return`The "${V}" argument must be of type number. Received type ${typeof M}`},TypeError),He("ERR_OUT_OF_RANGE",function(V,M,P){let I=`The value of "${V}" is out of range.`,Ee=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Ee=Qe(String(P)):typeof P=="bigint"&&(Ee=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Ee=Qe(Ee)),Ee+="n"),I+=` It must be ${M}. Received ${Ee}`,I},RangeError);function Qe(V){let M="",P=V.length;const I=V[0]==="-"?1:0;for(;P>=I+4;P-=3)M=`_${V.slice(P-3,P)}${M}`;return`${V.slice(0,P)}${M}`}function ie(V,M,P){O(M,"offset"),(V[M]===void 0||V[M+P]===void 0)&&z(M,V.length-(P+1))}function U(V,M,P,I,Ee,Fe){if(V>P||V<M){const Se=typeof M=="bigint"?"n":"";let vt;throw M===0||M===BigInt(0)?vt=`>= 0${Se} and < 2${Se} ** ${(Fe+1)*8}${Se}`:vt=`>= -(2${Se} ** ${(Fe+1)*8-1}${Se}) and < 2 ** ${(Fe+1)*8-1}${Se}`,new Ce.ERR_OUT_OF_RANGE("value",vt,V)}ie(I,Ee,Fe)}function O(V,M){if(typeof V!="number")throw new Ce.ERR_INVALID_ARG_TYPE(M,"number",V)}function z(V,M,P){throw Math.floor(V)!==V?(O(V,P),new Ce.ERR_OUT_OF_RANGE("offset","an integer",V)):M<0?new Ce.ERR_BUFFER_OUT_OF_BOUNDS:new Ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${M}`,V)}const $=/[^+/0-9A-Za-z-_]/g;function fe(V){if(V=V.split("=")[0],V=V.trim().replace($,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function ue(V,M){M=M||1/0;let P;const I=V.length;let Ee=null;const Fe=[];for(let Se=0;Se<I;++Se){if(P=V.charCodeAt(Se),P>55295&&P<57344){if(!Ee){if(P>56319){(M-=3)>-1&&Fe.push(239,191,189);continue}else if(Se+1===I){(M-=3)>-1&&Fe.push(239,191,189);continue}Ee=P;continue}if(P<56320){(M-=3)>-1&&Fe.push(239,191,189),Ee=P;continue}P=(Ee-55296<<10|P-56320)+65536}else Ee&&(M-=3)>-1&&Fe.push(239,191,189);if(Ee=null,P<128){if((M-=1)<0)break;Fe.push(P)}else if(P<2048){if((M-=2)<0)break;Fe.push(P>>6|192,P&63|128)}else if(P<65536){if((M-=3)<0)break;Fe.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((M-=4)<0)break;Fe.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return Fe}function Pe(V){const M=[];for(let P=0;P<V.length;++P)M.push(V.charCodeAt(P)&255);return M}function he(V,M){let P,I,Ee;const Fe=[];for(let Se=0;Se<V.length&&!((M-=2)<0);++Se)P=V.charCodeAt(Se),I=P>>8,Ee=P%256,Fe.push(Ee),Fe.push(I);return Fe}function Le(V){return e.toByteArray(fe(V))}function Ge(V,M,P,I){let Ee;for(Ee=0;Ee<I&&!(Ee+P>=M.length||Ee>=V.length);++Ee)M[Ee+P]=V[Ee];return Ee}function qe(V,M){return V instanceof M||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===M.name}function at(V){return V!==V}const St=function(){const V="0123456789abcdef",M=new Array(256);for(let P=0;P<16;++P){const I=P*16;for(let Ee=0;Ee<16;++Ee)M[I+Ee]=V[P]+V[Ee]}return M}();function it(V){return typeof BigInt>"u"?gt:V}function gt(){throw new Error("BigInt not supported")}}(Bh)),Bh}var jh,f1;function FN(){if(f1)return jh;f1=1;var r=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,o=/[;,"]/,u=/[;,"]|\s/,l=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,c={IDLE:1,URI:2,ATTR:4};function g(x){return x.replace(e,"")}function p(x){return n.test(x)}function v(x,S){for(;p(x[S]);)S++;return S}function y(x){return u.test(x)||!l.test(x)}function _(x,S){return Object.keys(x).length===Object.keys(S).length&&Object.keys(x).every(R=>R in S&&x[R]===S[R])}class A{constructor(S){this.refs=[],S&&this.parse(S)}rel(S){for(var R=[],T=S.toLowerCase(),D=0;D<this.refs.length;D++)typeof this.refs[D].rel=="string"&&this.refs[D].rel.toLowerCase()===T&&R.push(this.refs[D]);return R}get(S,R){S=S.toLowerCase(),R=R.toLowerCase();for(var T=[],D=0;D<this.refs.length;D++)typeof this.refs[D][S]=="string"&&this.refs[D][S].toLowerCase()===R&&T.push(this.refs[D]);return T}set(S){return this.refs.push(S),this}setUnique(S){return this.refs.some(R=>_(R,S))||this.refs.push(S),this}has(S,R){S=S.toLowerCase(),R=R.toLowerCase();for(var T=0;T<this.refs.length;T++)if(typeof this.refs[T][S]=="string"&&this.refs[T][S].toLowerCase()===R)return!0;return!1}parse(S,C){C=C||0,S=C?S.slice(C):S,S=g(S).replace(i,"");for(var T=c.IDLE,D=S.length,C=0,N=null;C<D;)if(T===c.IDLE){if(p(S[C])){C++;continue}else if(S[C]==="<"){N!=null&&(N.rel!=null?this.refs.push(...A.expandRelations(N)):this.refs.push(N));var k=S.indexOf(">",C);if(k===-1)throw new Error("Expected end of URI delimiter at offset "+C);N={uri:S.slice(C+1,k)},C=k,T=c.URI}else throw new Error('Unexpected character "'+S[C]+'" at offset '+C);C++}else if(T===c.URI)if(p(S[C])){C++;continue}else if(S[C]===";")T=c.ATTR,C++;else if(S[C]===",")T=c.IDLE,C++;else throw new Error('Unexpected character "'+S[C]+'" at offset '+C);else if(T===c.ATTR){if(S[C]===";"||p(S[C])){C++;continue}var k=S.indexOf("=",C);k===-1&&(k=S.indexOf(";",C)),k===-1&&(k=S.length);var L=g(S.slice(C,k)).toLowerCase(),j="";if(C=k+1,C=v(S,C),S[C]==='"')for(C++;C<D;){if(S[C]==='"'){C++;break}S[C]==="\\"&&C++,j+=S[C],C++}else{for(var k=C+1;!o.test(S[k])&&k<D;)k++;j=S.slice(C,k),C=k}switch(N[L]&&A.isSingleOccurenceAttr(L)||(L[L.length-1]==="*"?N[L]=A.parseExtendedValue(j):(j=L==="type"?j.toLowerCase():j,N[L]!=null?Array.isArray(N[L])?N[L].push(j):N[L]=[N[L],j]:N[L]=j)),S[C]){case",":T=c.IDLE;break;case";":T=c.ATTR;break}C++}else throw new Error('Unknown parser state "'+T+'"');return N!=null&&(N.rel!=null?this.refs.push(...A.expandRelations(N)):this.refs.push(N)),N=null,this}toString(){for(var S=[],R="",T=null,D=0;D<this.refs.length;D++)T=this.refs[D],R=Object.keys(this.refs[D]).reduce(function(C,N){return N==="uri"?C:C+"; "+A.formatAttribute(N,T[N])},"<"+T.uri+">"),S.push(R);return S.join(", ")}}return A.isCompatibleEncoding=function(x){return r.test(x)},A.parse=function(x,S){return new A().parse(x,S)},A.isSingleOccurenceAttr=function(x){return x==="rel"||x==="type"||x==="media"||x==="title"||x==="title*"},A.isTokenAttr=function(x){return x==="rel"||x==="type"||x==="anchor"},A.escapeQuotes=function(x){return x.replace(/"/g,'\\"')},A.expandRelations=function(x){var S=x.rel.split(" ");return S.map(function(R){var T=Object.assign({},x);return T.rel=R,T})},A.parseExtendedValue=function(x){var S=/([^']+)?(?:'([^']*)')?(.+)/.exec(x);return{language:S[2].toLowerCase(),encoding:A.isCompatibleEncoding(S[1])?null:S[1].toLowerCase(),value:A.isCompatibleEncoding(S[1])?decodeURIComponent(S[3]):S[3]}},A.formatExtendedAttribute=function(x,S){var R=(S.encoding||"utf-8").toUpperCase(),T=S.language||"en",D="";return Buffer.isBuffer(S.value)&&A.isCompatibleEncoding(R)?D=S.value.toString(R):Buffer.isBuffer(S.value)?D=S.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):D=encodeURIComponent(S.value),x+"="+R+"'"+T+"'"+D},A.formatAttribute=function(x,S){return Array.isArray(S)?S.map(R=>A.formatAttribute(x,R)).join("; "):x[x.length-1]==="*"||typeof S!="string"?A.formatExtendedAttribute(x,S):(A.isTokenAttr(x)?S=y(S)?'"'+A.escapeQuotes(S)+'"':A.escapeQuotes(S):y(S)&&(S=encodeURIComponent(S),S=S.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),S='"'+S+'"'),x+"="+S)},jh=A,jh}var qh={exports:{}},Hh={exports:{}},Kh,d1;function fr(){if(d1)return Kh;d1=1;class r extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let i="";for(let o=0;o<n.length;o++)i+=`    ${n[o].stack}
`;super(i),this.name="AggregateError",this.errors=n}}return Kh={AggregateError:r,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,n){return e.includes(n)},ArrayPrototypeIndexOf(e,n){return e.indexOf(n)},ArrayPrototypeJoin(e,n){return e.join(n)},ArrayPrototypeMap(e,n){return e.map(n)},ArrayPrototypePop(e,n){return e.pop(n)},ArrayPrototypePush(e,n){return e.push(n)},ArrayPrototypeSlice(e,n,i){return e.slice(n,i)},Error,FunctionPrototypeCall(e,n,...i){return e.call(n,...i)},FunctionPrototypeSymbolHasInstance(e,n){return Function.prototype[Symbol.hasInstance].call(e,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,n){return Object.defineProperties(e,n)},ObjectDefineProperty(e,n,i){return Object.defineProperty(e,n,i)},ObjectGetOwnPropertyDescriptor(e,n){return Object.getOwnPropertyDescriptor(e,n)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,n){return Object.setPrototypeOf(e,n)},Promise,PromisePrototypeCatch(e,n){return e.catch(n)},PromisePrototypeThen(e,n,i){return e.then(n,i)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,n){return e.test(n)},SafeSet:Set,String,StringPrototypeSlice(e,n,i){return e.slice(n,i)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,n,i){return e.set(n,i)},Boolean,Uint8Array},Kh}var zh={exports:{}},Vh,h1;function uT(){return h1||(h1=1,Vh={format(r,...e){return r.replace(/%([sdifj])/g,function(...[n,i]){const o=e.shift();return i==="f"?o.toFixed(6):i==="j"?JSON.stringify(o):i==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(r){switch(typeof r){case"string":if(r.includes("'"))if(r.includes('"')){if(!r.includes("`")&&!r.includes("${"))return`\`${r}\``}else return`"${r}"`;return`'${r}'`;case"number":return isNaN(r)?"NaN":Object.is(r,-0)?String(r):r;case"bigint":return`${String(r)}n`;case"boolean":case"undefined":return String(r);case"object":return"{}"}}}),Vh}var $h,p1;function en(){if(p1)return $h;p1=1;const{format:r,inspect:e}=uT(),{AggregateError:n}=fr(),i=globalThis.AggregateError||n,o=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",g={};function p(R,T){if(!R)throw new g.ERR_INTERNAL_ASSERTION(T)}function v(R){let T="",D=R.length;const C=R[0]==="-"?1:0;for(;D>=C+4;D-=3)T=`_${R.slice(D-3,D)}${T}`;return`${R.slice(0,D)}${T}`}function y(R,T,D){if(typeof T=="function")return p(T.length<=D.length,`Code: ${R}; The provided arguments length (${D.length}) does not match the required ones (${T.length}).`),T(...D);const C=(T.match(/%[dfijoOs]/g)||[]).length;return p(C===D.length,`Code: ${R}; The provided arguments length (${D.length}) does not match the required ones (${C}).`),D.length===0?T:r(T,...D)}function _(R,T,D){D||(D=Error);class C extends D{constructor(...k){super(y(R,T,k))}toString(){return`${this.name} [${R}]: ${this.message}`}}Object.defineProperties(C.prototype,{name:{value:D.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${R}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),C.prototype.code=R,C.prototype[o]=!0,g[R]=C}function A(R){const T=c+R.name;return Object.defineProperty(R,"name",{value:T}),R}function x(R,T){if(R&&T&&R!==T){if(Array.isArray(T.errors))return T.errors.push(R),T;const D=new i([T,R],T.message);return D.code=T.code,D}return R||T}class S extends Error{constructor(T="The operation was aborted",D=void 0){if(D!==void 0&&typeof D!="object")throw new g.ERR_INVALID_ARG_TYPE("options","Object",D);super(T,D),this.code="ABORT_ERR",this.name="AbortError"}}return _("ERR_ASSERTION","%s",Error),_("ERR_INVALID_ARG_TYPE",(R,T,D)=>{p(typeof R=="string","'name' must be a string"),Array.isArray(T)||(T=[T]);let C="The ";R.endsWith(" argument")?C+=`${R} `:C+=`"${R}" ${R.includes(".")?"property":"argument"} `,C+="must be ";const N=[],k=[],L=[];for(const X of T)p(typeof X=="string","All expected entries have to be of type string"),u.includes(X)?N.push(X.toLowerCase()):l.test(X)?k.push(X):(p(X!=="object",'The value "object" should be written as "Object"'),L.push(X));if(k.length>0){const X=N.indexOf("object");X!==-1&&(N.splice(N,X,1),k.push("Object"))}if(N.length>0){switch(N.length){case 1:C+=`of type ${N[0]}`;break;case 2:C+=`one of type ${N[0]} or ${N[1]}`;break;default:{const X=N.pop();C+=`one of type ${N.join(", ")}, or ${X}`}}(k.length>0||L.length>0)&&(C+=" or ")}if(k.length>0){switch(k.length){case 1:C+=`an instance of ${k[0]}`;break;case 2:C+=`an instance of ${k[0]} or ${k[1]}`;break;default:{const X=k.pop();C+=`an instance of ${k.join(", ")}, or ${X}`}}L.length>0&&(C+=" or ")}switch(L.length){case 0:break;case 1:L[0].toLowerCase()!==L[0]&&(C+="an "),C+=`${L[0]}`;break;case 2:C+=`one of ${L[0]} or ${L[1]}`;break;default:{const X=L.pop();C+=`one of ${L.join(", ")}, or ${X}`}}if(D==null)C+=`. Received ${D}`;else if(typeof D=="function"&&D.name)C+=`. Received function ${D.name}`;else if(typeof D=="object"){var j;if((j=D.constructor)!==null&&j!==void 0&&j.name)C+=`. Received an instance of ${D.constructor.name}`;else{const X=e(D,{depth:-1});C+=`. Received ${X}`}}else{let X=e(D,{colors:!1});X.length>25&&(X=`${X.slice(0,25)}...`),C+=`. Received type ${typeof D} (${X})`}return C},TypeError),_("ERR_INVALID_ARG_VALUE",(R,T,D="is invalid")=>{let C=e(T);return C.length>128&&(C=C.slice(0,128)+"..."),`The ${R.includes(".")?"property":"argument"} '${R}' ${D}. Received ${C}`},TypeError),_("ERR_INVALID_RETURN_VALUE",(R,T,D)=>{var C;const N=D!=null&&(C=D.constructor)!==null&&C!==void 0&&C.name?`instance of ${D.constructor.name}`:`type ${typeof D}`;return`Expected ${R} to be returned from the "${T}" function but got ${N}.`},TypeError),_("ERR_MISSING_ARGS",(...R)=>{p(R.length>0,"At least one arg needs to be specified");let T;const D=R.length;switch(R=(Array.isArray(R)?R:[R]).map(C=>`"${C}"`).join(" or "),D){case 1:T+=`The ${R[0]} argument`;break;case 2:T+=`The ${R[0]} and ${R[1]} arguments`;break;default:{const C=R.pop();T+=`The ${R.join(", ")}, and ${C} arguments`}break}return`${T} must be specified`},TypeError),_("ERR_OUT_OF_RANGE",(R,T,D)=>{p(T,'Missing "range" argument');let C;if(Number.isInteger(D)&&Math.abs(D)>2**32)C=v(String(D));else if(typeof D=="bigint"){C=String(D);const N=BigInt(2)**BigInt(32);(D>N||D<-N)&&(C=v(C)),C+="n"}else C=e(D);return`The value of "${R}" is out of range. It must be ${T}. Received ${C}`},RangeError),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),_("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),_("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),_("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),_("ERR_STREAM_WRITE_AFTER_END","write after end",Error),_("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),$h={AbortError:S,aggregateTwoErrors:A(x),hideStackFrames:A,codes:g},$h}var hu={exports:{}},g1;function Iu(){if(g1)return hu.exports;g1=1;const{AbortController:r,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return hu.exports=r,hu.exports.AbortSignal=e,hu.exports.default=r,hu.exports}var v1;function un(){return v1||(v1=1,function(r){const e=zi(),{format:n,inspect:i}=uT(),{codes:{ERR_INVALID_ARG_TYPE:o}}=en(),{kResistStopPropagation:u,AggregateError:l,SymbolDispose:c}=fr(),g=globalThis.AbortSignal||Iu().AbortSignal,p=globalThis.AbortController||Iu().AbortController,v=Object.getPrototypeOf(async function(){}).constructor,y=globalThis.Blob||e.Blob,_=typeof y<"u"?function(R){return R instanceof y}:function(R){return!1},A=(S,R)=>{if(S!==void 0&&(S===null||typeof S!="object"||!("aborted"in S)))throw new o(R,"AbortSignal",S)},x=(S,R)=>{if(typeof S!="function")throw new o(R,"Function",S)};r.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(S){let R=!1;return function(...T){R||(R=!0,S.apply(this,T))}},createDeferredPromise:function(){let S,R;return{promise:new Promise((D,C)=>{S=D,R=C}),resolve:S,reject:R}},promisify(S){return new Promise((R,T)=>{S((D,...C)=>D?T(D):R(...C))})},debuglog(){return function(){}},format:n,inspect:i,types:{isAsyncFunction(S){return S instanceof v},isArrayBufferView(S){return ArrayBuffer.isView(S)}},isBlob:_,deprecate(S,R){return S},addAbortListener:Yu().addAbortListener||function(R,T){if(R===void 0)throw new o("signal","AbortSignal",R);A(R,"signal"),x(T,"listener");let D;return R.aborted?queueMicrotask(()=>T()):(R.addEventListener("abort",T,{__proto__:null,once:!0,[u]:!0}),D=()=>{R.removeEventListener("abort",T)}),{__proto__:null,[c](){var C;(C=D)===null||C===void 0||C()}}},AbortSignalAny:g.any||function(R){if(R.length===1)return R[0];const T=new p,D=()=>T.abort();return R.forEach(C=>{A(C,"signals"),C.addEventListener("abort",D,{once:!0})}),T.signal.addEventListener("abort",()=>{R.forEach(C=>C.removeEventListener("abort",D))},{once:!0}),T.signal}},r.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(zh)),zh.exports}var yc={},Wh,y1;function Ju(){if(y1)return Wh;y1=1;const{ArrayIsArray:r,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:i,NumberIsInteger:o,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:g,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:v,String:y,StringPrototypeToUpperCase:_,StringPrototypeTrim:A}=fr(),{hideStackFrames:x,codes:{ERR_SOCKET_BAD_PORT:S,ERR_INVALID_ARG_TYPE:R,ERR_INVALID_ARG_VALUE:T,ERR_OUT_OF_RANGE:D,ERR_UNKNOWN_SIGNAL:C}}=en(),{normalizeEncoding:N}=un(),{isAsyncFunction:k,isArrayBufferView:L}=un().types,j={};function X(he){return he===(he|0)}function re(he){return he===he>>>0}const B=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function me(he,Le,Ge){if(typeof he>"u"&&(he=Ge),typeof he=="string"){if(v(B,he)===null)throw new T(Le,he,Y);he=g(he,8)}return Ve(he,Le),he}const ne=x((he,Le,Ge=c,qe=l)=>{if(typeof he!="number")throw new R(Le,"number",he);if(!o(he))throw new D(Le,"an integer",he);if(he<Ge||he>qe)throw new D(Le,`>= ${Ge} && <= ${qe}`,he)}),ke=x((he,Le,Ge=-2147483648,qe=2147483647)=>{if(typeof he!="number")throw new R(Le,"number",he);if(!o(he))throw new D(Le,"an integer",he);if(he<Ge||he>qe)throw new D(Le,`>= ${Ge} && <= ${qe}`,he)}),Ve=x((he,Le,Ge=!1)=>{if(typeof he!="number")throw new R(Le,"number",he);if(!o(he))throw new D(Le,"an integer",he);const qe=Ge?1:0,at=4294967295;if(he<qe||he>at)throw new D(Le,`>= ${qe} && <= ${at}`,he)});function ge(he,Le){if(typeof he!="string")throw new R(Le,"string",he)}function Oe(he,Le,Ge=void 0,qe){if(typeof he!="number")throw new R(Le,"number",he);if(Ge!=null&&he<Ge||qe!=null&&he>qe||(Ge!=null||qe!=null)&&u(he))throw new D(Le,`${Ge!=null?`>= ${Ge}`:""}${Ge!=null&&qe!=null?" && ":""}${qe!=null?`<= ${qe}`:""}`,he)}const we=x((he,Le,Ge)=>{if(!e(Ge,he)){const at="must be one of: "+n(i(Ge,St=>typeof St=="string"?`'${St}'`:y(St)),", ");throw new T(Le,he,at)}});function Be(he,Le){if(typeof he!="boolean")throw new R(Le,"boolean",he)}function q(he,Le,Ge){return he==null||!p(he,Le)?Ge:he[Le]}const le=x((he,Le,Ge=null)=>{const qe=q(Ge,"allowArray",!1),at=q(Ge,"allowFunction",!1);if(!q(Ge,"nullable",!1)&&he===null||!qe&&r(he)||typeof he!="object"&&(!at||typeof he!="function"))throw new R(Le,"Object",he)}),Ae=x((he,Le)=>{if(he!=null&&typeof he!="object"&&typeof he!="function")throw new R(Le,"a dictionary",he)}),be=x((he,Le,Ge=0)=>{if(!r(he))throw new R(Le,"Array",he);if(he.length<Ge){const qe=`must be longer than ${Ge}`;throw new T(Le,he,qe)}});function We(he,Le){be(he,Le);for(let Ge=0;Ge<he.length;Ge++)ge(he[Ge],`${Le}[${Ge}]`)}function Xe(he,Le){be(he,Le);for(let Ge=0;Ge<he.length;Ge++)Be(he[Ge],`${Le}[${Ge}]`)}function rt(he,Le){be(he,Le);for(let Ge=0;Ge<he.length;Ge++){const qe=he[Ge],at=`${Le}[${Ge}]`;if(qe==null)throw new R(at,"AbortSignal",qe);ie(qe,at)}}function st(he,Le="signal"){if(ge(he,Le),j[he]===void 0)throw j[_(he)]!==void 0?new C(he+" (signals must use all capital letters)"):new C(he)}const Ce=x((he,Le="buffer")=>{if(!L(he))throw new R(Le,["Buffer","TypedArray","DataView"],he)});function He(he,Le){const Ge=N(Le),qe=he.length;if(Ge==="hex"&&qe%2!==0)throw new T("encoding",Le,`is invalid for data of length ${qe}`)}function Qe(he,Le="Port",Ge=!0){if(typeof he!="number"&&typeof he!="string"||typeof he=="string"&&A(he).length===0||+he!==+he>>>0||he>65535||he===0&&!Ge)throw new S(Le,he,Ge);return he|0}const ie=x((he,Le)=>{if(he!==void 0&&(he===null||typeof he!="object"||!("aborted"in he)))throw new R(Le,"AbortSignal",he)}),U=x((he,Le)=>{if(typeof he!="function")throw new R(Le,"Function",he)}),O=x((he,Le)=>{if(typeof he!="function"||k(he))throw new R(Le,"Function",he)}),z=x((he,Le)=>{if(he!==void 0)throw new R(Le,"undefined",he)});function $(he,Le,Ge){if(!e(Ge,he))throw new R(Le,`('${n(Ge,"|")}')`,he)}const fe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(he,Le){if(typeof he>"u"||!v(fe,he))throw new T(Le,he,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Pe(he){if(typeof he=="string")return ue(he,"hints"),he;if(r(he)){const Le=he.length;let Ge="";if(Le===0)return Ge;for(let qe=0;qe<Le;qe++){const at=he[qe];ue(at,"hints"),Ge+=at,qe!==Le-1&&(Ge+=", ")}return Ge}throw new T("hints",he,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Wh={isInt32:X,isUint32:re,parseFileMode:me,validateArray:be,validateStringArray:We,validateBooleanArray:Xe,validateAbortSignalArray:rt,validateBoolean:Be,validateBuffer:Ce,validateDictionary:Ae,validateEncoding:He,validateFunction:U,validateInt32:ke,validateInteger:ne,validateNumber:Oe,validateObject:le,validateOneOf:we,validatePlainFunction:O,validatePort:Qe,validateSignalName:st,validateString:ge,validateUint32:Ve,validateUndefined:z,validateUnion:$,validateAbortSignal:ie,validateLinkHeaderValue:Pe},Wh}var mc={exports:{}},Gh={exports:{}},m1;function so(){if(m1)return Gh.exports;m1=1;var r=Gh.exports={},e,n;function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=o}catch{n=o}})();function u(S){if(e===setTimeout)return setTimeout(S,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(S,0);try{return e(S,0)}catch{try{return e.call(null,S,0)}catch{return e.call(this,S,0)}}}function l(S){if(n===clearTimeout)return clearTimeout(S);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(S);try{return n(S)}catch{try{return n.call(null,S)}catch{return n.call(this,S)}}}var c=[],g=!1,p,v=-1;function y(){!g||!p||(g=!1,p.length?c=p.concat(c):v=-1,c.length&&_())}function _(){if(!g){var S=u(y);g=!0;for(var R=c.length;R;){for(p=c,c=[];++v<R;)p&&p[v].run();v=-1,R=c.length}p=null,g=!1,l(S)}}r.nextTick=function(S){var R=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)R[T-1]=arguments[T];c.push(new A(S,R)),c.length===1&&!g&&u(_)};function A(S,R){this.fun=S,this.array=R}A.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function x(){}return r.on=x,r.addListener=x,r.once=x,r.off=x,r.removeListener=x,r.removeAllListeners=x,r.emit=x,r.prependListener=x,r.prependOnceListener=x,r.listeners=function(S){return[]},r.binding=function(S){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(S){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},Gh.exports}var Yh,b1;function Vi(){if(b1)return Yh;b1=1;const{SymbolAsyncIterator:r,SymbolIterator:e,SymbolFor:n}=fr(),i=n("nodejs.stream.destroyed"),o=n("nodejs.stream.errored"),u=n("nodejs.stream.readable"),l=n("nodejs.stream.writable"),c=n("nodejs.stream.disturbed"),g=n("nodejs.webstream.isClosedPromise"),p=n("nodejs.webstream.controllerErrorFunction");function v(q,le=!1){var Ae;return!!(q&&typeof q.pipe=="function"&&typeof q.on=="function"&&(!le||typeof q.pause=="function"&&typeof q.resume=="function")&&(!q._writableState||((Ae=q._readableState)===null||Ae===void 0?void 0:Ae.readable)!==!1)&&(!q._writableState||q._readableState))}function y(q){var le;return!!(q&&typeof q.write=="function"&&typeof q.on=="function"&&(!q._readableState||((le=q._writableState)===null||le===void 0?void 0:le.writable)!==!1))}function _(q){return!!(q&&typeof q.pipe=="function"&&q._readableState&&typeof q.on=="function"&&typeof q.write=="function")}function A(q){return q&&(q._readableState||q._writableState||typeof q.write=="function"&&typeof q.on=="function"||typeof q.pipe=="function"&&typeof q.on=="function")}function x(q){return!!(q&&!A(q)&&typeof q.pipeThrough=="function"&&typeof q.getReader=="function"&&typeof q.cancel=="function")}function S(q){return!!(q&&!A(q)&&typeof q.getWriter=="function"&&typeof q.abort=="function")}function R(q){return!!(q&&!A(q)&&typeof q.readable=="object"&&typeof q.writable=="object")}function T(q){return x(q)||S(q)||R(q)}function D(q,le){return q==null?!1:le===!0?typeof q[r]=="function":le===!1?typeof q[e]=="function":typeof q[r]=="function"||typeof q[e]=="function"}function C(q){if(!A(q))return null;const le=q._writableState,Ae=q._readableState,be=le||Ae;return!!(q.destroyed||q[i]||be!=null&&be.destroyed)}function N(q){if(!y(q))return null;if(q.writableEnded===!0)return!0;const le=q._writableState;return le!=null&&le.errored?!1:typeof(le==null?void 0:le.ended)!="boolean"?null:le.ended}function k(q,le){if(!y(q))return null;if(q.writableFinished===!0)return!0;const Ae=q._writableState;return Ae!=null&&Ae.errored?!1:typeof(Ae==null?void 0:Ae.finished)!="boolean"?null:!!(Ae.finished||le===!1&&Ae.ended===!0&&Ae.length===0)}function L(q){if(!v(q))return null;if(q.readableEnded===!0)return!0;const le=q._readableState;return!le||le.errored?!1:typeof(le==null?void 0:le.ended)!="boolean"?null:le.ended}function j(q,le){if(!v(q))return null;const Ae=q._readableState;return Ae!=null&&Ae.errored?!1:typeof(Ae==null?void 0:Ae.endEmitted)!="boolean"?null:!!(Ae.endEmitted||le===!1&&Ae.ended===!0&&Ae.length===0)}function X(q){return q&&q[u]!=null?q[u]:typeof(q==null?void 0:q.readable)!="boolean"?null:C(q)?!1:v(q)&&q.readable&&!j(q)}function re(q){return q&&q[l]!=null?q[l]:typeof(q==null?void 0:q.writable)!="boolean"?null:C(q)?!1:y(q)&&q.writable&&!N(q)}function B(q,le){return A(q)?C(q)?!0:!((le==null?void 0:le.readable)!==!1&&X(q)||(le==null?void 0:le.writable)!==!1&&re(q)):null}function Y(q){var le,Ae;return A(q)?q.writableErrored?q.writableErrored:(le=(Ae=q._writableState)===null||Ae===void 0?void 0:Ae.errored)!==null&&le!==void 0?le:null:null}function me(q){var le,Ae;return A(q)?q.readableErrored?q.readableErrored:(le=(Ae=q._readableState)===null||Ae===void 0?void 0:Ae.errored)!==null&&le!==void 0?le:null:null}function ne(q){if(!A(q))return null;if(typeof q.closed=="boolean")return q.closed;const le=q._writableState,Ae=q._readableState;return typeof(le==null?void 0:le.closed)=="boolean"||typeof(Ae==null?void 0:Ae.closed)=="boolean"?(le==null?void 0:le.closed)||(Ae==null?void 0:Ae.closed):typeof q._closed=="boolean"&&ke(q)?q._closed:null}function ke(q){return typeof q._closed=="boolean"&&typeof q._defaultKeepAlive=="boolean"&&typeof q._removedConnection=="boolean"&&typeof q._removedContLen=="boolean"}function Ve(q){return typeof q._sent100=="boolean"&&ke(q)}function ge(q){var le;return typeof q._consuming=="boolean"&&typeof q._dumped=="boolean"&&((le=q.req)===null||le===void 0?void 0:le.upgradeOrConnect)===void 0}function Oe(q){if(!A(q))return null;const le=q._writableState,Ae=q._readableState,be=le||Ae;return!be&&Ve(q)||!!(be&&be.autoDestroy&&be.emitClose&&be.closed===!1)}function we(q){var le;return!!(q&&((le=q[c])!==null&&le!==void 0?le:q.readableDidRead||q.readableAborted))}function Be(q){var le,Ae,be,We,Xe,rt,st,Ce,He,Qe;return!!(q&&((le=(Ae=(be=(We=(Xe=(rt=q[o])!==null&&rt!==void 0?rt:q.readableErrored)!==null&&Xe!==void 0?Xe:q.writableErrored)!==null&&We!==void 0?We:(st=q._readableState)===null||st===void 0?void 0:st.errorEmitted)!==null&&be!==void 0?be:(Ce=q._writableState)===null||Ce===void 0?void 0:Ce.errorEmitted)!==null&&Ae!==void 0?Ae:(He=q._readableState)===null||He===void 0?void 0:He.errored)!==null&&le!==void 0?le:!((Qe=q._writableState)===null||Qe===void 0)&&Qe.errored))}return Yh={isDestroyed:C,kIsDestroyed:i,isDisturbed:we,kIsDisturbed:c,isErrored:Be,kIsErrored:o,isReadable:X,kIsReadable:u,kIsClosedPromise:g,kControllerErrorFunction:p,kIsWritable:l,isClosed:ne,isDuplexNodeStream:_,isFinished:B,isIterable:D,isReadableNodeStream:v,isReadableStream:x,isReadableEnded:L,isReadableFinished:j,isReadableErrored:me,isNodeStream:A,isWebStream:T,isWritable:re,isWritableNodeStream:y,isWritableStream:S,isWritableEnded:N,isWritableFinished:k,isWritableErrored:Y,isServerRequest:ge,isServerResponse:Ve,willEmitClose:Oe,isTransformStream:R},Yh}var _1;function xa(){if(_1)return mc.exports;_1=1;const r=so(),{AbortError:e,codes:n}=en(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:o}=n,{kEmptyObject:u,once:l}=un(),{validateAbortSignal:c,validateFunction:g,validateObject:p,validateBoolean:v}=Ju(),{Promise:y,PromisePrototypeThen:_,SymbolDispose:A}=fr(),{isClosed:x,isReadable:S,isReadableNodeStream:R,isReadableStream:T,isReadableFinished:D,isReadableErrored:C,isWritable:N,isWritableNodeStream:k,isWritableStream:L,isWritableFinished:j,isWritableErrored:X,isNodeStream:re,willEmitClose:B,kIsClosedPromise:Y}=Vi();let me;function ne(we){return we.setHeader&&typeof we.abort=="function"}const ke=()=>{};function Ve(we,Be,q){var le,Ae;if(arguments.length===2?(q=Be,Be=u):Be==null?Be=u:p(Be,"options"),g(q,"callback"),c(Be.signal,"options.signal"),q=l(q),T(we)||L(we))return ge(we,Be,q);if(!re(we))throw new i("stream",["ReadableStream","WritableStream","Stream"],we);const be=(le=Be.readable)!==null&&le!==void 0?le:R(we),We=(Ae=Be.writable)!==null&&Ae!==void 0?Ae:k(we),Xe=we._writableState,rt=we._readableState,st=()=>{we.writable||Qe()};let Ce=B(we)&&R(we)===be&&k(we)===We,He=j(we,!1);const Qe=()=>{He=!0,we.destroyed&&(Ce=!1),!(Ce&&(!we.readable||be))&&(!be||ie)&&q.call(we)};let ie=D(we,!1);const U=()=>{ie=!0,we.destroyed&&(Ce=!1),!(Ce&&(!we.writable||We))&&(!We||He)&&q.call(we)},O=he=>{q.call(we,he)};let z=x(we);const $=()=>{z=!0;const he=X(we)||C(we);if(he&&typeof he!="boolean")return q.call(we,he);if(be&&!ie&&R(we,!0)&&!D(we,!1))return q.call(we,new o);if(We&&!He&&!j(we,!1))return q.call(we,new o);q.call(we)},fe=()=>{z=!0;const he=X(we)||C(we);if(he&&typeof he!="boolean")return q.call(we,he);q.call(we)},ue=()=>{we.req.on("finish",Qe)};ne(we)?(we.on("complete",Qe),Ce||we.on("abort",$),we.req?ue():we.on("request",ue)):We&&!Xe&&(we.on("end",st),we.on("close",st)),!Ce&&typeof we.aborted=="boolean"&&we.on("aborted",$),we.on("end",U),we.on("finish",Qe),Be.error!==!1&&we.on("error",O),we.on("close",$),z?r.nextTick($):Xe!=null&&Xe.errorEmitted||rt!=null&&rt.errorEmitted?Ce||r.nextTick(fe):(!be&&(!Ce||S(we))&&(He||N(we)===!1)||!We&&(!Ce||N(we))&&(ie||S(we)===!1)||rt&&we.req&&we.aborted)&&r.nextTick(fe);const Pe=()=>{q=ke,we.removeListener("aborted",$),we.removeListener("complete",Qe),we.removeListener("abort",$),we.removeListener("request",ue),we.req&&we.req.removeListener("finish",Qe),we.removeListener("end",st),we.removeListener("close",st),we.removeListener("finish",Qe),we.removeListener("end",U),we.removeListener("error",O),we.removeListener("close",$)};if(Be.signal&&!z){const he=()=>{const Le=q;Pe(),Le.call(we,new e(void 0,{cause:Be.signal.reason}))};if(Be.signal.aborted)r.nextTick(he);else{me=me||un().addAbortListener;const Le=me(Be.signal,he),Ge=q;q=l((...qe)=>{Le[A](),Ge.apply(we,qe)})}}return Pe}function ge(we,Be,q){let le=!1,Ae=ke;if(Be.signal)if(Ae=()=>{le=!0,q.call(we,new e(void 0,{cause:Be.signal.reason}))},Be.signal.aborted)r.nextTick(Ae);else{me=me||un().addAbortListener;const We=me(Be.signal,Ae),Xe=q;q=l((...rt)=>{We[A](),Xe.apply(we,rt)})}const be=(...We)=>{le||r.nextTick(()=>q.apply(we,We))};return _(we[Y].promise,be,be),ke}function Oe(we,Be){var q;let le=!1;return Be===null&&(Be=u),(q=Be)!==null&&q!==void 0&&q.cleanup&&(v(Be.cleanup,"cleanup"),le=Be.cleanup),new y((Ae,be)=>{const We=Ve(we,Be,Xe=>{le&&We(),Xe?be(Xe):Ae()})})}return mc.exports=Ve,mc.exports.finished=Oe,mc.exports}var Jh,w1;function ss(){if(w1)return Jh;w1=1;const r=so(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:i}=en(),{Symbol:o}=fr(),{kIsDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:g}=Vi(),p=o("kDestroy"),v=o("kConstruct");function y(B,Y,me){B&&(B.stack,Y&&!Y.errored&&(Y.errored=B),me&&!me.errored&&(me.errored=B))}function _(B,Y){const me=this._readableState,ne=this._writableState,ke=ne||me;return ne!=null&&ne.destroyed||me!=null&&me.destroyed?(typeof Y=="function"&&Y(),this):(y(B,ne,me),ne&&(ne.destroyed=!0),me&&(me.destroyed=!0),ke.constructed?A(this,B,Y):this.once(p,function(Ve){A(this,e(Ve,B),Y)}),this)}function A(B,Y,me){let ne=!1;function ke(Ve){if(ne)return;ne=!0;const ge=B._readableState,Oe=B._writableState;y(Ve,Oe,ge),Oe&&(Oe.closed=!0),ge&&(ge.closed=!0),typeof me=="function"&&me(Ve),Ve?r.nextTick(x,B,Ve):r.nextTick(S,B)}try{B._destroy(Y||null,ke)}catch(Ve){ke(Ve)}}function x(B,Y){R(B,Y),S(B)}function S(B){const Y=B._readableState,me=B._writableState;me&&(me.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(me!=null&&me.emitClose||Y!=null&&Y.emitClose)&&B.emit("close")}function R(B,Y){const me=B._readableState,ne=B._writableState;ne!=null&&ne.errorEmitted||me!=null&&me.errorEmitted||(ne&&(ne.errorEmitted=!0),me&&(me.errorEmitted=!0),B.emit("error",Y))}function T(){const B=this._readableState,Y=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function D(B,Y,me){const ne=B._readableState,ke=B._writableState;if(ke!=null&&ke.destroyed||ne!=null&&ne.destroyed)return this;ne!=null&&ne.autoDestroy||ke!=null&&ke.autoDestroy?B.destroy(Y):Y&&(Y.stack,ke&&!ke.errored&&(ke.errored=Y),ne&&!ne.errored&&(ne.errored=Y),me?r.nextTick(R,B,Y):R(B,Y))}function C(B,Y){if(typeof B._construct!="function")return;const me=B._readableState,ne=B._writableState;me&&(me.constructed=!1),ne&&(ne.constructed=!1),B.once(v,Y),!(B.listenerCount(v)>1)&&r.nextTick(N,B)}function N(B){let Y=!1;function me(ne){if(Y){D(B,ne??new n);return}Y=!0;const ke=B._readableState,Ve=B._writableState,ge=Ve||ke;ke&&(ke.constructed=!0),Ve&&(Ve.constructed=!0),ge.destroyed?B.emit(p,ne):ne?D(B,ne,!0):r.nextTick(k,B)}try{B._construct(ne=>{r.nextTick(me,ne)})}catch(ne){r.nextTick(me,ne)}}function k(B){B.emit(v)}function L(B){return(B==null?void 0:B.setHeader)&&typeof B.abort=="function"}function j(B){B.emit("close")}function X(B,Y){B.emit("error",Y),r.nextTick(j,B)}function re(B,Y){!B||l(B)||(!Y&&!c(B)&&(Y=new i),g(B)?(B.socket=null,B.destroy(Y)):L(B)?B.abort():L(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(Y):typeof B.close=="function"?B.close():Y?r.nextTick(X,B,Y):r.nextTick(j,B),B.destroyed||(B[u]=!0))}return Jh={construct:C,destroyer:re,destroy:_,undestroy:T,errorOrDestroy:D},Jh}var Xh,S1;function Tm(){if(S1)return Xh;S1=1;const{ArrayIsArray:r,ObjectSetPrototypeOf:e}=fr(),{EventEmitter:n}=Yu();function i(u){n.call(this,u)}e(i.prototype,n.prototype),e(i,n),i.prototype.pipe=function(u,l){const c=this;function g(S){u.writable&&u.write(S)===!1&&c.pause&&c.pause()}c.on("data",g);function p(){c.readable&&c.resume&&c.resume()}u.on("drain",p),!u._isStdio&&(!l||l.end!==!1)&&(c.on("end",y),c.on("close",_));let v=!1;function y(){v||(v=!0,u.end())}function _(){v||(v=!0,typeof u.destroy=="function"&&u.destroy())}function A(S){x(),n.listenerCount(this,"error")===0&&this.emit("error",S)}o(c,"error",A),o(u,"error",A);function x(){c.removeListener("data",g),u.removeListener("drain",p),c.removeListener("end",y),c.removeListener("close",_),c.removeListener("error",A),u.removeListener("error",A),c.removeListener("end",x),c.removeListener("close",x),u.removeListener("close",x)}return c.on("end",x),c.on("close",x),u.on("close",x),u.emit("pipe",c),u};function o(u,l,c){if(typeof u.prependListener=="function")return u.prependListener(l,c);!u._events||!u._events[l]?u.on(l,c):r(u._events[l])?u._events[l].unshift(c):u._events[l]=[c,u._events[l]]}return Xh={Stream:i,prependListener:o},Xh}var Qh={exports:{}},E1;function rf(){return E1||(E1=1,function(r){const{SymbolDispose:e}=fr(),{AbortError:n,codes:i}=en(),{isNodeStream:o,isWebStream:u,kControllerErrorFunction:l}=Vi(),c=xa(),{ERR_INVALID_ARG_TYPE:g}=i;let p;const v=(y,_)=>{if(typeof y!="object"||!("aborted"in y))throw new g(_,"AbortSignal",y)};r.exports.addAbortSignal=function(_,A){if(v(_,"signal"),!o(A)&&!u(A))throw new g("stream",["ReadableStream","WritableStream","Stream"],A);return r.exports.addAbortSignalNoValidate(_,A)},r.exports.addAbortSignalNoValidate=function(y,_){if(typeof y!="object"||!("aborted"in y))return _;const A=o(_)?()=>{_.destroy(new n(void 0,{cause:y.reason}))}:()=>{_[l](new n(void 0,{cause:y.reason}))};if(y.aborted)A();else{p=p||un().addAbortListener;const x=p(y,A);c(_,x[e])}return _}}(Qh)),Qh.exports}var Zh,x1;function ON(){if(x1)return Zh;x1=1;const{StringPrototypeSlice:r,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:i}=fr(),{Buffer:o}=zi(),{inspect:u}=un();return Zh=class{constructor(){this.head=null,this.tail=null,this.length=0}push(c){const g={data:c,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}unshift(c){const g={data:c,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}shift(){if(this.length===0)return;const c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}clear(){this.head=this.tail=null,this.length=0}join(c){if(this.length===0)return"";let g=this.head,p=""+g.data;for(;(g=g.next)!==null;)p+=c+g.data;return p}concat(c){if(this.length===0)return o.alloc(0);const g=o.allocUnsafe(c>>>0);let p=this.head,v=0;for(;p;)n(g,p.data,v),v+=p.data.length,p=p.next;return g}consume(c,g){const p=this.head.data;if(c<p.length){const v=p.slice(0,c);return this.head.data=p.slice(c),v}return c===p.length?this.shift():g?this._getString(c):this._getBuffer(c)}first(){return this.head.data}*[e](){for(let c=this.head;c;c=c.next)yield c.data}_getString(c){let g="",p=this.head,v=0;do{const y=p.data;if(c>y.length)g+=y,c-=y.length;else{c===y.length?(g+=y,++v,p.next?this.head=p.next:this.head=this.tail=null):(g+=r(y,0,c),this.head=p,p.data=r(y,c));break}++v}while((p=p.next)!==null);return this.length-=v,g}_getBuffer(c){const g=o.allocUnsafe(c),p=c;let v=this.head,y=0;do{const _=v.data;if(c>_.length)n(g,_,p-c),c-=_.length;else{c===_.length?(n(g,_,p-c),++y,v.next?this.head=v.next:this.head=this.tail=null):(n(g,new i(_.buffer,_.byteOffset,c),p-c),this.head=v,v.data=_.slice(c));break}++y}while((v=v.next)!==null);return this.length-=y,g}[Symbol.for("nodejs.util.inspect.custom")](c,g){return u(this,{...g,depth:0,customInspect:!1})}},Zh}var ep,A1;function nf(){if(A1)return ep;A1=1;const{MathFloor:r,NumberIsInteger:e}=fr(),{validateInteger:n}=Ju(),{ERR_INVALID_ARG_VALUE:i}=en().codes;let o=16*1024,u=16;function l(v,y,_){return v.highWaterMark!=null?v.highWaterMark:y?v[_]:null}function c(v){return v?u:o}function g(v,y){n(y,"value",0),v?u=y:o=y}function p(v,y,_,A){const x=l(y,A,_);if(x!=null){if(!e(x)||x<0){const S=A?`options.${_}`:"options.highWaterMark";throw new i(S,x)}return r(x)}return c(v.objectMode)}return ep={getHighWaterMark:p,getDefaultHighWaterMark:c,setDefaultHighWaterMark:g},ep}var tp={},bc={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var T1;function NN(){return T1||(T1=1,function(r,e){var n=zi(),i=n.Buffer;function o(l,c){for(var g in l)c[g]=l[g]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(o(n,e),e.Buffer=u);function u(l,c,g){return i(l,c,g)}u.prototype=Object.create(i.prototype),o(i,u),u.from=function(l,c,g){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,c,g)},u.alloc=function(l,c,g){if(typeof l!="number")throw new TypeError("Argument must be a number");var p=i(l);return c!==void 0?typeof g=="string"?p.fill(c,g):p.fill(c):p.fill(0),p},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}}(bc,bc.exports)),bc.exports}var R1;function MN(){if(R1)return tp;R1=1;var r=NN().Buffer,e=r.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(T){if(!T)return"utf8";for(var D;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(D)return;T=(""+T).toLowerCase(),D=!0}}function i(T){var D=n(T);if(typeof D!="string"&&(r.isEncoding===e||!e(T)))throw new Error("Unknown encoding: "+T);return D||T}tp.StringDecoder=o;function o(T){this.encoding=i(T);var D;switch(this.encoding){case"utf16le":this.text=y,this.end=_,D=4;break;case"utf8":this.fillLast=g,D=4;break;case"base64":this.text=A,this.end=x,D=3;break;default:this.write=S,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(D)}o.prototype.write=function(T){if(T.length===0)return"";var D,C;if(this.lastNeed){if(D=this.fillLast(T),D===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<T.length?D?D+this.text(T,C):this.text(T,C):D||""},o.prototype.end=v,o.prototype.text=p,o.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function u(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function l(T,D,C){var N=D.length-1;if(N<C)return 0;var k=u(D[N]);return k>=0?(k>0&&(T.lastNeed=k-1),k):--N<C||k===-2?0:(k=u(D[N]),k>=0?(k>0&&(T.lastNeed=k-2),k):--N<C||k===-2?0:(k=u(D[N]),k>=0?(k>0&&(k===2?k=0:T.lastNeed=k-3),k):0))}function c(T,D,C){if((D[0]&192)!==128)return T.lastNeed=0,"�";if(T.lastNeed>1&&D.length>1){if((D[1]&192)!==128)return T.lastNeed=1,"�";if(T.lastNeed>2&&D.length>2&&(D[2]&192)!==128)return T.lastNeed=2,"�"}}function g(T){var D=this.lastTotal-this.lastNeed,C=c(this,T);if(C!==void 0)return C;if(this.lastNeed<=T.length)return T.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,D,0,T.length),this.lastNeed-=T.length}function p(T,D){var C=l(this,T,D);if(!this.lastNeed)return T.toString("utf8",D);this.lastTotal=C;var N=T.length-(C-this.lastNeed);return T.copy(this.lastChar,0,N),T.toString("utf8",D,N)}function v(T){var D=T&&T.length?this.write(T):"";return this.lastNeed?D+"�":D}function y(T,D){if((T.length-D)%2===0){var C=T.toString("utf16le",D);if(C){var N=C.charCodeAt(C.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",D,T.length-1)}function _(T){var D=T&&T.length?this.write(T):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,C)}return D}function A(T,D){var C=(T.length-D)%3;return C===0?T.toString("base64",D):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",D,T.length-C))}function x(T){var D=T&&T.length?this.write(T):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function S(T){return T.toString(this.encoding)}function R(T){return T&&T.length?this.write(T):""}return tp}var rp,D1;function lT(){if(D1)return rp;D1=1;const r=so(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:i}=fr(),{Buffer:o}=zi(),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=en().codes;function c(g,p,v){let y;if(typeof p=="string"||p instanceof o)return new g({objectMode:!0,...v,read(){this.push(p),this.push(null)}});let _;if(p&&p[n])_=!0,y=p[n]();else if(p&&p[i])_=!1,y=p[i]();else throw new u("iterable",["Iterable"],p);const A=new g({objectMode:!0,highWaterMark:1,...v});let x=!1;A._read=function(){x||(x=!0,R())},A._destroy=function(T,D){e(S(T),()=>r.nextTick(D,T),C=>r.nextTick(D,C||T))};async function S(T){const D=T!=null,C=typeof y.throw=="function";if(D&&C){const{value:N,done:k}=await y.throw(T);if(await N,k)return}if(typeof y.return=="function"){const{value:N}=await y.return();await N}}async function R(){for(;;){try{const{value:T,done:D}=_?await y.next():y.next();if(D)A.push(null);else{const C=T&&typeof T.then=="function"?await T:T;if(C===null)throw x=!1,new l;if(A.push(C))continue;x=!1}}catch(T){A.destroy(T)}break}}return A}return rp=c,rp}var np,C1;function af(){if(C1)return np;C1=1;const r=so(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:i,NumberParseInt:o,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:g,SafeSet:p,SymbolAsyncDispose:v,SymbolAsyncIterator:y,Symbol:_}=fr();np=qe,qe.ReadableState=Ge;const{EventEmitter:A}=Yu(),{Stream:x,prependListener:S}=Tm(),{Buffer:R}=zi(),{addAbortSignal:T}=rf(),D=xa();let C=un().debuglog("stream",ee=>{C=ee});const N=ON(),k=ss(),{getHighWaterMark:L,getDefaultHighWaterMark:j}=nf(),{aggregateTwoErrors:X,codes:{ERR_INVALID_ARG_TYPE:re,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:me,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ne},AbortError:ke}=en(),{validateObject:Ve}=Ju(),ge=_("kPaused"),{StringDecoder:Oe}=MN(),we=lT();c(qe.prototype,x.prototype),c(qe,x);const Be=()=>{},{errorOrDestroy:q}=k,le=1,Ae=2,be=4,We=8,Xe=16,rt=32,st=64,Ce=128,He=256,Qe=512,ie=1024,U=2048,O=4096,z=8192,$=16384,fe=32768,ue=65536,Pe=1<<17,he=1<<18;function Le(ee){return{enumerable:!1,get(){return(this.state&ee)!==0},set(de){de?this.state|=ee:this.state&=~ee}}}u(Ge.prototype,{objectMode:Le(le),ended:Le(Ae),endEmitted:Le(be),reading:Le(We),constructed:Le(Xe),sync:Le(rt),needReadable:Le(st),emittedReadable:Le(Ce),readableListening:Le(He),resumeScheduled:Le(Qe),errorEmitted:Le(ie),emitClose:Le(U),autoDestroy:Le(O),destroyed:Le(z),closed:Le($),closeEmitted:Le(fe),multiAwaitDrain:Le(ue),readingMore:Le(Pe),dataEmitted:Le(he)});function Ge(ee,de,nt){typeof nt!="boolean"&&(nt=de instanceof Bi()),this.state=U|O|Xe|rt,ee&&ee.objectMode&&(this.state|=le),nt&&ee&&ee.readableObjectMode&&(this.state|=le),this.highWaterMark=ee?L(this,ee,"readableHighWaterMark",nt):j(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[ge]=null,ee&&ee.emitClose===!1&&(this.state&=-2049),ee&&ee.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=ee&&ee.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ee&&ee.encoding&&(this.decoder=new Oe(ee.encoding),this.encoding=ee.encoding)}function qe(ee){if(!(this instanceof qe))return new qe(ee);const de=this instanceof Bi();this._readableState=new Ge(ee,this,de),ee&&(typeof ee.read=="function"&&(this._read=ee.read),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.construct=="function"&&(this._construct=ee.construct),ee.signal&&!de&&T(ee.signal,this)),x.call(this,ee),k.construct(this,()=>{this._readableState.needReadable&&Ee(this,this._readableState)})}qe.prototype.destroy=k.destroy,qe.prototype._undestroy=k.undestroy,qe.prototype._destroy=function(ee,de){de(ee)},qe.prototype[A.captureRejectionSymbol]=function(ee){this.destroy(ee)},qe.prototype[v]=function(){let ee;return this.destroyed||(ee=this.readableEnded?null:new ke,this.destroy(ee)),new g((de,nt)=>D(this,tt=>tt&&tt!==ee?nt(tt):de(null)))},qe.prototype.push=function(ee,de){return at(this,ee,de,!1)},qe.prototype.unshift=function(ee,de){return at(this,ee,de,!0)};function at(ee,de,nt,tt){C("readableAddChunk",de);const ut=ee._readableState;let It;if((ut.state&le)===0&&(typeof de=="string"?(nt=nt||ut.defaultEncoding,ut.encoding!==nt&&(tt&&ut.encoding?de=R.from(de,nt).toString(ut.encoding):(de=R.from(de,nt),nt=""))):de instanceof R?nt="":x._isUint8Array(de)?(de=x._uint8ArrayToBuffer(de),nt=""):de!=null&&(It=new re("chunk",["string","Buffer","Uint8Array"],de))),It)q(ee,It);else if(de===null)ut.state&=-9,M(ee,ut);else if((ut.state&le)!==0||de&&de.length>0)if(tt)if((ut.state&be)!==0)q(ee,new ne);else{if(ut.destroyed||ut.errored)return!1;St(ee,ut,de,!0)}else if(ut.ended)q(ee,new me);else{if(ut.destroyed||ut.errored)return!1;ut.state&=-9,ut.decoder&&!nt?(de=ut.decoder.write(de),ut.objectMode||de.length!==0?St(ee,ut,de,!1):Ee(ee,ut)):St(ee,ut,de,!1)}else tt||(ut.state&=-9,Ee(ee,ut));return!ut.ended&&(ut.length<ut.highWaterMark||ut.length===0)}function St(ee,de,nt,tt){de.flowing&&de.length===0&&!de.sync&&ee.listenerCount("data")>0?((de.state&ue)!==0?de.awaitDrainWriters.clear():de.awaitDrainWriters=null,de.dataEmitted=!0,ee.emit("data",nt)):(de.length+=de.objectMode?1:nt.length,tt?de.buffer.unshift(nt):de.buffer.push(nt),(de.state&st)!==0&&P(ee)),Ee(ee,de)}qe.prototype.isPaused=function(){const ee=this._readableState;return ee[ge]===!0||ee.flowing===!1},qe.prototype.setEncoding=function(ee){const de=new Oe(ee);this._readableState.decoder=de,this._readableState.encoding=this._readableState.decoder.encoding;const nt=this._readableState.buffer;let tt="";for(const ut of nt)tt+=de.write(ut);return nt.clear(),tt!==""&&nt.push(tt),this._readableState.length=tt.length,this};const it=1073741824;function gt(ee){if(ee>it)throw new Y("size","<= 1GiB",ee);return ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++,ee}function V(ee,de){return ee<=0||de.length===0&&de.ended?0:(de.state&le)!==0?1:i(ee)?de.flowing&&de.length?de.buffer.first().length:de.length:ee<=de.length?ee:de.ended?de.length:0}qe.prototype.read=function(ee){C("read",ee),ee===void 0?ee=NaN:n(ee)||(ee=o(ee,10));const de=this._readableState,nt=ee;if(ee>de.highWaterMark&&(de.highWaterMark=gt(ee)),ee!==0&&(de.state&=-129),ee===0&&de.needReadable&&((de.highWaterMark!==0?de.length>=de.highWaterMark:de.length>0)||de.ended))return C("read: emitReadable",de.length,de.ended),de.length===0&&de.ended?hn(this):P(this),null;if(ee=V(ee,de),ee===0&&de.ended)return de.length===0&&hn(this),null;let tt=(de.state&st)!==0;if(C("need readable",tt),(de.length===0||de.length-ee<de.highWaterMark)&&(tt=!0,C("length less than watermark",tt)),de.ended||de.reading||de.destroyed||de.errored||!de.constructed)tt=!1,C("reading, ended or constructing",tt);else if(tt){C("do read"),de.state|=We|rt,de.length===0&&(de.state|=st);try{this._read(de.highWaterMark)}catch(It){q(this,It)}de.state&=-33,de.reading||(ee=V(nt,de))}let ut;return ee>0?ut=Ut(ee,de):ut=null,ut===null?(de.needReadable=de.length<=de.highWaterMark,ee=0):(de.length-=ee,de.multiAwaitDrain?de.awaitDrainWriters.clear():de.awaitDrainWriters=null),de.length===0&&(de.ended||(de.needReadable=!0),nt!==ee&&de.ended&&hn(this)),ut!==null&&!de.errorEmitted&&!de.closeEmitted&&(de.dataEmitted=!0,this.emit("data",ut)),ut};function M(ee,de){if(C("onEofChunk"),!de.ended){if(de.decoder){const nt=de.decoder.end();nt&&nt.length&&(de.buffer.push(nt),de.length+=de.objectMode?1:nt.length)}de.ended=!0,de.sync?P(ee):(de.needReadable=!1,de.emittedReadable=!0,I(ee))}}function P(ee){const de=ee._readableState;C("emitReadable",de.needReadable,de.emittedReadable),de.needReadable=!1,de.emittedReadable||(C("emitReadable",de.flowing),de.emittedReadable=!0,r.nextTick(I,ee))}function I(ee){const de=ee._readableState;C("emitReadable_",de.destroyed,de.length,de.ended),!de.destroyed&&!de.errored&&(de.length||de.ended)&&(ee.emit("readable"),de.emittedReadable=!1),de.needReadable=!de.flowing&&!de.ended&&de.length<=de.highWaterMark,Dt(ee)}function Ee(ee,de){!de.readingMore&&de.constructed&&(de.readingMore=!0,r.nextTick(Fe,ee,de))}function Fe(ee,de){for(;!de.reading&&!de.ended&&(de.length<de.highWaterMark||de.flowing&&de.length===0);){const nt=de.length;if(C("maybeReadMore read 0"),ee.read(0),nt===de.length)break}de.readingMore=!1}qe.prototype._read=function(ee){throw new B("_read()")},qe.prototype.pipe=function(ee,de){const nt=this,tt=this._readableState;tt.pipes.length===1&&(tt.multiAwaitDrain||(tt.multiAwaitDrain=!0,tt.awaitDrainWriters=new p(tt.awaitDrainWriters?[tt.awaitDrainWriters]:[]))),tt.pipes.push(ee),C("pipe count=%d opts=%j",tt.pipes.length,de);const It=(!de||de.end!==!1)&&ee!==r.stdout&&ee!==r.stderr?Pn:Mt;tt.endEmitted?r.nextTick(It):nt.once("end",It),ee.on("unpipe",nr);function nr(wt,Xr){C("onunpipe"),wt===nt&&Xr&&Xr.hasUnpiped===!1&&(Xr.hasUnpiped=!0,Wi())}function Pn(){C("onend"),ee.end()}let En,Da=!1;function Wi(){C("cleanup"),ee.removeListener("close",tn),ee.removeListener("finish",xn),En&&ee.removeListener("drain",En),ee.removeListener("error",pn),ee.removeListener("unpipe",nr),nt.removeListener("end",Pn),nt.removeListener("end",Mt),nt.removeListener("data",Ln),Da=!0,En&&tt.awaitDrainWriters&&(!ee._writableState||ee._writableState.needDrain)&&En()}function Un(){Da||(tt.pipes.length===1&&tt.pipes[0]===ee?(C("false write response, pause",0),tt.awaitDrainWriters=ee,tt.multiAwaitDrain=!1):tt.pipes.length>1&&tt.pipes.includes(ee)&&(C("false write response, pause",tt.awaitDrainWriters.size),tt.awaitDrainWriters.add(ee)),nt.pause()),En||(En=Se(nt,ee),ee.on("drain",En))}nt.on("data",Ln);function Ln(wt){C("ondata");const Xr=ee.write(wt);C("dest.write",Xr),Xr===!1&&Un()}function pn(wt){if(C("onerror",wt),Mt(),ee.removeListener("error",pn),ee.listenerCount("error")===0){const Xr=ee._writableState||ee._readableState;Xr&&!Xr.errorEmitted?q(ee,wt):ee.emit("error",wt)}}S(ee,"error",pn);function tn(){ee.removeListener("finish",xn),Mt()}ee.once("close",tn);function xn(){C("onfinish"),ee.removeListener("close",tn),Mt()}ee.once("finish",xn);function Mt(){C("unpipe"),nt.unpipe(ee)}return ee.emit("pipe",nt),ee.writableNeedDrain===!0?Un():tt.flowing||(C("pipe resume"),nt.resume()),ee};function Se(ee,de){return function(){const tt=ee._readableState;tt.awaitDrainWriters===de?(C("pipeOnDrain",1),tt.awaitDrainWriters=null):tt.multiAwaitDrain&&(C("pipeOnDrain",tt.awaitDrainWriters.size),tt.awaitDrainWriters.delete(de)),(!tt.awaitDrainWriters||tt.awaitDrainWriters.size===0)&&ee.listenerCount("data")&&ee.resume()}}qe.prototype.unpipe=function(ee){const de=this._readableState,nt={hasUnpiped:!1};if(de.pipes.length===0)return this;if(!ee){const ut=de.pipes;de.pipes=[],this.pause();for(let It=0;It<ut.length;It++)ut[It].emit("unpipe",this,{hasUnpiped:!1});return this}const tt=e(de.pipes,ee);return tt===-1?this:(de.pipes.splice(tt,1),de.pipes.length===0&&this.pause(),ee.emit("unpipe",this,nt),this)},qe.prototype.on=function(ee,de){const nt=x.prototype.on.call(this,ee,de),tt=this._readableState;return ee==="data"?(tt.readableListening=this.listenerCount("readable")>0,tt.flowing!==!1&&this.resume()):ee==="readable"&&!tt.endEmitted&&!tt.readableListening&&(tt.readableListening=tt.needReadable=!0,tt.flowing=!1,tt.emittedReadable=!1,C("on readable",tt.length,tt.reading),tt.length?P(this):tt.reading||r.nextTick(Nt,this)),nt},qe.prototype.addListener=qe.prototype.on,qe.prototype.removeListener=function(ee,de){const nt=x.prototype.removeListener.call(this,ee,de);return ee==="readable"&&r.nextTick(vt,this),nt},qe.prototype.off=qe.prototype.removeListener,qe.prototype.removeAllListeners=function(ee){const de=x.prototype.removeAllListeners.apply(this,arguments);return(ee==="readable"||ee===void 0)&&r.nextTick(vt,this),de};function vt(ee){const de=ee._readableState;de.readableListening=ee.listenerCount("readable")>0,de.resumeScheduled&&de[ge]===!1?de.flowing=!0:ee.listenerCount("data")>0?ee.resume():de.readableListening||(de.flowing=null)}function Nt(ee){C("readable nexttick read 0"),ee.read(0)}qe.prototype.resume=function(){const ee=this._readableState;return ee.flowing||(C("resume"),ee.flowing=!ee.readableListening,Ot(this,ee)),ee[ge]=!1,this};function Ot(ee,de){de.resumeScheduled||(de.resumeScheduled=!0,r.nextTick(At,ee,de))}function At(ee,de){C("resume",de.reading),de.reading||ee.read(0),de.resumeScheduled=!1,ee.emit("resume"),Dt(ee),de.flowing&&!de.reading&&ee.read(0)}qe.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ge]=!0,this};function Dt(ee){const de=ee._readableState;for(C("flow",de.flowing);de.flowing&&ee.read()!==null;);}qe.prototype.wrap=function(ee){let de=!1;ee.on("data",tt=>{!this.push(tt)&&ee.pause&&(de=!0,ee.pause())}),ee.on("end",()=>{this.push(null)}),ee.on("error",tt=>{q(this,tt)}),ee.on("close",()=>{this.destroy()}),ee.on("destroy",()=>{this.destroy()}),this._read=()=>{de&&ee.resume&&(de=!1,ee.resume())};const nt=l(ee);for(let tt=1;tt<nt.length;tt++){const ut=nt[tt];this[ut]===void 0&&typeof ee[ut]=="function"&&(this[ut]=ee[ut].bind(ee))}return this},qe.prototype[y]=function(){return kn(this)},qe.prototype.iterator=function(ee){return ee!==void 0&&Ve(ee,"options"),kn(this,ee)};function kn(ee,de){typeof ee.read!="function"&&(ee=qe.wrap(ee,{objectMode:!0}));const nt=rr(ee,de);return nt.stream=ee,nt}async function*rr(ee,de){let nt=Be;function tt(nr){this===ee?(nt(),nt=Be):nt=nr}ee.on("readable",tt);let ut;const It=D(ee,{writable:!1},nr=>{ut=nr?X(ut,nr):null,nt(),nt=Be});try{for(;;){const nr=ee.destroyed?null:ee.read();if(nr!==null)yield nr;else{if(ut)throw ut;if(ut===null)return;await new g(tt)}}}catch(nr){throw ut=X(ut,nr),ut}finally{(ut||(de==null?void 0:de.destroyOnReturn)!==!1)&&(ut===void 0||ee._readableState.autoDestroy)?k.destroyer(ee,null):(ee.off("readable",tt),It())}}u(qe.prototype,{readable:{__proto__:null,get(){const ee=this._readableState;return!!ee&&ee.readable!==!1&&!ee.destroyed&&!ee.errorEmitted&&!ee.endEmitted},set(ee){this._readableState&&(this._readableState.readable=!!ee)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ee){this._readableState&&(this._readableState.destroyed=ee)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(Ge.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ge]!==!1},set(ee){this[ge]=!!ee}}}),qe._fromList=Ut;function Ut(ee,de){if(de.length===0)return null;let nt;return de.objectMode?nt=de.buffer.shift():!ee||ee>=de.length?(de.decoder?nt=de.buffer.join(""):de.buffer.length===1?nt=de.buffer.first():nt=de.buffer.concat(de.length),de.buffer.clear()):nt=de.buffer.consume(ee,de.decoder),nt}function hn(ee){const de=ee._readableState;C("endReadable",de.endEmitted),de.endEmitted||(de.ended=!0,r.nextTick(or,de,ee))}function or(ee,de){if(C("endReadableNT",ee.endEmitted,ee.length),!ee.errored&&!ee.closeEmitted&&!ee.endEmitted&&ee.length===0){if(ee.endEmitted=!0,de.emit("end"),de.writable&&de.allowHalfOpen===!1)r.nextTick(kr,de);else if(ee.autoDestroy){const nt=de._writableState;(!nt||nt.autoDestroy&&(nt.finished||nt.writable===!1))&&de.destroy()}}}function kr(ee){ee.writable&&!ee.writableEnded&&!ee.destroyed&&ee.end()}qe.from=function(ee,de){return we(qe,ee,de)};let Pr;function yi(){return Pr===void 0&&(Pr={}),Pr}return qe.fromWeb=function(ee,de){return yi().newStreamReadableFromReadableStream(ee,de)},qe.toWeb=function(ee,de){return yi().newReadableStreamFromStreamReadable(ee,de)},qe.wrap=function(ee,de){var nt,tt;return new qe({objectMode:(nt=(tt=ee.readableObjectMode)!==null&&tt!==void 0?tt:ee.objectMode)!==null&&nt!==void 0?nt:!0,...de,destroy(ut,It){k.destroyer(ee,ut),It(ut)}}).wrap(ee)},np}var ip,F1;function Rm(){if(F1)return ip;F1=1;const r=so(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:o,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:g,SymbolHasInstance:p}=fr();ip=Ve,Ve.WritableState=ne;const{EventEmitter:v}=Yu(),y=Tm().Stream,{Buffer:_}=zi(),A=ss(),{addAbortSignal:x}=rf(),{getHighWaterMark:S,getDefaultHighWaterMark:R}=nf(),{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_MULTIPLE_CALLBACK:C,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:k,ERR_STREAM_ALREADY_FINISHED:L,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:X,ERR_UNKNOWN_ENCODING:re}=en().codes,{errorOrDestroy:B}=A;l(Ve.prototype,y.prototype),l(Ve,y);function Y(){}const me=g("kOnFinished");function ne(O,z,$){typeof $!="boolean"&&($=z instanceof Bi()),this.objectMode=!!(O&&O.objectMode),$&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?S(this,O,"writableHighWaterMark",$):R(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const fe=!!(O&&O.decodeStrings===!1);this.decodeStrings=!fe,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=q.bind(void 0,z),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ke(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[me]=[]}function ke(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}ne.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},o(ne.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Ve(O){const z=this instanceof Bi();if(!z&&!i(Ve,this))return new Ve(O);this._writableState=new ne(O,this,z),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&x(O.signal,this)),y.call(this,O),A.construct(this,()=>{const $=this._writableState;$.writing||We(this,$),Ce(this,$)})}o(Ve,p,{__proto__:null,value:function(O){return i(this,O)?!0:this!==Ve?!1:O&&O._writableState instanceof ne}}),Ve.prototype.pipe=function(){B(this,new N)};function ge(O,z,$,fe){const ue=O._writableState;if(typeof $=="function")fe=$,$=ue.defaultEncoding;else{if(!$)$=ue.defaultEncoding;else if($!=="buffer"&&!_.isEncoding($))throw new re($);typeof fe!="function"&&(fe=Y)}if(z===null)throw new j;if(!ue.objectMode)if(typeof z=="string")ue.decodeStrings!==!1&&(z=_.from(z,$),$="buffer");else if(z instanceof _)$="buffer";else if(y._isUint8Array(z))z=y._uint8ArrayToBuffer(z),$="buffer";else throw new T("chunk",["string","Buffer","Uint8Array"],z);let Pe;return ue.ending?Pe=new X:ue.destroyed&&(Pe=new k("write")),Pe?(r.nextTick(fe,Pe),B(O,Pe,!0),Pe):(ue.pendingcb++,Oe(O,ue,z,$,fe))}Ve.prototype.write=function(O,z,$){return ge(this,O,z,$)===!0},Ve.prototype.cork=function(){this._writableState.corked++},Ve.prototype.uncork=function(){const O=this._writableState;O.corked&&(O.corked--,O.writing||We(this,O))},Ve.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=c(z)),!_.isEncoding(z))throw new re(z);return this._writableState.defaultEncoding=z,this};function Oe(O,z,$,fe,ue){const Pe=z.objectMode?1:$.length;z.length+=Pe;const he=z.length<z.highWaterMark;return he||(z.needDrain=!0),z.writing||z.corked||z.errored||!z.constructed?(z.buffered.push({chunk:$,encoding:fe,callback:ue}),z.allBuffers&&fe!=="buffer"&&(z.allBuffers=!1),z.allNoop&&ue!==Y&&(z.allNoop=!1)):(z.writelen=Pe,z.writecb=ue,z.writing=!0,z.sync=!0,O._write($,fe,z.onwrite),z.sync=!1),he&&!z.errored&&!z.destroyed}function we(O,z,$,fe,ue,Pe,he){z.writelen=fe,z.writecb=he,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new k("write")):$?O._writev(ue,z.onwrite):O._write(ue,Pe,z.onwrite),z.sync=!1}function Be(O,z,$,fe){--z.pendingcb,fe($),be(z),B(O,$)}function q(O,z){const $=O._writableState,fe=$.sync,ue=$.writecb;if(typeof ue!="function"){B(O,new C);return}$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0,z?(z.stack,$.errored||($.errored=z),O._readableState&&!O._readableState.errored&&(O._readableState.errored=z),fe?r.nextTick(Be,O,$,z,ue):Be(O,$,z,ue)):($.buffered.length>$.bufferedIndex&&We(O,$),fe?$.afterWriteTickInfo!==null&&$.afterWriteTickInfo.cb===ue?$.afterWriteTickInfo.count++:($.afterWriteTickInfo={count:1,cb:ue,stream:O,state:$},r.nextTick(le,$.afterWriteTickInfo)):Ae(O,$,1,ue))}function le({stream:O,state:z,count:$,cb:fe}){return z.afterWriteTickInfo=null,Ae(O,z,$,fe)}function Ae(O,z,$,fe){for(!z.ending&&!O.destroyed&&z.length===0&&z.needDrain&&(z.needDrain=!1,O.emit("drain"));$-- >0;)z.pendingcb--,fe();z.destroyed&&be(z),Ce(O,z)}function be(O){if(O.writing)return;for(let ue=O.bufferedIndex;ue<O.buffered.length;++ue){var z;const{chunk:Pe,callback:he}=O.buffered[ue],Le=O.objectMode?1:Pe.length;O.length-=Le,he((z=O.errored)!==null&&z!==void 0?z:new k("write"))}const $=O[me].splice(0);for(let ue=0;ue<$.length;ue++){var fe;$[ue]((fe=O.errored)!==null&&fe!==void 0?fe:new k("end"))}ke(O)}function We(O,z){if(z.corked||z.bufferProcessing||z.destroyed||!z.constructed)return;const{buffered:$,bufferedIndex:fe,objectMode:ue}=z,Pe=$.length-fe;if(!Pe)return;let he=fe;if(z.bufferProcessing=!0,Pe>1&&O._writev){z.pendingcb-=Pe-1;const Le=z.allNoop?Y:qe=>{for(let at=he;at<$.length;++at)$[at].callback(qe)},Ge=z.allNoop&&he===0?$:e($,he);Ge.allBuffers=z.allBuffers,we(O,z,!0,z.length,Ge,"",Le),ke(z)}else{do{const{chunk:Le,encoding:Ge,callback:qe}=$[he];$[he++]=null;const at=ue?1:Le.length;we(O,z,!1,at,Le,Ge,qe)}while(he<$.length&&!z.writing);he===$.length?ke(z):he>256?($.splice(0,he),z.bufferedIndex=0):z.bufferedIndex=he}z.bufferProcessing=!1}Ve.prototype._write=function(O,z,$){if(this._writev)this._writev([{chunk:O,encoding:z}],$);else throw new D("_write()")},Ve.prototype._writev=null,Ve.prototype.end=function(O,z,$){const fe=this._writableState;typeof O=="function"?($=O,O=null,z=null):typeof z=="function"&&($=z,z=null);let ue;if(O!=null){const Pe=ge(this,O,z);Pe instanceof n&&(ue=Pe)}return fe.corked&&(fe.corked=1,this.uncork()),ue||(!fe.errored&&!fe.ending?(fe.ending=!0,Ce(this,fe,!0),fe.ended=!0):fe.finished?ue=new L("end"):fe.destroyed&&(ue=new k("end"))),typeof $=="function"&&(ue||fe.finished?r.nextTick($,ue):fe[me].push($)),this};function Xe(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function rt(O,z){let $=!1;function fe(ue){if($){B(O,ue??C());return}if($=!0,z.pendingcb--,ue){const Pe=z[me].splice(0);for(let he=0;he<Pe.length;he++)Pe[he](ue);B(O,ue,z.sync)}else Xe(z)&&(z.prefinished=!0,O.emit("prefinish"),z.pendingcb++,r.nextTick(He,O,z))}z.sync=!0,z.pendingcb++;try{O._final(fe)}catch(ue){fe(ue)}z.sync=!1}function st(O,z){!z.prefinished&&!z.finalCalled&&(typeof O._final=="function"&&!z.destroyed?(z.finalCalled=!0,rt(O,z)):(z.prefinished=!0,O.emit("prefinish")))}function Ce(O,z,$){Xe(z)&&(st(O,z),z.pendingcb===0&&($?(z.pendingcb++,r.nextTick((fe,ue)=>{Xe(ue)?He(fe,ue):ue.pendingcb--},O,z)):Xe(z)&&(z.pendingcb++,He(O,z))))}function He(O,z){z.pendingcb--,z.finished=!0;const $=z[me].splice(0);for(let fe=0;fe<$.length;fe++)$[fe]();if(O.emit("finish"),z.autoDestroy){const fe=O._readableState;(!fe||fe.autoDestroy&&(fe.endEmitted||fe.readable===!1))&&O.destroy()}}u(Ve.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){const O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Qe=A.destroy;Ve.prototype.destroy=function(O,z){const $=this._writableState;return!$.destroyed&&($.bufferedIndex<$.buffered.length||$[me].length)&&r.nextTick(be,$),Qe.call(this,O,z),this},Ve.prototype._undestroy=A.undestroy,Ve.prototype._destroy=function(O,z){z(O)},Ve.prototype[v.captureRejectionSymbol]=function(O){this.destroy(O)};let ie;function U(){return ie===void 0&&(ie={}),ie}return Ve.fromWeb=function(O,z){return U().newStreamWritableFromWritableStream(O,z)},Ve.toWeb=function(O){return U().newWritableStreamFromStreamWritable(O)},ip}var ap,O1;function IN(){if(O1)return ap;O1=1;const r=so(),e=zi(),{isReadable:n,isWritable:i,isIterable:o,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:g,isReadableStream:p,isWritableStream:v}=Vi(),y=xa(),{AbortError:_,codes:{ERR_INVALID_ARG_TYPE:A,ERR_INVALID_RETURN_VALUE:x}}=en(),{destroyer:S}=ss(),R=Bi(),T=af(),D=Rm(),{createDeferredPromise:C}=un(),N=lT(),k=globalThis.Blob||e.Blob,L=typeof k<"u"?function(ne){return ne instanceof k}:function(ne){return!1},j=globalThis.AbortController||Iu().AbortController,{FunctionPrototypeCall:X}=fr();class re extends R{constructor(ne){super(ne),(ne==null?void 0:ne.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ne==null?void 0:ne.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ap=function me(ne,ke){if(g(ne))return ne;if(l(ne))return Y({readable:ne});if(c(ne))return Y({writable:ne});if(u(ne))return Y({writable:!1,readable:!1});if(p(ne))return Y({readable:T.fromWeb(ne)});if(v(ne))return Y({writable:D.fromWeb(ne)});if(typeof ne=="function"){const{value:ge,write:Oe,final:we,destroy:Be}=B(ne);if(o(ge))return N(re,ge,{objectMode:!0,write:Oe,final:we,destroy:Be});const q=ge==null?void 0:ge.then;if(typeof q=="function"){let le;const Ae=X(q,ge,be=>{if(be!=null)throw new x("nully","body",be)},be=>{S(le,be)});return le=new re({objectMode:!0,readable:!1,write:Oe,final(be){we(async()=>{try{await Ae,r.nextTick(be,null)}catch(We){r.nextTick(be,We)}})},destroy:Be})}throw new x("Iterable, AsyncIterable or AsyncFunction",ke,ge)}if(L(ne))return me(ne.arrayBuffer());if(o(ne))return N(re,ne,{objectMode:!0,writable:!1});if(p(ne==null?void 0:ne.readable)&&v(ne==null?void 0:ne.writable))return re.fromWeb(ne);if(typeof(ne==null?void 0:ne.writable)=="object"||typeof(ne==null?void 0:ne.readable)=="object"){const ge=ne!=null&&ne.readable?l(ne==null?void 0:ne.readable)?ne==null?void 0:ne.readable:me(ne.readable):void 0,Oe=ne!=null&&ne.writable?c(ne==null?void 0:ne.writable)?ne==null?void 0:ne.writable:me(ne.writable):void 0;return Y({readable:ge,writable:Oe})}const Ve=ne==null?void 0:ne.then;if(typeof Ve=="function"){let ge;return X(Ve,ne,Oe=>{Oe!=null&&ge.push(Oe),ge.push(null)},Oe=>{S(ge,Oe)}),ge=new re({objectMode:!0,writable:!1,read(){}})}throw new A(ke,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ne)};function B(me){let{promise:ne,resolve:ke}=C();const Ve=new j,ge=Ve.signal;return{value:me(async function*(){for(;;){const we=ne;ne=null;const{chunk:Be,done:q,cb:le}=await we;if(r.nextTick(le),q)return;if(ge.aborted)throw new _(void 0,{cause:ge.reason});({promise:ne,resolve:ke}=C()),yield Be}}(),{signal:ge}),write(we,Be,q){const le=ke;ke=null,le({chunk:we,done:!1,cb:q})},final(we){const Be=ke;ke=null,Be({done:!0,cb:we})},destroy(we,Be){Ve.abort(),Be(we)}}}function Y(me){const ne=me.readable&&typeof me.readable.read!="function"?T.wrap(me.readable):me.readable,ke=me.writable;let Ve=!!n(ne),ge=!!i(ke),Oe,we,Be,q,le;function Ae(be){const We=q;q=null,We?We(be):be&&le.destroy(be)}return le=new re({readableObjectMode:!!(ne!=null&&ne.readableObjectMode),writableObjectMode:!!(ke!=null&&ke.writableObjectMode),readable:Ve,writable:ge}),ge&&(y(ke,be=>{ge=!1,be&&S(ne,be),Ae(be)}),le._write=function(be,We,Xe){ke.write(be,We)?Xe():Oe=Xe},le._final=function(be){ke.end(),we=be},ke.on("drain",function(){if(Oe){const be=Oe;Oe=null,be()}}),ke.on("finish",function(){if(we){const be=we;we=null,be()}})),Ve&&(y(ne,be=>{Ve=!1,be&&S(ne,be),Ae(be)}),ne.on("readable",function(){if(Be){const be=Be;Be=null,be()}}),ne.on("end",function(){le.push(null)}),le._read=function(){for(;;){const be=ne.read();if(be===null){Be=le._read;return}if(!le.push(be))return}}),le._destroy=function(be,We){!be&&q!==null&&(be=new _),Be=null,Oe=null,we=null,q===null?We(be):(q=We,S(ke,be),S(ne,be))},le}return ap}var op,N1;function Bi(){if(N1)return op;N1=1;const{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:i}=fr();op=l;const o=af(),u=Rm();i(l.prototype,o.prototype),i(l,o);{const v=n(u.prototype);for(let y=0;y<v.length;y++){const _=v[y];l.prototype[_]||(l.prototype[_]=u.prototype[_])}}function l(v){if(!(this instanceof l))return new l(v);o.call(this,v),u.call(this,v),v?(this.allowHalfOpen=v.allowHalfOpen!==!1,v.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),v.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(l.prototype,{writable:{__proto__:null,...e(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(u.prototype,"writableLength")},writableFinished:{__proto__:null,...e(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(v){this._readableState&&this._writableState&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}}});let c;function g(){return c===void 0&&(c={}),c}l.fromWeb=function(v,y){return g().newStreamDuplexFromReadableWritablePair(v,y)},l.toWeb=function(v){return g().newReadableWritablePairFromDuplex(v)};let p;return l.from=function(v){return p||(p=IN()),p(v,"body")},op}var sp,M1;function cT(){if(M1)return sp;M1=1;const{ObjectSetPrototypeOf:r,Symbol:e}=fr();sp=l;const{ERR_METHOD_NOT_IMPLEMENTED:n}=en().codes,i=Bi(),{getHighWaterMark:o}=nf();r(l.prototype,i.prototype),r(l,i);const u=e("kCallback");function l(p){if(!(this instanceof l))return new l(p);const v=p?o(this,p,"readableHighWaterMark",!0):null;v===0&&(p={...p,highWaterMark:null,readableHighWaterMark:v,writableHighWaterMark:p.writableHighWaterMark||0}),i.call(this,p),this._readableState.sync=!1,this[u]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",g)}function c(p){typeof this._flush=="function"&&!this.destroyed?this._flush((v,y)=>{if(v){p?p(v):this.destroy(v);return}y!=null&&this.push(y),this.push(null),p&&p()}):(this.push(null),p&&p())}function g(){this._final!==c&&c.call(this)}return l.prototype._final=c,l.prototype._transform=function(p,v,y){throw new n("_transform()")},l.prototype._write=function(p,v,y){const _=this._readableState,A=this._writableState,x=_.length;this._transform(p,v,(S,R)=>{if(S){y(S);return}R!=null&&this.push(R),A.ended||x===_.length||_.length<_.highWaterMark?y():this[u]=y})},l.prototype._read=function(){if(this[u]){const p=this[u];this[u]=null,p()}},sp}var up,I1;function fT(){if(I1)return up;I1=1;const{ObjectSetPrototypeOf:r}=fr();up=n;const e=cT();r(n.prototype,e.prototype),r(n,e);function n(i){if(!(this instanceof n))return new n(i);e.call(this,i)}return n.prototype._transform=function(i,o,u){u(null,i)},up}var lp,k1;function Dm(){if(k1)return lp;k1=1;const r=so(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:i,SymbolDispose:o}=fr(),u=xa(),{once:l}=un(),c=ss(),g=Bi(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:_,ERR_STREAM_DESTROYED:A,ERR_STREAM_PREMATURE_CLOSE:x},AbortError:S}=en(),{validateFunction:R,validateAbortSignal:T}=Ju(),{isIterable:D,isReadable:C,isReadableNodeStream:N,isNodeStream:k,isTransformStream:L,isWebStream:j,isReadableStream:X,isReadableFinished:re}=Vi(),B=globalThis.AbortController||Iu().AbortController;let Y,me,ne;function ke(be,We,Xe){let rt=!1;be.on("close",()=>{rt=!0});const st=u(be,{readable:We,writable:Xe},Ce=>{rt=!Ce});return{destroy:Ce=>{rt||(rt=!0,c.destroyer(be,Ce||new A("pipe")))},cleanup:st}}function Ve(be){return R(be[be.length-1],"streams[stream.length - 1]"),be.pop()}function ge(be){if(D(be))return be;if(N(be))return Oe(be);throw new v("val",["Readable","Iterable","AsyncIterable"],be)}async function*Oe(be){me||(me=af()),yield*me.prototype[i].call(be)}async function we(be,We,Xe,{end:rt}){let st,Ce=null;const He=U=>{if(U&&(st=U),Ce){const O=Ce;Ce=null,O()}},Qe=()=>new n((U,O)=>{st?O(st):Ce=()=>{st?O(st):U()}});We.on("drain",He);const ie=u(We,{readable:!1},He);try{We.writableNeedDrain&&await Qe();for await(const U of be)We.write(U)||await Qe();rt&&(We.end(),await Qe()),Xe()}catch(U){Xe(st!==U?p(st,U):U)}finally{ie(),We.off("drain",He)}}async function Be(be,We,Xe,{end:rt}){L(We)&&(We=We.writable);const st=We.getWriter();try{for await(const Ce of be)await st.ready,st.write(Ce).catch(()=>{});await st.ready,rt&&await st.close(),Xe()}catch(Ce){try{await st.abort(Ce),Xe(Ce)}catch(He){Xe(He)}}}function q(...be){return le(be,l(Ve(be)))}function le(be,We,Xe){if(be.length===1&&e(be[0])&&(be=be[0]),be.length<2)throw new _("streams");const rt=new B,st=rt.signal,Ce=Xe==null?void 0:Xe.signal,He=[];T(Ce,"options.signal");function Qe(){ue(new S)}ne=ne||un().addAbortListener;let ie;Ce&&(ie=ne(Ce,Qe));let U,O;const z=[];let $=0;function fe(qe){ue(qe,--$===0)}function ue(qe,at){var St;if(qe&&(!U||U.code==="ERR_STREAM_PREMATURE_CLOSE")&&(U=qe),!(!U&&!at)){for(;z.length;)z.shift()(U);(St=ie)===null||St===void 0||St[o](),rt.abort(),at&&(U||He.forEach(it=>it()),r.nextTick(We,U,O))}}let Pe;for(let qe=0;qe<be.length;qe++){const at=be[qe],St=qe<be.length-1,it=qe>0,gt=St||(Xe==null?void 0:Xe.end)!==!1,V=qe===be.length-1;if(k(at)){let M=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&fe(P)};var Ge=M;if(gt){const{destroy:P,cleanup:I}=ke(at,St,it);z.push(P),C(at)&&V&&He.push(I)}at.on("error",M),C(at)&&V&&He.push(()=>{at.removeListener("error",M)})}if(qe===0)if(typeof at=="function"){if(Pe=at({signal:st}),!D(Pe))throw new y("Iterable, AsyncIterable or Stream","source",Pe)}else D(at)||N(at)||L(at)?Pe=at:Pe=g.from(at);else if(typeof at=="function"){if(L(Pe)){var he;Pe=ge((he=Pe)===null||he===void 0?void 0:he.readable)}else Pe=ge(Pe);if(Pe=at(Pe,{signal:st}),St){if(!D(Pe,!0))throw new y("AsyncIterable",`transform[${qe-1}]`,Pe)}else{var Le;Y||(Y=fT());const M=new Y({objectMode:!0}),P=(Le=Pe)===null||Le===void 0?void 0:Le.then;if(typeof P=="function")$++,P.call(Pe,Fe=>{O=Fe,Fe!=null&&M.write(Fe),gt&&M.end(),r.nextTick(fe)},Fe=>{M.destroy(Fe),r.nextTick(fe,Fe)});else if(D(Pe,!0))$++,we(Pe,M,fe,{end:gt});else if(X(Pe)||L(Pe)){const Fe=Pe.readable||Pe;$++,we(Fe,M,fe,{end:gt})}else throw new y("AsyncIterable or Promise","destination",Pe);Pe=M;const{destroy:I,cleanup:Ee}=ke(Pe,!1,!0);z.push(I),V&&He.push(Ee)}}else if(k(at)){if(N(Pe)){$+=2;const M=Ae(Pe,at,fe,{end:gt});C(at)&&V&&He.push(M)}else if(L(Pe)||X(Pe)){const M=Pe.readable||Pe;$++,we(M,at,fe,{end:gt})}else if(D(Pe))$++,we(Pe,at,fe,{end:gt});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=at}else if(j(at)){if(N(Pe))$++,Be(ge(Pe),at,fe,{end:gt});else if(X(Pe)||D(Pe))$++,Be(Pe,at,fe,{end:gt});else if(L(Pe))$++,Be(Pe.readable,at,fe,{end:gt});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Pe);Pe=at}else Pe=g.from(at)}return(st!=null&&st.aborted||Ce!=null&&Ce.aborted)&&r.nextTick(Qe),Pe}function Ae(be,We,Xe,{end:rt}){let st=!1;if(We.on("close",()=>{st||Xe(new x)}),be.pipe(We,{end:!1}),rt){let He=function(){st=!0,We.end()};var Ce=He;re(be)?r.nextTick(He):be.once("end",He)}else Xe();return u(be,{readable:!0,writable:!1},He=>{const Qe=be._readableState;He&&He.code==="ERR_STREAM_PREMATURE_CLOSE"&&Qe&&Qe.ended&&!Qe.errored&&!Qe.errorEmitted?be.once("end",Xe).once("error",Xe):Xe(He)}),u(We,{readable:!1,writable:!0},Xe)}return lp={pipelineImpl:le,pipeline:q},lp}var cp,P1;function dT(){if(P1)return cp;P1=1;const{pipeline:r}=Dm(),e=Bi(),{destroyer:n}=ss(),{isNodeStream:i,isReadable:o,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:g,isReadableStream:p}=Vi(),{AbortError:v,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:_}}=en(),A=xa();return cp=function(...S){if(S.length===0)throw new _("streams");if(S.length===1)return e.from(S[0]);const R=[...S];if(typeof S[0]=="function"&&(S[0]=e.from(S[0])),typeof S[S.length-1]=="function"){const Y=S.length-1;S[Y]=e.from(S[Y])}for(let Y=0;Y<S.length;++Y)if(!(!i(S[Y])&&!l(S[Y]))){if(Y<S.length-1&&!(o(S[Y])||p(S[Y])||c(S[Y])))throw new y(`streams[${Y}]`,R[Y],"must be readable");if(Y>0&&!(u(S[Y])||g(S[Y])||c(S[Y])))throw new y(`streams[${Y}]`,R[Y],"must be writable")}let T,D,C,N,k;function L(Y){const me=N;N=null,me?me(Y):Y?k.destroy(Y):!B&&!re&&k.destroy()}const j=S[0],X=r(S,L),re=!!(u(j)||g(j)||c(j)),B=!!(o(X)||p(X)||c(X));if(k=new e({writableObjectMode:!!(j!=null&&j.writableObjectMode),readableObjectMode:!!(X!=null&&X.readableObjectMode),writable:re,readable:B}),re){if(i(j))k._write=function(me,ne,ke){j.write(me,ne)?ke():T=ke},k._final=function(me){j.end(),D=me},j.on("drain",function(){if(T){const me=T;T=null,me()}});else if(l(j)){const ne=(c(j)?j.writable:j).getWriter();k._write=async function(ke,Ve,ge){try{await ne.ready,ne.write(ke).catch(()=>{}),ge()}catch(Oe){ge(Oe)}},k._final=async function(ke){try{await ne.ready,ne.close().catch(()=>{}),D=ke}catch(Ve){ke(Ve)}}}const Y=c(X)?X.readable:X;A(Y,()=>{if(D){const me=D;D=null,me()}})}if(B){if(i(X))X.on("readable",function(){if(C){const Y=C;C=null,Y()}}),X.on("end",function(){k.push(null)}),k._read=function(){for(;;){const Y=X.read();if(Y===null){C=k._read;return}if(!k.push(Y))return}};else if(l(X)){const me=(c(X)?X.readable:X).getReader();k._read=async function(){for(;;)try{const{value:ne,done:ke}=await me.read();if(!k.push(ne))return;if(ke){k.push(null);return}}catch{return}}}}return k._destroy=function(Y,me){!Y&&N!==null&&(Y=new v),C=null,T=null,D=null,N===null?me(Y):(N=me,i(X)&&n(X,Y))},k},cp}var U1;function kN(){if(U1)return yc;U1=1;const r=globalThis.AbortController||Iu().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:o},AbortError:u}=en(),{validateAbortSignal:l,validateInteger:c,validateObject:g}=Ju(),p=fr().Symbol("kWeak"),v=fr().Symbol("kResistStopPropagation"),{finished:y}=xa(),_=dT(),{addAbortSignalNoValidate:A}=rf(),{isWritable:x,isNodeStream:S}=Vi(),{deprecate:R}=un(),{ArrayPrototypePush:T,Boolean:D,MathFloor:C,Number:N,NumberIsNaN:k,Promise:L,PromiseReject:j,PromiseResolve:X,PromisePrototypeThen:re,Symbol:B}=fr(),Y=B("kEmpty"),me=B("kEof");function ne(Ce,He){if(He!=null&&g(He,"options"),(He==null?void 0:He.signal)!=null&&l(He.signal,"options.signal"),S(Ce)&&!x(Ce))throw new e("stream",Ce,"must be writable");const Qe=_(this,Ce);return He!=null&&He.signal&&A(He.signal,Qe),Qe}function ke(Ce,He){if(typeof Ce!="function")throw new n("fn",["Function","AsyncFunction"],Ce);He!=null&&g(He,"options"),(He==null?void 0:He.signal)!=null&&l(He.signal,"options.signal");let Qe=1;(He==null?void 0:He.concurrency)!=null&&(Qe=C(He.concurrency));let ie=Qe-1;return(He==null?void 0:He.highWaterMark)!=null&&(ie=C(He.highWaterMark)),c(Qe,"options.concurrency",1),c(ie,"options.highWaterMark",0),ie+=Qe,(async function*(){const O=un().AbortSignalAny([He==null?void 0:He.signal].filter(D)),z=this,$=[],fe={signal:O};let ue,Pe,he=!1,Le=0;function Ge(){he=!0,qe()}function qe(){Le-=1,at()}function at(){Pe&&!he&&Le<Qe&&$.length<ie&&(Pe(),Pe=null)}async function St(){try{for await(let it of z){if(he)return;if(O.aborted)throw new u;try{if(it=Ce(it,fe),it===Y)continue;it=X(it)}catch(gt){it=j(gt)}Le+=1,re(it,qe,Ge),$.push(it),ue&&(ue(),ue=null),!he&&($.length>=ie||Le>=Qe)&&await new L(gt=>{Pe=gt})}$.push(me)}catch(it){const gt=j(it);re(gt,qe,Ge),$.push(gt)}finally{he=!0,ue&&(ue(),ue=null)}}St();try{for(;;){for(;$.length>0;){const it=await $[0];if(it===me)return;if(O.aborted)throw new u;it!==Y&&(yield it),$.shift(),at()}await new L(it=>{ue=it})}}finally{he=!0,Pe&&(Pe(),Pe=null)}}).call(this)}function Ve(Ce=void 0){return Ce!=null&&g(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&l(Ce.signal,"options.signal"),(async function*(){let Qe=0;for await(const U of this){var ie;if(Ce!=null&&(ie=Ce.signal)!==null&&ie!==void 0&&ie.aborted)throw new u({cause:Ce.signal.reason});yield[Qe++,U]}}).call(this)}async function ge(Ce,He=void 0){for await(const Qe of q.call(this,Ce,He))return!0;return!1}async function Oe(Ce,He=void 0){if(typeof Ce!="function")throw new n("fn",["Function","AsyncFunction"],Ce);return!await ge.call(this,async(...Qe)=>!await Ce(...Qe),He)}async function we(Ce,He){for await(const Qe of q.call(this,Ce,He))return Qe}async function Be(Ce,He){if(typeof Ce!="function")throw new n("fn",["Function","AsyncFunction"],Ce);async function Qe(ie,U){return await Ce(ie,U),Y}for await(const ie of ke.call(this,Qe,He));}function q(Ce,He){if(typeof Ce!="function")throw new n("fn",["Function","AsyncFunction"],Ce);async function Qe(ie,U){return await Ce(ie,U)?ie:Y}return ke.call(this,Qe,He)}class le extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Ae(Ce,He,Qe){var ie;if(typeof Ce!="function")throw new n("reducer",["Function","AsyncFunction"],Ce);Qe!=null&&g(Qe,"options"),(Qe==null?void 0:Qe.signal)!=null&&l(Qe.signal,"options.signal");let U=arguments.length>1;if(Qe!=null&&(ie=Qe.signal)!==null&&ie!==void 0&&ie.aborted){const ue=new u(void 0,{cause:Qe.signal.reason});throw this.once("error",()=>{}),await y(this.destroy(ue)),ue}const O=new r,z=O.signal;if(Qe!=null&&Qe.signal){const ue={once:!0,[p]:this,[v]:!0};Qe.signal.addEventListener("abort",()=>O.abort(),ue)}let $=!1;try{for await(const ue of this){var fe;if($=!0,Qe!=null&&(fe=Qe.signal)!==null&&fe!==void 0&&fe.aborted)throw new u;U?He=await Ce(He,ue,{signal:z}):(He=ue,U=!0)}if(!$&&!U)throw new le}finally{O.abort()}return He}async function be(Ce){Ce!=null&&g(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&l(Ce.signal,"options.signal");const He=[];for await(const ie of this){var Qe;if(Ce!=null&&(Qe=Ce.signal)!==null&&Qe!==void 0&&Qe.aborted)throw new u(void 0,{cause:Ce.signal.reason});T(He,ie)}return He}function We(Ce,He){const Qe=ke.call(this,Ce,He);return(async function*(){for await(const U of Qe)yield*U}).call(this)}function Xe(Ce){if(Ce=N(Ce),k(Ce))return 0;if(Ce<0)throw new o("number",">= 0",Ce);return Ce}function rt(Ce,He=void 0){return He!=null&&g(He,"options"),(He==null?void 0:He.signal)!=null&&l(He.signal,"options.signal"),Ce=Xe(Ce),(async function*(){var ie;if(He!=null&&(ie=He.signal)!==null&&ie!==void 0&&ie.aborted)throw new u;for await(const O of this){var U;if(He!=null&&(U=He.signal)!==null&&U!==void 0&&U.aborted)throw new u;Ce--<=0&&(yield O)}}).call(this)}function st(Ce,He=void 0){return He!=null&&g(He,"options"),(He==null?void 0:He.signal)!=null&&l(He.signal,"options.signal"),Ce=Xe(Ce),(async function*(){var ie;if(He!=null&&(ie=He.signal)!==null&&ie!==void 0&&ie.aborted)throw new u;for await(const O of this){var U;if(He!=null&&(U=He.signal)!==null&&U!==void 0&&U.aborted)throw new u;if(Ce-- >0&&(yield O),Ce<=0)return}}).call(this)}return yc.streamReturningOperators={asIndexedPairs:R(Ve,"readable.asIndexedPairs will be removed in a future version."),drop:rt,filter:q,flatMap:We,map:ke,take:st,compose:ne},yc.promiseReturningOperators={every:Oe,forEach:Be,reduce:Ae,toArray:be,some:ge,find:we},yc}var fp,L1;function hT(){if(L1)return fp;L1=1;const{ArrayPrototypePop:r,Promise:e}=fr(),{isIterable:n,isNodeStream:i,isWebStream:o}=Vi(),{pipelineImpl:u}=Dm(),{finished:l}=xa();pT();function c(...g){return new e((p,v)=>{let y,_;const A=g[g.length-1];if(A&&typeof A=="object"&&!i(A)&&!n(A)&&!o(A)){const x=r(g);y=x.signal,_=x.end}u(g,(x,S)=>{x?v(x):p(S)},{signal:y,end:_})})}return fp={finished:l,pipeline:c},fp}var B1;function pT(){if(B1)return Hh.exports;B1=1;const{Buffer:r}=zi(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:i}=fr(),{promisify:{custom:o}}=un(),{streamReturningOperators:u,promiseReturningOperators:l}=kN(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=en(),g=dT(),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:v}=nf(),{pipeline:y}=Dm(),{destroyer:_}=ss(),A=xa(),x=hT(),S=Vi(),R=Hh.exports=Tm().Stream;R.isDestroyed=S.isDestroyed,R.isDisturbed=S.isDisturbed,R.isErrored=S.isErrored,R.isReadable=S.isReadable,R.isWritable=S.isWritable,R.Readable=af();for(const C of n(u)){let k=function(...L){if(new.target)throw c();return R.Readable.from(i(N,this,L))};var D=k;const N=u[C];e(k,"name",{__proto__:null,value:N.name}),e(k,"length",{__proto__:null,value:N.length}),e(R.Readable.prototype,C,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(const C of n(l)){let k=function(...j){if(new.target)throw c();return i(N,this,j)};var D=k;const N=l[C];e(k,"name",{__proto__:null,value:N.name}),e(k,"length",{__proto__:null,value:N.length}),e(R.Readable.prototype,C,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}R.Writable=Rm(),R.Duplex=Bi(),R.Transform=cT(),R.PassThrough=fT(),R.pipeline=y;const{addAbortSignal:T}=rf();return R.addAbortSignal=T,R.finished=A,R.destroy=_,R.compose=g,R.setDefaultHighWaterMark=p,R.getDefaultHighWaterMark=v,e(R,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return x}}),e(y,o,{__proto__:null,enumerable:!0,get(){return x.pipeline}}),e(A,o,{__proto__:null,enumerable:!0,get(){return x.finished}}),R.Stream=R,R._isUint8Array=function(N){return N instanceof Uint8Array},R._uint8ArrayToBuffer=function(N){return r.from(N.buffer,N.byteOffset,N.byteLength)},Hh.exports}var j1;function PN(){return j1||(j1=1,function(r){const e=pT(),n=hT(),i=e.Readable.destroy;r.exports=e.Readable,r.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,r.exports._isUint8Array=e._isUint8Array,r.exports.isDisturbed=e.isDisturbed,r.exports.isErrored=e.isErrored,r.exports.isReadable=e.isReadable,r.exports.Readable=e.Readable,r.exports.Writable=e.Writable,r.exports.Duplex=e.Duplex,r.exports.Transform=e.Transform,r.exports.PassThrough=e.PassThrough,r.exports.addAbortSignal=e.addAbortSignal,r.exports.finished=e.finished,r.exports.destroy=e.destroy,r.exports.destroy=i,r.exports.pipeline=e.pipeline,r.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),r.exports.Stream=e.Stream,r.exports.default=r.exports}(qh)),qh.exports}class q1 extends Error{}const UN="application/problem+json",LN=new URL("about:blank");function H1(r,e){if(r!==void 0)try{return new URL(r,e)}catch{}}function BN(r){let e,n,i,o,u;if(r.headers.get("Content-Type")===UN)try{const l=JSON.parse(r.body),c=H1(l.type,r.url);c!==void 0&&(e=c),typeof l.title=="string"&&(n=l.title),typeof l.status=="number"&&(i=l.status),typeof l.detail=="string"&&(o=l.detail);const g=H1(l.instance,r.url);g!==void 0&&(u=g)}catch{}return Object.freeze({type:e??LN,title:n??r.statusText,status:i??r.status,detail:o,instance:u})}class K1 extends q1{constructor(e,n,i,o){if(super(i,o),e.status>=200&&e.status<400)throw new q1(`A ClientHttpError cannot be built from a success response, got ${e.status} ${e.statusText}`);this.errorResponse=Object.freeze({status:e.status,statusText:e.statusText,headers:e.headers,url:e.url,body:n,ok:!1}),this.details=BN(this.errorResponse)}get response(){return this.errorResponse}get problemDetails(){return this.details}}function jN(r){const e=r;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"}function qN(r){const e=r;return typeof e=="object"&&typeof e.internal_resourceInfo=="object"&&typeof e.internal_resourceInfo.linkedResources=="object"}class of extends Error{}function ji(r){return typeof r=="string"?r:r.value}function Xu(r,e={}){const n=new URL(r);return n.pathname=n.pathname.replace(/\/\/+/g,"/"),e.trailingSlash===!1&&n.pathname.slice(-1)==="/"&&(n.pathname=n.pathname.slice(0,n.pathname.length-1)),e.trailingSlash===!0&&n.pathname.slice(-1)!=="/"&&(n.pathname=`${n.pathname}/`),n.href}var HN=FN();const KN=zr(HN);function Cm(r){var e,n,i,o,u;const l=(n=(e=r.headers.get("Content-Type"))===null||e===void 0?void 0:e.split(";"))!==null&&n!==void 0?n:[],c=l.length>0&&["text/turtle","application/ld+json"].includes(l[0]),g={sourceIri:r.url,isRawData:!c,contentLocation:(i=r.headers.get("Content-Location"))!==null&&i!==void 0?i:void 0,contentType:(o=r.headers.get("Content-Type"))!==null&&o!==void 0?o:void 0,linkedResources:{},location:(u=r.headers.get("Location"))!==null&&u!==void 0?u:void 0},p=r.headers.get("Link");if(p){const y=KN.parse(p),_=y.get("rel","acl");_.length===1&&(g.aclUrl=new URL(_[0].uri,g.sourceIri).href),g.linkedResources=y.refs.reduce((A,x)=>{var S,R;return(S=A[R=x.rel])!==null&&S!==void 0||(A[R]=[]),A[x.rel].push(new URL(x.uri,g.sourceIri).href),A},g.linkedResources)}const v=r.headers.get("WAC-Allow");return v&&(g.permissions=zN(v)),g}function zN(r){function e(i){const o=i.split(" ");return o.includes("write")?{read:o.includes("read"),append:!0,write:!0,control:o.includes("control")}:{read:o.includes("read"),append:o.includes("append"),write:!1,control:o.includes("control")}}function n(i,o){const u=i.split(",").map(c=>c.split("=")).filter(c=>c.length===2&&c[0].trim()===o);if(u.length!==1)return"";const l=u[0][1].trim();return l.charAt(0)!=='"'||l.charAt(l.length-1)!=='"'?"":l.substring(1,l.length-1)}return{user:e(n(r,"user")),public:e(n(r,"public"))}}function VN(r){let e;return typeof r.slice=="function"?e=Object.assign(r.slice(),{...r}):e={...r},e}function us(r){return!r.ok}function $N(r){return r.status===401||r.status===403}const WN={seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso"},gT={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:"http://www.w3.org/ns/ldp#contains"},z1={primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},GN={storage:"http://www.w3.org/ns/pim/space#storage"};async function YN(r,e){var n,i;const o=await((n=e==null?void 0:e.fetch)!==null&&n!==void 0?n:fetch)(Xu(r),{method:"HEAD"});return vT(o,{ignoreAuthenticationErrors:(i=e==null?void 0:e.ignoreAuthenticationErrors)!==null&&i!==void 0?i:!1})}function vT(r,e={ignoreAuthenticationErrors:!1}){if(us(r)&&(!$N(r)||!e.ignoreAuthenticationErrors))throw new ls(`Fetching the metadata of the Resource at [${r.url}] failed: [${r.status}] [${r.statusText}].`,r);return{internal_resourceInfo:Cm(r)}}function JN(r){var e;return(e=r.internal_resourceInfo.contentType)!==null&&e!==void 0?e:null}function Ja(r){return jN(r)?r.internal_resourceInfo.sourceIri:null}const XN=Ja;class ls extends of{constructor(e,n,i){super(e),this.response=n,typeof i=="string"?this.httpError=new K1(n,i,e):this.httpError=new K1(n,"",e)}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}get problemDetails(){return this.httpError.problemDetails}}var QN=zi();const pu="http://www.w3.org/1999/02/22-rdf-syntax-ns#",gu="http://www.w3.org/2001/XMLSchema#",_c="http://www.w3.org/2000/10/swap/",qr={xsd:{decimal:`${gu}decimal`,boolean:`${gu}boolean`,double:`${gu}double`,integer:`${gu}integer`,string:`${gu}string`},rdf:{type:`${pu}type`,nil:`${pu}nil`,first:`${pu}first`,rest:`${pu}rest`,langString:`${pu}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${_c}reify#forSome`,forAll:`${_c}reify#forAll`},log:{implies:`${_c}log#implies`,isImpliedBy:`${_c}log#isImpliedBy`}},{xsd:wc}=qr,ZN=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,V1={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},eM=/[\x00-\x20<>\\"\{\}\|\^\`]/,tM={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},rM=/$0^/;class nM{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in tM)&&this[n]instanceof RegExp&&(this[n]=rM)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let i=this._input,o=i.length;for(;;){let c,g;for(;c=this._newline.exec(i);)this.comments&&(g=this._comment.exec(c[0]))&&u("comment",g[1],"",this._line,c[0].length),i=i.substr(c[0].length,i.length),o=i.length,this._line++;if(!c&&(c=this._whitespace.exec(i))&&(i=i.substr(c[0].length,i.length)),this._endOfFile.test(i))return n&&(this.comments&&(g=this._comment.exec(i))&&u("comment",g[1],"",this._line,i.length),i=null,u("eof","","",this._line,0)),this._input=i;const p=this._line,v=i[0];let y="",_="",A="",x=null,S=0,R=!1;switch(v){case"^":if(i.length<3)break;if(i[1]==="^"){if(this._previousMarker="^^",i=i.substr(2),i[0]!=="<"){R=!0;break}}else{this._n3Mode&&(S=1,y="^");break}case"<":if(x=this._unescapedIri.exec(i))y="IRI",_=x[1];else if(x=this._iri.exec(i)){if(_=this._unescape(x[1]),_===null||eM.test(_))return l(this);y="IRI"}else i.length>1&&i[1]==="<"?(y="<<",S=2):this._n3Mode&&i.length>1&&i[1]==="="&&(S=2,this._isImpliedBy?(y="abbreviation",_="<"):(y="inverse",_=">"));break;case">":i.length>1&&i[1]===">"&&(y=">>",S=2);break;case"_":((x=this._blank.exec(i))||n&&(x=this._blank.exec(`${i} `)))&&(y="blank",A="_",_=x[1]);break;case'"':if(x=this._simpleQuotedString.exec(i))_=x[1];else if({value:_,matchLength:S}=this._parseLiteral(i),_===null)return l(this);(x!==null||S!==0)&&(y="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(x=this._simpleApostropheString.exec(i))_=x[1];else if({value:_,matchLength:S}=this._parseLiteral(i),_===null)return l(this);(x!==null||S!==0)&&(y="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(x=this._variable.exec(i))&&(y="var",_=x[0]);break;case"@":this._previousMarker==="literal"&&(x=this._langcode.exec(i))?(y="langcode",_=x[1]):(x=this._keyword.exec(i))&&(y=x[0]);break;case".":if(i.length===1?n:i[1]<"0"||i[1]>"9"){y=".",S=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(x=this._number.exec(i)||n&&(x=this._number.exec(`${i} `)))&&(y="literal",_=x[0],A=typeof x[1]=="string"?wc.double:typeof x[2]=="string"?wc.decimal:wc.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(x=this._sparqlKeyword.exec(i))?y=x[0].toUpperCase():R=!0;break;case"f":case"t":(x=this._boolean.exec(i))?(y="literal",_=x[0],A=wc.boolean):R=!0;break;case"a":(x=this._shortPredicates.exec(i))?(y="abbreviation",_="a"):R=!0;break;case"=":this._n3Mode&&i.length>1&&(y="abbreviation",i[1]!==">"?(S=1,_="="):(S=2,_=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(S=1,y=v);break;case"{":!this._lineMode&&i.length>=2&&(i[1]==="|"?(y="{|",S=2):(y=v,S=1));break;case"|":i.length>=2&&i[1]==="}"&&(y="|}",S=2);break;default:R=!0}if(R&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(x=this._prefix.exec(i))?(y="prefix",_=x[1]||""):((x=this._prefixed.exec(i))||n&&(x=this._prefixed.exec(`${i} `)))&&(y="prefixed",A=x[1]||"",_=this._unescape(x[2]))),this._previousMarker==="^^")switch(y){case"prefixed":y="type";break;case"IRI":y="typeIRI";break;default:y=""}if(!y)return n||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?l(this):this._input=i;const T=S||x[0].length,D=u(y,_,A,p,T);this.previousToken=D,this._previousMarker=y,i=i.substr(T,i.length)}function u(c,g,p,v,y){const _=i?o-i.length:o,A=_+y,x={type:c,value:g,prefix:p,line:v,start:_,end:A};return e(null,x),x}function l(c){e(c._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(e){let n=!1;const i=e.replace(ZN,(o,u,l,c)=>{if(typeof u=="string")return String.fromCharCode(Number.parseInt(u,16));if(typeof l=="string"){let g=Number.parseInt(l,16);return g<=65535?String.fromCharCode(Number.parseInt(l,16)):String.fromCharCode(55296+((g-=65536)>>10),56320+(g&1023))}return c in V1?V1[c]:(n=!0,"")});return n?null:i}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],i=n.length;let o=Math.max(this._literalClosingPos,i);for(;(o=e.indexOf(n,o))>0;){let u=0;for(;e[o-u-1]==="\\";)u++;if(u%2===0){const l=e.substring(i,o),c=l.split(/\r\n|\r|\n/).length-1,g=o+i;if(i===1&&c!==0||i===3&&this._lineMode)break;return this._line+=c,{value:this._unescape(l),matchLength:g}}o++}this._literalClosingPos=e.length-i+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")queueMicrotask(()=>this._tokenizeToEnd(n,!0));else{const i=[];let o;if(this._tokenizeToEnd((u,l)=>u?o=u:i.push(l),!0),o)throw o;return i}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",i=>{this._input!==null&&i.length!==0&&(this._pendingBuffer&&(i=QN.Buffer.concat([this._pendingBuffer,i]),this._pendingBuffer=null),i[i.length-1]&128?this._pendingBuffer=i:(typeof this._input>"u"?this._input=this._readStartingBom(typeof i=="string"?i:i.toString()):this._input+=i,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:iM,xsd:Wa}=qr;let cs,aM=0;const Jn={namedNode:bT,blankNode:_T,variable:ST,literal:wT,defaultGraph:lM,quad:am,triple:am,fromTerm:Eu,fromQuad:ET};class Qn{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Qn?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class yT extends Qn{get termType(){return"NamedNode"}}class Yo extends Qn{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new yT(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,i=n<e.length?e[n]:"";return i==="^"?e.substr(n+2):i!=="@"?Wa.string:iM.langString}equals(e){return e instanceof Yo?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class oM extends Qn{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class sM extends Qn{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class uM extends Qn{constructor(){return super(""),cs||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}cs=new uM;function Su(r,e,n){if(e=e||Jn,!r)return e.defaultGraph();switch(r[0]){case"?":return e.variable(r.substr(1));case"_":return e.blankNode(r.substr(2));case'"':if(e===Jn)return new Yo(r);if(r[r.length-1]==='"')return e.literal(r.substr(1,r.length-2));const i=r.lastIndexOf('"',r.length-1);return e.literal(r.substr(1,i-1),r[i+1]==="@"?r.substr(i+2):e.namedNode(r.substr(i+3)));case"[":r=JSON.parse(r);break;default:if(!n||!Array.isArray(r))return e.namedNode(r)}return e.quad(Su(r[0],e,!0),Su(r[1],e,!0),Su(r[2],e,!0),r[3]&&Su(r[3],e,!0))}function Go(r,e){if(typeof r=="string")return r;if(r instanceof Qn&&r.termType!=="Quad")return r.id;if(!r)return cs.id;switch(r.termType){case"NamedNode":return r.value;case"BlankNode":return`_:${r.value}`;case"Variable":return`?${r.value}`;case"DefaultGraph":return"";case"Literal":return`"${r.value}"${r.language?`@${r.language}`:r.datatype&&r.datatype.value!==Wa.string?`^^${r.datatype.value}`:""}`;case"Quad":const n=[Go(r.subject,!0),Go(r.predicate,!0),Go(r.object,!0)];return r.graph&&r.graph.termType!=="DefaultGraph"&&n.push(Go(r.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${r.termType}`)}}class mT extends Qn{constructor(e,n,i,o){super(""),this._subject=e,this._predicate=n,this._object=i,this._graph=o||cs}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function bT(r){return new yT(r)}function _T(r){return new oM(r||`n3-${aM++}`)}function wT(r,e){if(typeof e=="string")return new Yo(`"${r}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof r=="boolean"?n=Wa.boolean:typeof r=="number"&&(Number.isFinite(r)?n=Number.isInteger(r)?Wa.integer:Wa.double:(n=Wa.double,Number.isNaN(r)||(r=r>0?"INF":"-INF")))),n===""||n===Wa.string?new Yo(`"${r}"`):new Yo(`"${r}"^^${n}`)}function ST(r){return new sM(r)}function lM(){return cs}function am(r,e,n,i){return new mT(r,e,n,i)}function Eu(r){if(r instanceof Qn)return r;switch(r.termType){case"NamedNode":return bT(r.value);case"BlankNode":return _T(r.value);case"Variable":return ST(r.value);case"DefaultGraph":return cs;case"Literal":return wT(r.value,r.language||r.datatype);case"Quad":return ET(r);default:throw new Error(`Unexpected termType: ${r.termType}`)}}function ET(r){if(r instanceof mT)return r;if(r.termType!=="Quad")throw new Error(`Unexpected termType: ${r.termType}`);return am(Eu(r.subject),Eu(r.predicate),Eu(r.object),Eu(r.graph))}let $1=0;class xT{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&AT(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(n),o=/trig/.test(n),u=/triple/.test(n),l=/quad/.test(n),c=this._n3Mode=/n3/.test(n),g=u||l;(this._supportsNamedGraphs=!(i||c))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||o||u||c),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=n===""||/star|\*$/.test(n),g&&(this._resolveRelativeIRI=p=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new nM({lineMode:g,n3:c,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){$1=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,i,o,u){const l=this._n3Mode;this._contextStack.push({type:e,subject:i,predicate:o,object:u,graph:n,inverse:l?this._inversePredicate:!1,blankPrefix:l?this._prefixes._:"",quantified:l?this._quantified:null}),l&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const i=this._contextStack.pop();if(!i||i.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let i;switch(e.type){case"IRI":case"typeIRI":const o=this._resolveIRI(e.value);if(o===null)return this._error("Invalid IRI",e);i=this._factory.namedNode(o);break;case"type":case"prefixed":const u=this._prefixes[e.prefix];if(u===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);i=this._factory.namedNode(u+e.value);break;case"blank":i=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":i=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,i=null,o=this._readListItem;const u=this._subject,l=this._contextStack,c=l[l.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this._subject=n=this._factory.blankNode()),o=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),l.length!==0&&l[l.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(o=this._readPredicate,this._subject===this.RDF_NIL)return o}else if(o=this._getContextEndReader(),this._object===this.RDF_NIL)return o;i=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,o=this._readListItemDataTypeOrLang):(n=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),o=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(i===null&&(this._subject=i=this._factory.blankNode()),u===null?c.predicate===null?c.subject=i:c.object=i:this._emit(u,this.RDF_REST,i,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,i,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,n,this._graph)}return o}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const i=this._readEntity(e);if(i===void 0)return;n=this._factory.literal(this._literalValue,i),e=null;break;case"langcode":n=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const i=this._completeLiteral(e);if(i)return this._object=i.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),i.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,i=this._graph;const o=this._subject,u=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,u&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const l=this._predicate,c=this._object;this._subject=this._factory.quad(o,l,c,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(i=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(o!==null){const l=this._predicate,c=this._object;u?this._emit(c,l,o,i):this._emit(o,l,c,i)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,i=n.length&&n[n.length-1];if(i&&i.type==="item"){const o=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,o,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,i;const o=this._factory.blankNode();if((i=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=o):(n=this._object,this._object=o),this._emit(n,i,o,this._graph),this._readPath}_readBackwardPath(e){const n=this._factory.blankNode();let i,o;if((i=this._readEntity(e))!==void 0)return this._predicate===null?(o=this._subject,this._subject=n):(o=this._object,this._object=n),this._emit(n,i,o,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,i,o){this._callback(null,this._factory.quad(e,n,i,o||this.DEFAULTGRAPH))}_error(e,n){const i=new Error(`${e} on line ${n.line}.`);i.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=Sc}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let i="",o=-1,u=-1,l=0,c="/";for(;o<n;){switch(c){case":":if(u<0&&e[++o]==="/"&&e[++o]==="/")for(;(u=o+1)<n&&e[u]!=="/";)o=u;break;case"?":case"#":o=n;break;case"/":if(e[o+1]===".")switch(c=e[++o+1],c){case"/":i+=e.substring(l,o-1),l=o+1;break;case void 0:case"?":case"#":return i+e.substring(l,o)+e.substr(o+1);case".":if(c=e[++o+1],c===void 0||c==="/"||c==="?"||c==="#"){if(i+=e.substring(l,o-2),(l=i.lastIndexOf("/"))>=u&&(i=i.substr(0,l)),c!=="/")return`${i}/${e.substr(o+1)}`;l=o+1}}}c=e[++o]}return i+e.substring(l)}parse(e,n,i){let o,u,l;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(o=n.onQuad,u=n.onPrefix,l=n.onComment):(o=n,u=i),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${$1++}_`,this._prefixCallback=u||Sc,this._inversePredicate=!1,this._quantified=Object.create(null),!o){const g=[];let p;if(this._callback=(v,y)=>{v?p=v:y&&g.push(y)},this._lexer.tokenize(e).every(v=>this._readCallback=this._readCallback(v)),p)throw p;return g}let c=(g,p)=>{g!==null?(this._callback(g),this._callback=Sc):this._readCallback&&(this._readCallback=this._readCallback(p))};l&&(this._lexer.comments=!0,c=(g,p)=>{g!==null?(this._callback(g),this._callback=Sc):this._readCallback&&(p.type==="comment"?l(p.value):this._readCallback=this._readCallback(p))}),this._callback=o,this._lexer.tokenize(e,c)}}function Sc(){}function AT(r,e){r._factory=e,r.DEFAULTGRAPH=e.defaultGraph(),r.RDF_FIRST=e.namedNode(qr.rdf.first),r.RDF_REST=e.namedNode(qr.rdf.rest),r.RDF_NIL=e.namedNode(qr.rdf.nil),r.N3_FORALL=e.namedNode(qr.r.forAll),r.N3_FORSOME=e.namedNode(qr.r.forSome),r.ABBREVIATIONS={a:e.namedNode(qr.rdf.type),"=":e.namedNode(qr.owl.sameAs),">":e.namedNode(qr.log.implies),"<":e.namedNode(qr.log.isImpliedBy)},r.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}AT(xT.prototype,Jn);function om(r){return!!r&&r.termType==="DefaultGraph"}function Oc(r){return r.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const cM=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,fM=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,W1="./",dM="../",dp="?",G1="#";class Fm{constructor(e){this.base=e,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(e.length+1)}static supports(e){return!cM.test(e)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!Fm.supports(this.base))return this._baseMatcher=/.^/;const e=/^[^:]*:\/*/.exec(this.base)[0],n=["^",Oc(e)],i=[],o=[],u=/[^/?#]*([/?#])/y;let l,c=0,g=0,p=u.lastIndex=e.length;for(;!c&&!g&&(l=u.exec(this.base));)l[1]===G1?g=u.lastIndex-1:(n.push(Oc(l[0]),"(?:"),i.push(")?"),l[1]!==dp?o.push(p=u.lastIndex):(c=p=u.lastIndex,g=this.base.indexOf(G1,c),this._pathReplacements[c]=dp));for(let v=0;v<o.length;v++)this._pathReplacements[o[v]]=dM.repeat(o.length-v-1);return this._pathReplacements[o[o.length-1]]=W1,this._baseLength=g>0?g:this.base.length,n.push(Oc(this.base.substring(p,this._baseLength)),c?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...n,...i].join(""))}toRelative(e){const n=this._getBaseMatcher().exec(e);if(!n)return e;const i=n[0].length;if(i===this._baseLength&&i===e.length)return"";const o=this._pathReplacements[i];if(o){const u=e.substring(i);return o!==dp&&!fM.test(u)?e:o===W1&&/^[^?#]/.test(u)?u:o+u}return e.substring(i-1)}}const vu=Jn.defaultGraph(),{rdf:hM,xsd:zo}=qr,Y1=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,J1=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,pM={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class yu extends Qn{equals(e){return e===this}}class Om{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let i="";this._outputStream={write(o,u,l){i+=o,l&&l()},end:o=>{o&&o(null,i)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=vu,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseIri=new Fm(n.baseIRI)))}get _inDefaultGraph(){return vu.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,i,o,u){try{o.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(vu.equals(o)?"":`${this._encodeIriOrBlank(o)} {
`)),this._graph=o,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(i)}`,u):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(i)}`,u):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(i)}`,u)}catch(l){u&&u(l)}}_writeQuadLine(e,n,i,o,u){delete this._prefixMatch,this._write(this.quadToString(e,n,i,o),u)}quadToString(e,n,i,o){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(i)}${o&&o.value?` ${this._encodeIriOrBlank(o)} .
`:` .
`}`}quadsToString(e){let n="";for(const i of e)n+=this.quadToString(i.subject,i.predicate,i.object,i.graph);return n}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseIri&&(n=this._baseIri.toRelative(n)),Y1.test(n)&&(n=n.replace(J1,X1));const i=this._prefixRegex.exec(n);return i?i[1]?this._prefixIRIs[i[1]]+i[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(Y1.test(n)&&(n=n.replace(J1,X1)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===zo.string)return`"${n}"`}else switch(e.datatype.value){case zo.string:return`"${n}"`;case zo.boolean:if(n==="true"||n==="false")return n;break;case zo.integer:if(/^[+-]?\d+$/.test(n))return n;break;case zo.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case zo.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===hM.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:i,graph:o}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(i)}${om(o)?"":` ${this._encodeIriOrBlank(o)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,i,o,u){i===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof o=="function"?this._writeQuad(e,n,i,vu,o):this._writeQuad(e,n,i,o||vu,u)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,i){const o={};o[e]=n,this.addPrefixes(o,i)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let i=!1;for(let o in e){let u=e[o];typeof u!="string"&&(u=u.value),i=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[u]=o+=":",this._write(`@prefix ${o} <${u}>.
`)}if(i){let o="",u="";for(const l in this._prefixIRIs)o+=o?`|${l}`:l,u+=(u?"|":"")+this._prefixIRIs[l];o=Oc(o),this._prefixRegex=new RegExp(`^(?:${u})[^/]*$|^(${o})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(i?`
`:"",n)}blank(e,n){let i=e,o,u;switch(e===void 0?i=[]:e.termType?i=[{predicate:e,object:n}]:"length"in e||(i=[e]),u=i.length){case 0:return new yu("[]");case 1:if(o=i[0],!(o.object instanceof yu))return new yu(`[ ${this._encodePredicate(o.predicate)} ${this._encodeObject(o.object)} ]`);default:let l="[";for(let c=0;c<u;c++)o=i[c],o.predicate.equals(e)?l+=`, ${this._encodeObject(o.object)}`:(l+=`${(c?`;
  `:`
  `)+this._encodePredicate(o.predicate)} ${this._encodeObject(o.object)}`,e=o.predicate);return new yu(`${l}
]`)}}list(e){const n=e&&e.length||0,i=new Array(n);for(let o=0;o<n;o++)i[o]=this._encodeObject(e[o]);return new yu(`(${i.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((i,o)=>{n=null,e(i,o)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function X1(r){let e=pM[r];return e===void 0&&(r.length===1?(e=r.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var TT=PN();const hp=Symbol("iter");function Cu(r,e,n=4){if(n===0)return Object.assign(r,e);for(const i in e)r[i]=Cu(r[i]||Object.create(null),e[i],n-1);return r}function RT(r,e,n=4){let i=!1;for(const o in r)if(o in e){const u=n===0?null:RT(r[o],e[o],n-1);if(u!==!1)i=i||Object.create(null),i[o]=u;else if(n===3)return!1}return i}function DT(r,e,n=4){let i=!1;for(const o in r)if(!(o in e))i=i||Object.create(null),i[o]=n===0?null:Cu({},r[o],n-1);else if(n!==0){const u=DT(r[o],e[o],n-1);if(u!==!1)i=i||Object.create(null),i[o]=u;else if(n===3)return!1}return i}class gM{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||Jn}_termFromId(e){if(e[0]==="."){const n=this._entities,i=e.split(".");return this._factory.quad(this._termFromId(n[i[1]]),this._termFromId(n[i[2]]),this._termFromId(n[i[3]]),i[4]&&this._termFromId(n[i[4]]))}return Su(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),i=this._termToNumericId(e.predicate),o=this._termToNumericId(e.object);let u;return n&&i&&o&&(om(e.graph)||(u=this._termToNumericId(e.graph)))&&this._ids[u?`.${n}.${i}.${o}.${u}`:`.${n}.${i}.${o}`]}return this._ids[Go(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${om(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Go(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(e){let n,i;if(e)for(n=e=`_:${e}`,i=1;this._ids[n];)n=e+i++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class on{constructor(e,n){this._size=0,this._graphs=Object.create(null),!n&&e&&!e[0]&&typeof e.match!="function"&&(n=e,e=null),n=n||{},this._factory=n.factory||Jn,this._entityIndex=n.entityIndex||new gM({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addAll(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let i,o;for(const u in n)for(const l in i=n[u].subjects)for(const c in o=i[l])e+=Object.keys(o[c]).length;return this._size=e}_addToIndex(e,n,i,o){const u=e[n]||(e[n]={}),l=u[i]||(u[i]={}),c=o in l;return c||(l[o]=null),!c}_removeFromIndex(e,n,i,o){const u=e[n],l=u[i];delete l[o];for(const c in l)return;delete u[i];for(const c in u)return;delete e[n]}*_findInIndex(e,n,i,o,u,l,c,g){let p,v,y;const _=this._entities,A=this._termFromId(_[g]),x={subject:null,predicate:null,object:null};n&&((p=e,e={})[n]=p[n]);for(const S in e)if(v=e[S]){x[u]=this._termFromId(_[S]),i&&((p=v,v={})[i]=p[i]);for(const R in v)if(y=v[R]){x[l]=this._termFromId(_[R]);const T=o?o in y?[o]:[]:Object.keys(y);for(let D=0;D<T.length;D++)x[c]=this._termFromId(_[T[D]]),yield this._factory.quad(x.subject,x.predicate,x.object,A)}}}_loop(e,n){for(const i in e)n(i)}_loopByKey0(e,n,i){let o,u;if(o=e[n])for(u in o)i(u)}_loopByKey1(e,n,i){let o,u;for(o in e)u=e[o],u[n]&&i(o)}_loopBy2Keys(e,n,i,o){let u,l,c;if((u=e[n])&&(l=u[i]))for(c in l)o(c)}_countInIndex(e,n,i,o){let u=0,l,c,g;n&&((l=e,e={})[n]=l[n]);for(const p in e)if(c=e[p]){i&&((l=c,c={})[i]=l[i]);for(const v in c)(g=c[v])&&(o?o in g&&u++:u+=Object.keys(g).length)}return u}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const n=Object.create(null);return i=>{i in n||(n[i]=!0,e(this._termFromId(this._entities[i],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,i,o){n||(o=e.graph,i=e.object,n=e.predicate,e=e.subject),o=o?this._termToNewNumericId(o):1;let u=this._graphs[o];return u||(u=this._graphs[o]={subjects:{},predicates:{},objects:{}},Object.freeze(u)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),i=this._termToNewNumericId(i),this._addToIndex(u.subjects,e,n,i)?(this._addToIndex(u.predicates,n,i,e),this._addToIndex(u.objects,i,e,n),this._size=null,!0):!1}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,i,o){return e&&e.subject&&({subject:e,predicate:n,object:i,graph:o}=e),!this.readQuads(e,n,i,o).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,i,o){n||({subject:e,predicate:n,object:i,graph:o}=e),o=o?this._termToNumericId(o):1;const u=this._graphs;let l,c,g;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(i=i&&this._termToNumericId(i))||!(l=u[o])||!(c=l.subjects[e])||!(g=c[n])||!(i in g))return!1;this._removeFromIndex(l.subjects,e,n,i),this._removeFromIndex(l.predicates,n,i,e),this._removeFromIndex(l.objects,i,e,n),this._size!==null&&this._size--;for(e in l.subjects)return!0;return delete u[o],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,i,o){const u=new TT.Readable({objectMode:!0}),l=this.readQuads(e,n,i,o);return u._read=c=>{for(;--c>=0;){const{done:g,value:p}=l.next();if(g){u.push(null);return}u.push(p)}},this.remove(u)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,i,o){return[...this.readQuads(e,n,i,o)]}*readQuads(e,n,i,o){const u=this._getGraphs(o);let l,c,g,p;if(!(e&&!(c=this._termToNumericId(e))||n&&!(g=this._termToNumericId(n))||i&&!(p=this._termToNumericId(i))))for(const v in u)(l=u[v])&&(c?p?yield*this._findInIndex(l.objects,p,c,g,"object","subject","predicate",v):yield*this._findInIndex(l.subjects,c,g,null,"subject","predicate","object",v):g?yield*this._findInIndex(l.predicates,g,p,null,"predicate","object","subject",v):p?yield*this._findInIndex(l.objects,p,null,null,"object","subject","predicate",v):yield*this._findInIndex(l.subjects,null,null,null,"subject","predicate","object",v))}match(e,n,i,o){return new wa(this,e,n,i,o,{entityIndex:this._entityIndex})}countQuads(e,n,i,o){const u=this._getGraphs(o);let l=0,c,g,p,v;if(e&&!(g=this._termToNumericId(e))||n&&!(p=this._termToNumericId(n))||i&&!(v=this._termToNumericId(i)))return 0;for(const y in u)(c=u[y])&&(e?i?l+=this._countInIndex(c.objects,v,g,p):l+=this._countInIndex(c.subjects,g,p,v):n?l+=this._countInIndex(c.predicates,p,v,g):l+=this._countInIndex(c.objects,v,g,p));return l}forEach(e,n,i,o,u){this.some(l=>(e(l,this),!1),n,i,o,u)}every(e,n,i,o,u){return!this.some(l=>!e(l,this),n,i,o,u)}some(e,n,i,o,u){for(const l of this.readQuads(n,i,o,u))if(e(l,this))return!0;return!1}getSubjects(e,n,i){const o=[];return this.forSubjects(u=>{o.push(u)},e,n,i),o}forSubjects(e,n,i,o){const u=this._getGraphs(o);let l,c,g;if(e=this._uniqueEntities(e),!(n&&!(c=this._termToNumericId(n))||i&&!(g=this._termToNumericId(i))))for(o in u)(l=u[o])&&(c?g?this._loopBy2Keys(l.predicates,c,g,e):this._loopByKey1(l.subjects,c,e):g?this._loopByKey0(l.objects,g,e):this._loop(l.subjects,e))}getPredicates(e,n,i){const o=[];return this.forPredicates(u=>{o.push(u)},e,n,i),o}forPredicates(e,n,i,o){const u=this._getGraphs(o);let l,c,g;if(e=this._uniqueEntities(e),!(n&&!(c=this._termToNumericId(n))||i&&!(g=this._termToNumericId(i))))for(o in u)(l=u[o])&&(c?g?this._loopBy2Keys(l.objects,g,c,e):this._loopByKey0(l.subjects,c,e):g?this._loopByKey1(l.predicates,g,e):this._loop(l.predicates,e))}getObjects(e,n,i){const o=[];return this.forObjects(u=>{o.push(u)},e,n,i),o}forObjects(e,n,i,o){const u=this._getGraphs(o);let l,c,g;if(e=this._uniqueEntities(e),!(n&&!(c=this._termToNumericId(n))||i&&!(g=this._termToNumericId(i))))for(o in u)(l=u[o])&&(c?g?this._loopBy2Keys(l.subjects,c,g,e):this._loopByKey1(l.objects,c,e):g?this._loopByKey0(l.predicates,g,e):this._loop(l.objects,e))}getGraphs(e,n,i){const o=[];return this.forGraphs(u=>{o.push(u)},e,n,i),o}forGraphs(e,n,i,o){for(const u in this._graphs)this.some(l=>(e(l.graph),!0),n,i,o,this._termFromId(this._entities[u]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const i={},o=n?()=>!0:(c,g)=>{throw new Error(`${c.value} ${g}`)},u=this.getQuads(null,qr.rdf.rest,qr.rdf.nil,null),l=e?[...u]:[];return u.forEach(c=>{const g=[];let p=!1,v,y;const _=c.graph;let A=c.subject;for(;A&&!p;){const x=this.getQuads(null,null,A,null),S=this.getQuads(A,null,null,null);let R,T=null,D=null,C=null;for(let N=0;N<S.length&&!p;N++)R=S[N],R.graph.equals(_)?v?p=o(A,"has non-list arcs out"):R.predicate.value===qr.rdf.first?T?p=o(A,"has multiple rdf:first arcs"):l.push(T=R):R.predicate.value===qr.rdf.rest?D?p=o(A,"has multiple rdf:rest arcs"):l.push(D=R):x.length?p=o(A,"can't be subject and object"):(v=R,y="subject"):p=o(A,"not confined to single graph");for(let N=0;N<x.length&&!p;++N)R=x[N],v?p=o(A,"can't have coreferences"):R.predicate.value===qr.rdf.rest?C?p=o(A,"has incoming rdf:rest arcs"):C=R:(v=R,y="object");T?g.unshift(T.object):p=o(A,"has no list head"),A=C&&C.subject}p?e=!1:v&&(i[v[y].value]=g)}),e&&this.removeQuads(l),i}addAll(e){if(e instanceof wa&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof on&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=Cu(this._graphs,e._graphs),this._size=null);else for(const n of e)this.add(n);return this}contains(e){if(e instanceof wa&&(e=e.filtered),e===this)return!0;if(!(e instanceof on)||this._entityIndex!==e._entityIndex)return e.every(p=>this.has(p));const n=this._graphs,i=e._graphs;let o,u,l,c,g;for(const p in i){if(!(o=n[p]))return!1;o=o.subjects;for(const v in u=i[p].subjects){if(!(l=o[v]))return!1;for(const y in c=u[v]){if(!(g=l[y]))return!1;for(const _ in c[y])if(!(_ in g))return!1}}}return!0}deleteMatches(e,n,i,o){for(const u of this.match(e,n,i,o))this.removeQuad(u);return this}difference(e){if(e&&e instanceof wa&&(e=e.filtered),e===this)return new on({entityIndex:this._entityIndex});if(e instanceof on&&e._entityIndex===this._entityIndex){const n=new on({entityIndex:this._entityIndex}),i=DT(this._graphs,e._graphs);return i&&(n._graphs=i,n._size=null),n}return this.filter(n=>!e.has(n))}equals(e){return e instanceof wa&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const n=new on({entityIndex:this._entityIndex});for(const i of this)e(i,this)&&n.add(i);return n}intersection(e){if(e instanceof wa&&(e=e.filtered),e===this){const n=new on({entityIndex:this._entityIndex});return n._graphs=Cu(Object.create(null),this._graphs),n._size=this._size,n}else if(e instanceof on&&this._entityIndex===e._entityIndex){const n=new on({entityIndex:this._entityIndex}),i=RT(e._graphs,this._graphs);return i&&(n._graphs=i,n._size=null),n}return this.filter(n=>e.has(n))}map(e){const n=new on({entityIndex:this._entityIndex});for(const i of this)n.add(e(i,this));return n}reduce(e,n){const i=this.readQuads();let o=n===void 0?i.next().value:n;for(const u of i)o=e(o,u,this);return o}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new Om().quadsToString(this)}union(e){const n=new on({entityIndex:this._entityIndex});return n._graphs=Cu(Object.create(null),this._graphs),n._size=this._size,n.addAll(e),n}*[Symbol.iterator](){yield*this.readQuads()}}function ui(r,e,n=0){const i=e[n];if(i&&!(i in r))return!1;let o=!1;for(const u in i?{[i]:r[i]}:r){const l=n===2?null:ui(r[u],e,n+1);l!==!1&&(o=o||Object.create(null),o[u]=l)}return o}class wa extends TT.Readable{constructor(e,n,i,o,u,l){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:i,object:o,graph:u,options:l})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:i,predicate:o,subject:u}=this,l=this._filtered=new on({factory:e._factory,entityIndex:this.options.entityIndex});let c,g,p;if(u&&!(c=l._termToNumericId(u))||o&&!(g=l._termToNumericId(o))||i&&!(p=l._termToNumericId(i)))return l;const v=e._getGraphs(n);for(const y in v){let _,A,x,S;(S=v[y])&&(!c&&g?(A=ui(S.predicates,[g,p,c]))&&(_=ui(S.subjects,[c,g,p]),x=ui(S.objects,[p,c,g])):p?(x=ui(S.objects,[p,c,g]))&&(_=ui(S.subjects,[c,g,p]),A=ui(S.predicates,[g,p,c])):(_=ui(S.subjects,[c,g,p]))&&(A=ui(S.predicates,[g,p,c]),x=ui(S.objects,[p,c,g])),_&&(l._graphs[y]={subjects:_,predicates:A,objects:x}))}l._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[hp]&&(this[hp]=this[Symbol.iterator]());const n=this[hp];for(;--e>=0;){const{done:i,value:o}=n.next();if(i){this.push(null);return}this.push(o)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,n,i,o){return this.filtered.deleteMatches(e,n,i,o)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,n,i,o,u){return this.filtered.every(e,n,i,o,u)}filter(e){return this.filtered.filter(e)}forEach(e,n,i,o,u){return this.filtered.forEach(e,n,i,o,u)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,n,i,o,u){return this.filtered.some(e,n,i,o,u)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,n){return this.filtered.reduce(e,n)}toString(){return new Om().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,i,o){return new wa(this.filtered,e,n,i,o,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}const vM=()=>{const r=[],e=[],n=[];return{onQuad:i=>{r.push(i)},onError:i=>{n.push(i)},onComplete:i=>{e.push(i)},parse:(i,o)=>{yM(Ja(o)).parse(i,(u,l)=>{u?n.forEach(c=>c(u)):l?r.forEach(c=>c(l)):e.forEach(c=>c())})}}};function yM(r){return new xT({format:"text/turtle",baseIRI:r})}async function mM(r,e){const n="text/turtle",i=new Om({format:n,prefixes:void 0}),o=r.map(c=>Jn.quad(c.subject,c.predicate,c.object,void 0));return i.addQuads(o),await new Promise((c,g)=>{i.end((p,v)=>{p?g(p):c(v)})})}const sm="https://inrupt.com/.well-known/sdk-local-node/",{freeze:Rr}=Object;function sf(r){return r.substring(0,sm.length)===sm}function uf(r){return r.substring(sm.length)}function Nm(r){return typeof r=="string"&&r.substring(0,2)==="_:"}function CT(r){return r.substring(2)}function bM(r){return`_:${r.value}`}const _M={langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function Vc(r){return wM(r)&&r.termType==="NamedNode"}function wM(r){return r!==null&&typeof r=="object"&&typeof r.termType=="string"&&typeof r.value=="string"&&typeof r.equals=="function"}function FT(r){const e=ji(r);if(typeof URL!="function")return!0;try{return new URL(e),!0}catch{return!1}}function OT(r,e){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const n=new URL(e);return n.hash=r,n.href}function SM(r,e){var n;if(!["NamedNode","DefaultGraph"].includes(e.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.graph.termType}] as their Graph node.`);const o=e.graph.termType==="DefaultGraph"?"default":e.graph.value,u=(n=r.graphs[o])!==null&&n!==void 0?n:{};return Rr({...r,graphs:Rr({...r.graphs,[o]:EM(u,e)})})}function EM(r,e){var n;if(!["NamedNode","BlankNode"].includes(e.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.subject.termType}] as their Subject node.`);const o=e.subject.termType==="BlankNode"?`_:${e.subject.value}`:e.subject.value,u=(n=r[o])!==null&&n!==void 0?n:{type:"Subject",url:o,predicates:{}};return Rr({...r,[o]:xM(u,e)})}function xM(r,e){return Rr({...r,predicates:AM(r.predicates,e)})}function AM(r,e){var n;if(!["NamedNode"].includes(e.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${e.predicate.termType}] as their Predicate node.`);const o=e.predicate.value,u=(n=r[o])!==null&&n!==void 0?n:{};return Rr({...r,[o]:TM(u,e)})}function TM(r,e){var n,i,o,u,l,c,g,p;if(e.object.termType==="NamedNode"){const v=Rr([...(n=r.namedNodes)!==null&&n!==void 0?n:[],e.object.value]);return Rr({...r,namedNodes:v})}if(e.object.termType==="Literal"){if(e.object.datatype.value===_M.langString){const _=e.object.language.toLowerCase(),A=Rr([...(o=(i=r.langStrings)===null||i===void 0?void 0:i[_])!==null&&o!==void 0?o:[],e.object.value]),x=Rr({...(u=r.langStrings)!==null&&u!==void 0?u:{},[_]:A});return Rr({...r,langStrings:x})}const v=Rr([...(c=(l=r.literals)===null||l===void 0?void 0:l[e.object.datatype.value])!==null&&c!==void 0?c:[],e.object.value]),y=Rr({...(g=r.literals)!==null&&g!==void 0?g:{},[e.object.datatype.value]:v});return Rr({...r,literals:y})}if(e.object.termType==="BlankNode"){const v=Rr([...(p=r.blankNodes)!==null&&p!==void 0?p:[],bM(e.object)]);return Rr({...r,blankNodes:v})}throw new Error(`Objects of type [${e.object.termType}] are not supported.`)}function RM(r,e={}){var n;const i=[],o=(n=e.dataFactory)!==null&&n!==void 0?n:Jn;return Object.keys(r.graphs).forEach(u=>{const l=r.graphs[u],c=u==="default"?o.defaultGraph():o.namedNode(u);Object.keys(l).forEach(g=>{const{predicates:p}=l[g],v=Nm(g)?o.blankNode(CT(g)):o.namedNode(g);i.push(...NT(p,v,c,e))})}),i}function NT(r,e,n,i={}){var o;const u=[],l=(o=i.dataFactory)!==null&&o!==void 0?o:Jn;return Object.keys(r).forEach(c=>{var g,p,v,y;const _=l.namedNode(c),A=(g=r[c].langStrings)!==null&&g!==void 0?g:{},x=(p=r[c].namedNodes)!==null&&p!==void 0?p:[],S=(v=r[c].literals)!==null&&v!==void 0?v:{},R=(y=r[c].blankNodes)!==null&&y!==void 0?y:[];Object.keys(S).forEach(C=>{const N=l.namedNode(C);S[C].forEach(L=>{const j=l.literal(L,N);u.push(l.quad(e,_,j,n))})}),Object.keys(A).forEach(C=>{A[C].forEach(k=>{const L=l.literal(k,C);u.push(l.quad(e,_,L,n))})}),x.forEach(C=>{const N=l.namedNode(C);u.push(l.quad(e,_,N,n))}),R.forEach(C=>{if(Nm(C)){const N=l.blankNode(CT(C));u.push(l.quad(e,_,N,n))}else{const N=l.blankNode(),k=l.quad(e,_,N,n),L=NT(C,N,n);u.push(k),u.push(...L)}})}),u}function DM(r){const e={graphs:{default:{}},type:"Dataset"};return Array.from(r).reduce((n,i)=>SM(n,i),e)}const MT=["Slug","If-None-Match","Content-Type"];function CM(r){return MT.some(e=>r[e]!==void 0)}async function FM(r,e){var n;const i=Xu(ji(r),{trailingSlash:!1}),o=await((n=e==null?void 0:e.fetch)!==null&&n!==void 0?n:fetch)(i,e==null?void 0:e.init);if(us(o)){const g=await o.clone().text();throw new ls(`Fetching the File failed: [${o.status}] [${o.statusText}] ${g}.`,o,g)}const u=Cm(o),l=await o.blob();return Object.assign(l,{internal_resourceInfo:u})}async function OM(r,e,n){const i=Xu(ji(r),{trailingSlash:!0}),o=await kM(i,e,"POST",n);if(us(o)){const p=await o.clone().text();throw new ls(`Saving the file in [${r}] failed: [${o.status}] [${o.statusText}] ${p}.`,o,p)}const u=o.headers.get("Location");if(u===null)throw new Error("Could not determine the location of the newly saved file.");const l=new URL(u,new URL(i).origin).href,c=VN(e),g={internal_resourceInfo:{isRawData:!0,sourceIri:l,contentType:IT(e,n==null?void 0:n.contentType)}};return Object.assign(c,g)}function NM(r){return Array.isArray(r)}function MM(r){return typeof r.forEach=="function"}function IM(r){if(typeof r>"u")return{};let e={};return NM(r)?r.forEach(([n,i])=>{e[n]=i}):MM(r)?r.forEach((n,i)=>{e[i]=n}):e=r,e}async function kM(r,e,n,i={}){var o,u,l;const c=IM((u=(o=i.init)===null||o===void 0?void 0:o.headers)!==null&&u!==void 0?u:{});if(CM(c))throw new Error(`No reserved header (${MT.join(", ")}) should be set in the optional RequestInit.`);return i.slug!==void 0?c.Slug=i.slug:"name"in e&&e.name!==void 0&&(c.Slug=e.name),c["Content-Type"]=IT(e,i.contentType),((l=i.fetch)!==null&&l!==void 0?l:fetch)(r,{...i.init,headers:c,method:n,body:e})}function IT(r,e){if(typeof e=="string")return e;const n=typeof r=="object"&&r!==null&&"type"in r&&typeof r.type=="string"&&r.type.length>0?r.type:void 0;return n??"application/octet-stream"}function PM(r){if(!BM(r))throw new KM(r)}function UM(r,e){var n,i,o;if(PM(r),!FT(e))throw new zM(e);const u=ji(e);return(o=(i=(n=r.predicates[u])===null||n===void 0?void 0:n.namedNodes)===null||i===void 0?void 0:i.map(l=>sf(l)?`#${uf(l)}`:l))!==null&&o!==void 0?o:[]}const Fu=UM;function Mm(r,e,n={}){var i;if(!FT(e)&&!e.match(/^_:/))throw new VM(e);const o=typeof n.scope<"u"?ji(n.scope):"default",u=(i=r.graphs[o])!==null&&i!==void 0?i:{},l=ji(e),c=sf(l)&&qN(r)?OT(uf(l),Ja(r)):l,g=u[c];return typeof g>"u"?null:g}function LM(r,e={acceptBlankNodes:!1}){var n;const i=typeof e.scope<"u"?ji(e.scope):"default",o=(n=r.graphs[i])!==null&&n!==void 0?n:{};return Object.values(o).filter(u=>!Nm(u.url)||e.acceptBlankNodes)}function BM(r){return typeof r=="object"&&r!==null&&typeof r.type=="string"&&r.type==="Subject"}function jM(r,e){if(HM(r)){if(typeof e>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return OT(uf(r.url),e)}return r.url}const qM=jM;function HM(r){return sf(r.url)}class KM extends of{constructor(e){const n=`Expected a Thing, but received: [${e}].`;super(n),this.receivedValue=e}}class zM extends of{constructor(e){const n=Vc(e)?e.value:e,i=`Expected a valid URL to identify a property, but received: [${n}].`;super(i),this.receivedProperty=n}}class VM extends of{constructor(e){const n=Vc(e)?e.value:e,i=`Expected a valid URL to identify a Thing, but received: [${n}].`;super(i),this.receivedValue=n}}function $M(){return Rr({type:"Dataset",graphs:{default:{}}})}async function WM(r,e={}){if(us(r)){const v=await r.clone().text();throw new ls(`Fetching the SolidDataset at [${r.url}] failed: [${r.status}] [${r.statusText}] ${v}.`,r,v)}const n=vT(r),i={"text/turtle":vM(),...e.parsers},o=JN(n);if(o===null)throw new Error(`Could not determine the content type of the Resource at [${Ja(n)}].`);const u=o.split(";")[0],l=i[u];if(typeof l>"u")throw new Error(`The Resource at [${Ja(n)}] has a MIME type of [${u}], but the only parsers available are for the following MIME types: [${Object.keys(i).join(", ")}].`);const c=await r.text(),g=await new Promise((v,y)=>{const _=new on;l.onError(A=>{y(new Error(`Encountered an error parsing the Resource at [${Ja(n)}] with content type [${o}]: ${A}`))}),l.onQuad(A=>{_.add(A)}),l.onComplete(()=>{v(_)}),l.parse(c,n)}),p=Rr(DM(g));return Rr({...p,...n})}async function um(r,e){var n,i;const o=Xu(ji(r)),u=Object.keys((n=e==null?void 0:e.parsers)!==null&&n!==void 0?n:{}),l=u.length>0?u.join(", "):"text/turtle",c=await((i=e==null?void 0:e.fetch)!==null&&i!==void 0?i:fetch)(o,{headers:{Accept:l}});if(us(c)){const p=await c.clone().text();throw new ls(`Fetching the Resource at [${o}] failed: [${c.status}] [${c.statusText}] ${p}.`,c,p)}return await WM(c,e)}async function GM(r,e={}){var n,i;const o=Xu(ji(r),{trailingSlash:!0}),u=await((n=e.fetch)!==null&&n!==void 0?n:fetch)(o,{method:"PUT",body:e.initialContent?await mM(RM(e.initialContent).map(XM)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${gT.BasicContainer}>; rel="type"`}});if(us(u)){const g=e.initialContent===void 0?"empty":"non-empty",p=await u.clone().text();throw new ls(`Creating the ${g} Container at [${r}] failed: [${u.status}] [${u.statusText}] ${p}.`,u,p)}const l=Cm(u);return Rr({...(i=e.initialContent)!==null&&i!==void 0?i:$M(),internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l})}function YM(r,e){const n=new URL(e),i=new URL(r),o=i.href.startsWith(n.href),u=i.pathname.substring(n.pathname.length,i.pathname.length).replace(/(^\/)|(\/$)/g,"");return o&&u.length>=1&&!u.includes("/")}function JM(r){const e=Ja(r),n=Mm(r,e);return n===null?[]:Fu(n,gT.contains).filter(i=>YM(i,e))}function XM(r){const e=Vc(r.subject)?Q1(r.subject):r.subject,n=Vc(r.object)?Q1(r.object):r.object;return Jn.quad(e,r.predicate,n,r.graph)}function Q1(r){return sf(r.value)?Jn.namedNode(`#${uf(r.value)}`):r}function QM(r,e){const n=Mm(e,r),i=LM(e).filter(o=>Fu(o,z1.primaryTopic).length>0).map(qM).concat(n?Fu(n,WN.seeAlso):[]).concat(n?Fu(n,z1.isPrimaryTopicOf):[]).filter(o=>o!==XN(e));return Array.from(new Set(i))}async function ZM(r,e){var n,i;const o=(n=e==null?void 0:e.fetch)!==null&&n!==void 0?n:fetch,u=(i=e==null?void 0:e.webIdProfile)!==null&&i!==void 0?i:await um(r),l=(await Promise.allSettled(QM(r,u).map(c=>um(c,{fetch:o})))).filter(c=>c.status==="fulfilled").map(c=>c.value);return{webIdProfile:u,altProfileAll:l}}async function e3(r,e){const n=await ZM(r,e);return t3(n,r)}function t3(r,e){const n=new Set;return[r.webIdProfile,...r.altProfileAll].forEach(i=>{const o=Mm(i,e);o!==null&&Fu(o,GN.storage).forEach(u=>n.add(u))}),Array.from(n)}function r3({summary:r,dtstart:e,dtend:n,description:i}){return`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
UID:${tf()}
SUMMARY:${r}
DESCRIPTION:${i}
DTSTART:${e}
DTEND:${n}
END:VEVENT
END:VCALENDAR`}async function n3(r,e){const n=await um(e,{fetch:r.fetch}),i=JM(n);console.log("Dataset",n);const o=[];for(const u of i){if(!u.endsWith(".ics"))continue;const c=await(await FM(u,{fetch:r.fetch})).text(),g=i3(c);g.url=u,o.push(g)}return console.log(o),o}function i3(r){const e=r.split(`
`),n={};for(const i of e)i.startsWith("SUMMARY:")&&(n.summary=i.slice(8)),i.startsWith("DTSTART:")&&(n.dtstart=i.slice(8)),i.startsWith("DTEND:")&&(n.dtend=i.slice(6));return n.icsText=r,n}async function a3({session:r,containerUrl:e,eventData:n}){const i=new Blob([r3(n)],{type:"text/calendar"});await OM(e,i,{slug:`${n.summary.replace(/\s+/g,"_")}-${Date.now()}.ics`,contentType:"text/calendar",fetch:r.fetch})}async function o3(r,e){try{await YN(e,{fetch:r.fetch})}catch(n){if(n.statusCode===404)await GM(e,{fetch:r.fetch});else throw n}}function s3({session:r,podUrl:e,onEventSaved:n}){const[i,o]=dt.useState(""),[u,l]=dt.useState(""),[c,g]=dt.useState(""),p=async v=>{v.preventDefault(),await a3({session:r,containerUrl:e,eventData:{summary:i,dtstart:u,dtend:c,description:""}}),o(""),l(""),g(""),n()};return pr.jsxs("form",{onSubmit:p,children:[pr.jsx("input",{placeholder:"Event title",value:i,onChange:v=>o(v.target.value),required:!0}),pr.jsx("input",{type:"datetime-local",value:u,onChange:v=>l(v.target.value),required:!0}),pr.jsx("input",{type:"datetime-local",value:c,onChange:v=>g(v.target.value),required:!0}),pr.jsx("button",{type:"submit",children:"Add Event"})]})}function qi(r){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(r)}function u3(r,e){if(qi(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,e);if(qi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kT(r){var e=u3(r,"string");return qi(e)=="symbol"?e:e+""}function Ga(r,e,n){return(e=kT(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Z1(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,i)}return n}function Jt(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(i){Ga(r,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(n,i))})}return r}function lf(r,e){if(r==null)return{};var n={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;n[i]=r[i]}return n}function gi(r,e){if(r==null)return{};var n,i,o=lf(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(i=0;i<u.length;i++)n=u[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(r,n)&&(o[n]=r[n])}return o}function Dr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function eS(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,kT(i.key),i)}}function Cr(r,e,n){return e&&eS(r.prototype,e),n&&eS(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function $c(r){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(r)}function PT(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!r})()}function l3(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function c3(r,e){if(e&&(qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l3(r)}function Yr(r,e,n){return e=$c(e),c3(r,PT()?Reflect.construct(e,n||[],$c(r).constructor):e.apply(r,n))}function Wc(r,e){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wc(r,e)}function Jr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Wc(r,e)}function UT(r){if(Array.isArray(r))return r}function f3(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var i,o,u,l,c=[],g=!0,p=!1;try{if(u=(n=n.call(r)).next,e!==0)for(;!(g=(i=u.call(n)).done)&&(c.push(i.value),c.length!==e);g=!0);}catch(v){p=!0,o=v}finally{try{if(!g&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(p)throw o}}return c}}function lm(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,i=Array(e);n<e;n++)i[n]=r[n];return i}function Im(r,e){if(r){if(typeof r=="string")return lm(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(r,e):void 0}}function LT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Za(r,e){return UT(r)||f3(r,e)||Im(r,e)||LT()}function BT(r){var e,n,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(n=BT(r[e]))&&(i&&(i+=" "),i+=n);else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function vr(){for(var r,e,n=0,i="";n<arguments.length;)(r=arguments[n++])&&(e=BT(r))&&(i&&(i+=" "),i+=e);return i}function gr(){return gr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},gr.apply(null,arguments)}var pp,tS;function d3(){if(tS)return pp;tS=1;var r=function(e,n,i,o,u,l,c,g){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[i,o,u,l,c,g],y=0;p=new Error(n.replace(/%s/g,function(){return v[y++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return pp=r,pp}var h3=d3();const ku=zr(h3);var p3=function(){};function g3(r,e){var n={};return Object.keys(r).forEach(function(i){n[Nc(i)]=p3}),n}function rS(r,e){return r[e]!==void 0}function Nc(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function v3(r){return!!r&&(typeof r!="function"||r.prototype&&r.prototype.isReactComponent)}function y3(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Wc(r,e)}function jT(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function qT(r){function e(n){var i=this.constructor.getDerivedStateFromProps(r,n);return i??null}this.setState(e.bind(this))}function HT(r,e){try{var n=this.props,i=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}jT.__suppressDeprecationWarning=!0;qT.__suppressDeprecationWarning=!0;HT.__suppressDeprecationWarning=!0;function m3(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var n=null,i=null,o=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||i!==null||o!==null){var u=r.displayName||r.name,l=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=jT,e.componentWillReceiveProps=qT),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=HT;var c=e.componentDidUpdate;e.componentDidUpdate=function(p,v,y){var _=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;c.call(this,p,v,_)}}return r}var b3="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function KT(r,e,n){n===void 0&&(n=[]);var i=r.displayName||r.name||"Component",o=v3(r),u=Object.keys(e),l=u.map(Nc);o||!n.length||ku(!1);var c=function(p){y3(v,p);function v(){for(var _,A=arguments.length,x=new Array(A),S=0;S<A;S++)x[S]=arguments[S];_=p.call.apply(p,[this].concat(x))||this,_.handlers=Object.create(null),u.forEach(function(T){var D=e[T],C=function(k){if(_.props[D]){var L;_._notifying=!0;for(var j=arguments.length,X=new Array(j>1?j-1:0),re=1;re<j;re++)X[re-1]=arguments[re];(L=_.props)[D].apply(L,[k].concat(X)),_._notifying=!1}_.unmounted||_.setState(function(B){var Y,me=B.values;return{values:gr(Object.create(null),me,(Y={},Y[T]=k,Y))}})};_.handlers[D]=C}),n.length&&(_.attachRef=function(T){_.inner=T});var R=Object.create(null);return u.forEach(function(T){R[T]=_.props[Nc(T)]}),_.state={values:R,prevProps:{}},_}var y=v.prototype;return y.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(A,x){var S=x.values,R=x.prevProps,T={values:gr(Object.create(null),S),prevProps:{}};return u.forEach(function(D){T.prevProps[D]=A[D],!rS(A,D)&&rS(R,D)&&(T.values[D]=A[Nc(D)])}),T},y.componentWillUnmount=function(){this.unmounted=!0},y.render=function(){var A=this,x=this.props,S=x.innerRef,R=lf(x,["innerRef"]);l.forEach(function(D){delete R[D]});var T={};return u.forEach(function(D){var C=A.props[D];T[D]=C!==void 0?C:A.state.values[D]}),De.createElement(r,gr({},R,T,this.handlers,{ref:S||this.attachRef}))},v}(De.Component);m3(c),c.displayName="Uncontrolled("+i+")",c.propTypes=gr({innerRef:function(){}},g3(e)),n.forEach(function(p){c.prototype[p]=function(){var y;return(y=this.inner)[p].apply(y,arguments)}});var g=c;return De.forwardRef&&(g=De.forwardRef(function(p,v){return De.createElement(c,gr({},p,{innerRef:v,__source:{fileName:b3,lineNumber:128},__self:this}))}),g.propTypes=c.propTypes),g.ControlledComponent=r,g.deferControlTo=function(p,v,y){return v===void 0&&(v={}),KT(p,gr({},e,v),y)},g}var gp={exports:{}},vp,nS;function _3(){if(nS)return vp;nS=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=r,vp}var yp,iS;function w3(){if(iS)return yp;iS=1;var r=_3();function e(){}function n(){}return n.resetWarningCache=e,yp=function(){function i(l,c,g,p,v,y){if(y!==r){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function o(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},yp}var aS;function S3(){return aS||(aS=1,gp.exports=w3()()),gp.exports}var E3=S3();const ot=zr(E3);var Gc="milliseconds",Pu="seconds",Uu="minutes",Lu="hours",eo="day",Qo="week",Bu="month",to="year",ro="decade",no="century",zT={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},x3={month:1,year:12,decade:10*12,century:100*12};function A3(r){return[31,T3(r),31,30,31,30,31,31,30,31,30,31]}function T3(r){return r%4===0&&r%100!==0||r%400===0?29:28}function Xn(r,e,n){switch(r=new Date(r),n){case Gc:case Pu:case Uu:case Lu:case eo:case Qo:return R3(r,e*zT[n]);case Bu:case to:case ro:case no:return D3(r,e*x3[n])}throw new TypeError('Invalid units: "'+n+'"')}function R3(r,e){var n=new Date(+r+e);return C3(r,n)}function D3(r,e){var n=r.getFullYear(),i=r.getMonth(),o=r.getDate(),u=n*12+i+e,l=Math.trunc(u/12),c=u%12,g=Math.min(o,A3(l)[c]),p=new Date(r);return p.setFullYear(l),p.setDate(1),p.setMonth(c),p.setDate(g),p}function C3(r,e){var n=r.getTimezoneOffset(),i=e.getTimezoneOffset(),o=i-n;return new Date(+e+o*zT.minutes)}function ju(r,e,n){return Xn(r,-e,n)}function Kr(r,e,n){switch(r=new Date(r),e){case no:case ro:case to:r=Jc(r,0);case Bu:r=YT(r,1);case Qo:case eo:r=Ku(r,0);case Lu:r=Zo(r,0);case Uu:r=Hu(r,0);case Pu:r=qu(r,0)}return e===ro&&(r=ju(r,io(r)%10,"year")),e===no&&(r=ju(r,io(r)%100,"year")),e===Qo&&(r=JT(r,0,n)),r}function Yc(r,e,n){switch(r=new Date(r),r=Kr(r,e,n),e){case no:case ro:case to:case Bu:case Qo:r=Xn(r,1,e),r=ju(r,1,eo),r.setHours(23,59,59,999);break;case eo:r.setHours(23,59,59,999);break;case Lu:case Uu:case Pu:r=Xn(r,1,e),r=ju(r,1,Gc)}return r}var fs=hs(function(r,e){return r===e}),km=hs(function(r,e){return r!==e}),cf=hs(function(r,e){return r>e}),Qu=hs(function(r,e){return r>=e}),Pm=hs(function(r,e){return r<e}),ds=hs(function(r,e){return r<=e});function VT(){return new Date(Math.min.apply(Math,arguments))}function $T(){return new Date(Math.max.apply(Math,arguments))}function WT(r,e,n,i){return i=i||"day",(!e||Qu(r,e,i))&&(!n||ds(r,n,i))}var qu=Aa("Milliseconds"),Hu=Aa("Seconds"),Zo=Aa("Minutes"),Ku=Aa("Hours"),GT=Aa("Day"),YT=Aa("Date"),Jc=Aa("Month"),io=Aa("FullYear");function F3(r,e){return e===void 0?io(Kr(r,ro)):Xn(r,e+10,to)}function O3(r,e){return e===void 0?io(Kr(r,no)):Xn(r,e+100,to)}function JT(r,e,n){var i=(GT(r)+7-(n||0))%7;return e===void 0?i:Xn(r,e-i,eo)}function N3(r,e,n,i){var o,u,l;switch(n){case Gc:case Pu:case Uu:case Lu:case eo:case Qo:o=e.getTime()-r.getTime();break;case Bu:case to:case ro:case no:o=(io(e)-io(r))*12+Jc(e)-Jc(r);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Gc:u=1;break;case Pu:u=1e3;break;case Uu:u=1e3*60;break;case Lu:u=1e3*60*60;break;case eo:u=1e3*60*60*24;break;case Qo:u=1e3*60*60*24*7;break;case Bu:u=1;break;case to:u=12;break;case ro:u=120;break;case no:u=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return l=o/u,i?l:Math.round(l)}function Aa(r){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(r);return function(n,i){if(i===void 0)return n["get"+r]();var o=new Date(n);return o["set"+r](i),e&&o["get"+r]()!=i&&(r==="Hours"||i>=e&&o.getHours()-n.getHours()<Math.floor(i/e))&&o["set"+r](i+e),o}}function hs(r){return function(e,n,i){return r(+Kr(e,i),+Kr(n,i))}}const oS=Object.freeze(Object.defineProperty({__proto__:null,add:Xn,century:O3,date:YT,day:GT,decade:F3,diff:N3,endOf:Yc,eq:fs,gt:cf,gte:Qu,hours:Ku,inRange:WT,lt:Pm,lte:ds,max:$T,milliseconds:qu,min:VT,minutes:Zo,month:Jc,neq:km,seconds:Hu,startOf:Kr,subtract:ju,weekday:JT,year:io},Symbol.toStringTag,{value:"Module"}));function M3(r){if(Array.isArray(r))return lm(r)}function XT(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function I3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mc(r){return M3(r)||XT(r)||Im(r)||I3()}var mp,sS;function QT(){if(sS)return mp;sS=1;function r(e,n,i){var o=-1,u=e.length;n<0&&(n=-n>u?0:u+n),i=i>u?u:i,i<0&&(i+=u),u=n>i?0:i-n>>>0,n>>>=0;for(var l=Array(u);++o<u;)l[o]=e[o+n];return l}return mp=r,mp}var bp,uS;function Zu(){if(uS)return bp;uS=1;function r(e,n){return e===n||e!==e&&n!==n}return bp=r,bp}var _p,lS;function ZT(){if(lS)return _p;lS=1;var r=typeof pc=="object"&&pc&&pc.Object===Object&&pc;return _p=r,_p}var wp,cS;function vi(){if(cS)return wp;cS=1;var r=ZT(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return wp=n,wp}var Sp,fS;function ps(){if(fS)return Sp;fS=1;var r=vi(),e=r.Symbol;return Sp=e,Sp}var Ep,dS;function k3(){if(dS)return Ep;dS=1;var r=ps(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,o=r?r.toStringTag:void 0;function u(l){var c=n.call(l,o),g=l[o];try{l[o]=void 0;var p=!0}catch{}var v=i.call(l);return p&&(c?l[o]=g:delete l[o]),v}return Ep=u,Ep}var xp,hS;function P3(){if(hS)return xp;hS=1;var r=Object.prototype,e=r.toString;function n(i){return e.call(i)}return xp=n,xp}var Ap,pS;function gs(){if(pS)return Ap;pS=1;var r=ps(),e=k3(),n=P3(),i="[object Null]",o="[object Undefined]",u=r?r.toStringTag:void 0;function l(c){return c==null?c===void 0?o:i:u&&u in Object(c)?e(c):n(c)}return Ap=l,Ap}var Tp,gS;function $i(){if(gS)return Tp;gS=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Tp=r,Tp}var Rp,vS;function Um(){if(vS)return Rp;vS=1;var r=gs(),e=$i(),n="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",u="[object Proxy]";function l(c){if(!e(c))return!1;var g=r(c);return g==i||g==o||g==n||g==u}return Rp=l,Rp}var Dp,yS;function Lm(){if(yS)return Dp;yS=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return Dp=e,Dp}var Cp,mS;function el(){if(mS)return Cp;mS=1;var r=Um(),e=Lm();function n(i){return i!=null&&e(i.length)&&!r(i)}return Cp=n,Cp}var Fp,bS;function Bm(){if(bS)return Fp;bS=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,o){var u=typeof i;return o=o??r,!!o&&(u=="number"||u!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<o}return Fp=n,Fp}var Op,_S;function ff(){if(_S)return Op;_S=1;var r=Zu(),e=el(),n=Bm(),i=$i();function o(u,l,c){if(!i(c))return!1;var g=typeof l;return(g=="number"?e(c)&&n(l,c.length):g=="string"&&l in c)?r(c[l],u):!1}return Op=o,Op}var Np,wS;function U3(){if(wS)return Np;wS=1;var r=/\s/;function e(n){for(var i=n.length;i--&&r.test(n.charAt(i)););return i}return Np=e,Np}var Mp,SS;function L3(){if(SS)return Mp;SS=1;var r=U3(),e=/^\s+/;function n(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return Mp=n,Mp}var Ip,ES;function Ta(){if(ES)return Ip;ES=1;function r(e){return e!=null&&typeof e=="object"}return Ip=r,Ip}var kp,xS;function tl(){if(xS)return kp;xS=1;var r=gs(),e=Ta(),n="[object Symbol]";function i(o){return typeof o=="symbol"||e(o)&&r(o)==n}return kp=i,kp}var Pp,AS;function B3(){if(AS)return Pp;AS=1;var r=L3(),e=$i(),n=tl(),i=NaN,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function g(p){if(typeof p=="number")return p;if(n(p))return i;if(e(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=e(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=r(p);var y=u.test(p);return y||l.test(p)?c(p.slice(2),y?2:8):o.test(p)?i:+p}return Pp=g,Pp}var Up,TS;function eR(){if(TS)return Up;TS=1;var r=B3(),e=1/0,n=17976931348623157e292;function i(o){if(!o)return o===0?o:0;if(o=r(o),o===e||o===-1/0){var u=o<0?-1:1;return u*n}return o===o?o:0}return Up=i,Up}var Lp,RS;function tR(){if(RS)return Lp;RS=1;var r=eR();function e(n){var i=r(n),o=i%1;return i===i?o?i-o:i:0}return Lp=e,Lp}var Bp,DS;function j3(){if(DS)return Bp;DS=1;var r=QT(),e=ff(),n=tR(),i=Math.ceil,o=Math.max;function u(l,c,g){(g?e(l,c,g):c===void 0)?c=1:c=o(n(c),0);var p=l==null?0:l.length;if(!p||c<1)return[];for(var v=0,y=0,_=Array(i(p/c));v<p;)_[y++]=r(l,v,v+=c);return _}return Bp=u,Bp}var q3=j3();const H3=zr(q3);function rl(r){return r&&r.ownerDocument||document}function K3(r){var e=rl(r);return e&&e.defaultView||window}function z3(r,e){return K3(r).getComputedStyle(r,e)}var V3=/([A-Z])/g;function $3(r){return r.replace(V3,"-$1").toLowerCase()}var W3=/^ms-/;function Ec(r){return $3(r).replace(W3,"-ms-")}var G3=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Y3(r){return!!(r&&G3.test(r))}function Wo(r,e){var n="",i="";if(typeof e=="string")return r.style.getPropertyValue(Ec(e))||z3(r).getPropertyValue(Ec(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?r.style.removeProperty(Ec(o)):Y3(o)?i+=o+"("+u+") ":n+=Ec(o)+": "+u+";"}),i&&(n+="transform: "+i+";"),r.style.cssText+=";"+n}function zu(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}function J3(r){return"nodeType"in r&&r.nodeType===document.DOCUMENT_NODE}function jm(r){return"window"in r&&r.window===r?r:J3(r)&&r.defaultView||!1}function rR(r){var e=r==="pageXOffset"?"scrollLeft":"scrollTop";function n(i,o){var u=jm(i);if(o===void 0)return u?u[r]:i[e];u?u.scrollTo(u[r],o):i[e]=o}return n}const nR=rR("pageXOffset"),iR=rR("pageYOffset");function Xa(r){var e=rl(r),n={top:0,left:0,height:0,width:0},i=e&&e.documentElement;return!i||!zu(i,r)||(r.getBoundingClientRect!==void 0&&(n=r.getBoundingClientRect()),n={top:n.top+iR(i)-(i.clientTop||0),left:n.left+nR(i)-(i.clientLeft||0),width:n.width,height:n.height}),n}var X3=function(e){return!!e&&"offsetParent"in e};function Q3(r){for(var e=rl(r),n=r&&r.offsetParent;X3(n)&&n.nodeName!=="HTML"&&Wo(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var Z3=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function aR(r,e){var n={top:0,left:0},i;if(Wo(r,"position")==="fixed")i=r.getBoundingClientRect();else{var o=e||Q3(r);i=Xa(r),Z3(o)!=="html"&&(n=Xa(o));var u=String(Wo(o,"borderTopWidth")||0);n.top+=parseInt(u,10)-iR(o)||0;var l=String(Wo(o,"borderLeftWidth")||0);n.left+=parseInt(l,10)-nR(o)||0}var c=String(Wo(r,"marginTop")||0),g=String(Wo(r,"marginLeft")||0);return gr({},i,{top:i.top-n.top-(parseInt(c,10)||0),left:i.left-n.left-(parseInt(g,10)||0)})}const qm=!!(typeof window<"u"&&window.document&&window.document.createElement);var CS=new Date().getTime();function eI(r){var e=new Date().getTime(),n=Math.max(0,16-(e-CS)),i=setTimeout(r,n);return CS=e,i}var tI=["","webkit","moz","o","ms"],cm="clearTimeout",fm=eI,FS=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};qm&&tI.some(function(r){var e=FS(r,"request");return e in window&&(cm=FS(r,"cancel"),fm=function(i){return window[e](i)}),!!fm});var OS=function(e){typeof window[cm]=="function"&&window[cm](e)},oR=fm,jp;function rI(r,e){if(!jp){var n=document.body,i=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;jp=function(u,l){return i.call(u,l)}}return jp(r,e)}var nI=Function.prototype.bind.call(Function.prototype.call,[].slice);function iI(r,e){return nI(r.querySelectorAll(e))}var dm=!1,hm=!1;try{var qp={get passive(){return dm=!0},get once(){return hm=dm=!0}};qm&&(window.addEventListener("test",qp,qp),window.removeEventListener("test",qp,!0))}catch{}function aI(r,e,n,i){if(i&&typeof i!="boolean"&&!hm){var o=i.once,u=i.capture,l=n;!hm&&o&&(l=n.__once||function c(g){this.removeEventListener(e,c,u),n.call(this,g)},n.__once=l),r.addEventListener(e,l,dm?i:u)}r.addEventListener(e,n,i)}function oI(r){const e=dt.useRef(r);return dt.useEffect(()=>{e.current=r},[r]),e}function NS(r){const e=oI(r);return dt.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function MS(){return dt.useState(null)}function sI(){const r=dt.useRef(!0),e=dt.useRef(()=>r.current);return dt.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function uI(r){const e=sI();return[r[0],dt.useCallback(n=>{if(e())return r[1](n)},[e,r[1]])]}var ln="top",Nn="bottom",Mn="right",cn="left",Hm="auto",nl=[ln,Nn,Mn,cn],es="start",Vu="end",lI="clippingParents",sR="viewport",mu="popper",cI="reference",IS=nl.reduce(function(r,e){return r.concat([e+"-"+es,e+"-"+Vu])},[]),Km=[].concat(nl,[Hm]).reduce(function(r,e){return r.concat([e,e+"-"+es,e+"-"+Vu])},[]),fI="beforeRead",dI="read",hI="afterRead",pI="beforeMain",gI="main",vI="afterMain",yI="beforeWrite",mI="write",bI="afterWrite",_I=[fI,dI,hI,pI,gI,vI,yI,mI,bI];function hi(r){return r.split("-")[0]}function Sn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function ao(r){var e=Sn(r).Element;return r instanceof e||r instanceof Element}function pi(r){var e=Sn(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function zm(r){if(typeof ShadowRoot>"u")return!1;var e=Sn(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}var Qa=Math.max,Xc=Math.min,ts=Math.round;function pm(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function uR(){return!/^((?!chrome|android).)*safari/i.test(pm())}function rs(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=r.getBoundingClientRect(),o=1,u=1;e&&pi(r)&&(o=r.offsetWidth>0&&ts(i.width)/r.offsetWidth||1,u=r.offsetHeight>0&&ts(i.height)/r.offsetHeight||1);var l=ao(r)?Sn(r):window,c=l.visualViewport,g=!uR()&&n,p=(i.left+(g&&c?c.offsetLeft:0))/o,v=(i.top+(g&&c?c.offsetTop:0))/u,y=i.width/o,_=i.height/u;return{width:y,height:_,top:v,right:p+y,bottom:v+_,left:p,x:p,y:v}}function Vm(r){var e=rs(r),n=r.offsetWidth,i=r.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:r.offsetLeft,y:r.offsetTop,width:n,height:i}}function lR(r,e){var n=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(n&&zm(n)){var i=e;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Sa(r){return r?(r.nodeName||"").toLowerCase():null}function Hi(r){return Sn(r).getComputedStyle(r)}function wI(r){return["table","td","th"].indexOf(Sa(r))>=0}function Ra(r){return((ao(r)?r.ownerDocument:r.document)||window.document).documentElement}function df(r){return Sa(r)==="html"?r:r.assignedSlot||r.parentNode||(zm(r)?r.host:null)||Ra(r)}function kS(r){return!pi(r)||Hi(r).position==="fixed"?null:r.offsetParent}function SI(r){var e=/firefox/i.test(pm()),n=/Trident/i.test(pm());if(n&&pi(r)){var i=Hi(r);if(i.position==="fixed")return null}var o=df(r);for(zm(o)&&(o=o.host);pi(o)&&["html","body"].indexOf(Sa(o))<0;){var u=Hi(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||e&&u.willChange==="filter"||e&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function il(r){for(var e=Sn(r),n=kS(r);n&&wI(n)&&Hi(n).position==="static";)n=kS(n);return n&&(Sa(n)==="html"||Sa(n)==="body"&&Hi(n).position==="static")?e:n||SI(r)||e}function $m(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Ou(r,e,n){return Qa(r,Xc(e,n))}function EI(r,e,n){var i=Ou(r,e,n);return i>n?n:i}function cR(){return{top:0,right:0,bottom:0,left:0}}function fR(r){return Object.assign({},cR(),r)}function dR(r,e){return e.reduce(function(n,i){return n[i]=r,n},{})}var xI=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,fR(typeof e!="number"?e:dR(e,nl))};function AI(r){var e,n=r.state,i=r.name,o=r.options,u=n.elements.arrow,l=n.modifiersData.popperOffsets,c=hi(n.placement),g=$m(c),p=[cn,Mn].indexOf(c)>=0,v=p?"height":"width";if(!(!u||!l)){var y=xI(o.padding,n),_=Vm(u),A=g==="y"?ln:cn,x=g==="y"?Nn:Mn,S=n.rects.reference[v]+n.rects.reference[g]-l[g]-n.rects.popper[v],R=l[g]-n.rects.reference[g],T=il(u),D=T?g==="y"?T.clientHeight||0:T.clientWidth||0:0,C=S/2-R/2,N=y[A],k=D-_[v]-y[x],L=D/2-_[v]/2+C,j=Ou(N,L,k),X=g;n.modifiersData[i]=(e={},e[X]=j,e.centerOffset=j-L,e)}}function TI(r){var e=r.state,n=r.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||lR(e.elements.popper,o)&&(e.elements.arrow=o))}const RI={name:"arrow",enabled:!0,phase:"main",fn:AI,effect:TI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ns(r){return r.split("-")[1]}var DI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CI(r,e){var n=r.x,i=r.y,o=e.devicePixelRatio||1;return{x:ts(n*o)/o||0,y:ts(i*o)/o||0}}function PS(r){var e,n=r.popper,i=r.popperRect,o=r.placement,u=r.variation,l=r.offsets,c=r.position,g=r.gpuAcceleration,p=r.adaptive,v=r.roundOffsets,y=r.isFixed,_=l.x,A=_===void 0?0:_,x=l.y,S=x===void 0?0:x,R=typeof v=="function"?v({x:A,y:S}):{x:A,y:S};A=R.x,S=R.y;var T=l.hasOwnProperty("x"),D=l.hasOwnProperty("y"),C=cn,N=ln,k=window;if(p){var L=il(n),j="clientHeight",X="clientWidth";if(L===Sn(n)&&(L=Ra(n),Hi(L).position!=="static"&&c==="absolute"&&(j="scrollHeight",X="scrollWidth")),L=L,o===ln||(o===cn||o===Mn)&&u===Vu){N=Nn;var re=y&&L===k&&k.visualViewport?k.visualViewport.height:L[j];S-=re-i.height,S*=g?1:-1}if(o===cn||(o===ln||o===Nn)&&u===Vu){C=Mn;var B=y&&L===k&&k.visualViewport?k.visualViewport.width:L[X];A-=B-i.width,A*=g?1:-1}}var Y=Object.assign({position:c},p&&DI),me=v===!0?CI({x:A,y:S},Sn(n)):{x:A,y:S};if(A=me.x,S=me.y,g){var ne;return Object.assign({},Y,(ne={},ne[N]=D?"0":"",ne[C]=T?"0":"",ne.transform=(k.devicePixelRatio||1)<=1?"translate("+A+"px, "+S+"px)":"translate3d("+A+"px, "+S+"px, 0)",ne))}return Object.assign({},Y,(e={},e[N]=D?S+"px":"",e[C]=T?A+"px":"",e.transform="",e))}function FI(r){var e=r.state,n=r.options,i=n.gpuAcceleration,o=i===void 0?!0:i,u=n.adaptive,l=u===void 0?!0:u,c=n.roundOffsets,g=c===void 0?!0:c,p={placement:hi(e.placement),variation:ns(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,PS(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,PS(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const OI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FI,data:{}};var xc={passive:!0};function NI(r){var e=r.state,n=r.instance,i=r.options,o=i.scroll,u=o===void 0?!0:o,l=i.resize,c=l===void 0?!0:l,g=Sn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return u&&p.forEach(function(v){v.addEventListener("scroll",n.update,xc)}),c&&g.addEventListener("resize",n.update,xc),function(){u&&p.forEach(function(v){v.removeEventListener("scroll",n.update,xc)}),c&&g.removeEventListener("resize",n.update,xc)}}const MI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:NI,data:{}};var II={left:"right",right:"left",bottom:"top",top:"bottom"};function Ic(r){return r.replace(/left|right|bottom|top/g,function(e){return II[e]})}var kI={start:"end",end:"start"};function US(r){return r.replace(/start|end/g,function(e){return kI[e]})}function Wm(r){var e=Sn(r),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Gm(r){return rs(Ra(r)).left+Wm(r).scrollLeft}function PI(r,e){var n=Sn(r),i=Ra(r),o=n.visualViewport,u=i.clientWidth,l=i.clientHeight,c=0,g=0;if(o){u=o.width,l=o.height;var p=uR();(p||!p&&e==="fixed")&&(c=o.offsetLeft,g=o.offsetTop)}return{width:u,height:l,x:c+Gm(r),y:g}}function UI(r){var e,n=Ra(r),i=Wm(r),o=(e=r.ownerDocument)==null?void 0:e.body,u=Qa(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=Qa(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-i.scrollLeft+Gm(r),g=-i.scrollTop;return Hi(o||n).direction==="rtl"&&(c+=Qa(n.clientWidth,o?o.clientWidth:0)-u),{width:u,height:l,x:c,y:g}}function Ym(r){var e=Hi(r),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function hR(r){return["html","body","#document"].indexOf(Sa(r))>=0?r.ownerDocument.body:pi(r)&&Ym(r)?r:hR(df(r))}function Nu(r,e){var n;e===void 0&&(e=[]);var i=hR(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),u=Sn(i),l=o?[u].concat(u.visualViewport||[],Ym(i)?i:[]):i,c=e.concat(l);return o?c:c.concat(Nu(df(l)))}function gm(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function LI(r,e){var n=rs(r,!1,e==="fixed");return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function LS(r,e,n){return e===sR?gm(PI(r,n)):ao(e)?LI(e,n):gm(UI(Ra(r)))}function BI(r){var e=Nu(df(r)),n=["absolute","fixed"].indexOf(Hi(r).position)>=0,i=n&&pi(r)?il(r):r;return ao(i)?e.filter(function(o){return ao(o)&&lR(o,i)&&Sa(o)!=="body"}):[]}function jI(r,e,n,i){var o=e==="clippingParents"?BI(r):[].concat(e),u=[].concat(o,[n]),l=u[0],c=u.reduce(function(g,p){var v=LS(r,p,i);return g.top=Qa(v.top,g.top),g.right=Xc(v.right,g.right),g.bottom=Xc(v.bottom,g.bottom),g.left=Qa(v.left,g.left),g},LS(r,l,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function pR(r){var e=r.reference,n=r.element,i=r.placement,o=i?hi(i):null,u=i?ns(i):null,l=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,g;switch(o){case ln:g={x:l,y:e.y-n.height};break;case Nn:g={x:l,y:e.y+e.height};break;case Mn:g={x:e.x+e.width,y:c};break;case cn:g={x:e.x-n.width,y:c};break;default:g={x:e.x,y:e.y}}var p=o?$m(o):null;if(p!=null){var v=p==="y"?"height":"width";switch(u){case es:g[p]=g[p]-(e[v]/2-n[v]/2);break;case Vu:g[p]=g[p]+(e[v]/2-n[v]/2);break}}return g}function $u(r,e){e===void 0&&(e={});var n=e,i=n.placement,o=i===void 0?r.placement:i,u=n.strategy,l=u===void 0?r.strategy:u,c=n.boundary,g=c===void 0?lI:c,p=n.rootBoundary,v=p===void 0?sR:p,y=n.elementContext,_=y===void 0?mu:y,A=n.altBoundary,x=A===void 0?!1:A,S=n.padding,R=S===void 0?0:S,T=fR(typeof R!="number"?R:dR(R,nl)),D=_===mu?cI:mu,C=r.rects.popper,N=r.elements[x?D:_],k=jI(ao(N)?N:N.contextElement||Ra(r.elements.popper),g,v,l),L=rs(r.elements.reference),j=pR({reference:L,element:C,placement:o}),X=gm(Object.assign({},C,j)),re=_===mu?X:L,B={top:k.top-re.top+T.top,bottom:re.bottom-k.bottom+T.bottom,left:k.left-re.left+T.left,right:re.right-k.right+T.right},Y=r.modifiersData.offset;if(_===mu&&Y){var me=Y[o];Object.keys(B).forEach(function(ne){var ke=[Mn,Nn].indexOf(ne)>=0?1:-1,Ve=[ln,Nn].indexOf(ne)>=0?"y":"x";B[ne]+=me[Ve]*ke})}return B}function qI(r,e){e===void 0&&(e={});var n=e,i=n.placement,o=n.boundary,u=n.rootBoundary,l=n.padding,c=n.flipVariations,g=n.allowedAutoPlacements,p=g===void 0?Km:g,v=ns(i),y=v?c?IS:IS.filter(function(x){return ns(x)===v}):nl,_=y.filter(function(x){return p.indexOf(x)>=0});_.length===0&&(_=y);var A=_.reduce(function(x,S){return x[S]=$u(r,{placement:S,boundary:o,rootBoundary:u,padding:l})[hi(S)],x},{});return Object.keys(A).sort(function(x,S){return A[x]-A[S]})}function HI(r){if(hi(r)===Hm)return[];var e=Ic(r);return[US(r),e,US(e)]}function KI(r){var e=r.state,n=r.options,i=r.name;if(!e.modifiersData[i]._skip){for(var o=n.mainAxis,u=o===void 0?!0:o,l=n.altAxis,c=l===void 0?!0:l,g=n.fallbackPlacements,p=n.padding,v=n.boundary,y=n.rootBoundary,_=n.altBoundary,A=n.flipVariations,x=A===void 0?!0:A,S=n.allowedAutoPlacements,R=e.options.placement,T=hi(R),D=T===R,C=g||(D||!x?[Ic(R)]:HI(R)),N=[R].concat(C).reduce(function(We,Xe){return We.concat(hi(Xe)===Hm?qI(e,{placement:Xe,boundary:v,rootBoundary:y,padding:p,flipVariations:x,allowedAutoPlacements:S}):Xe)},[]),k=e.rects.reference,L=e.rects.popper,j=new Map,X=!0,re=N[0],B=0;B<N.length;B++){var Y=N[B],me=hi(Y),ne=ns(Y)===es,ke=[ln,Nn].indexOf(me)>=0,Ve=ke?"width":"height",ge=$u(e,{placement:Y,boundary:v,rootBoundary:y,altBoundary:_,padding:p}),Oe=ke?ne?Mn:cn:ne?Nn:ln;k[Ve]>L[Ve]&&(Oe=Ic(Oe));var we=Ic(Oe),Be=[];if(u&&Be.push(ge[me]<=0),c&&Be.push(ge[Oe]<=0,ge[we]<=0),Be.every(function(We){return We})){re=Y,X=!1;break}j.set(Y,Be)}if(X)for(var q=x?3:1,le=function(Xe){var rt=N.find(function(st){var Ce=j.get(st);if(Ce)return Ce.slice(0,Xe).every(function(He){return He})});if(rt)return re=rt,"break"},Ae=q;Ae>0;Ae--){var be=le(Ae);if(be==="break")break}e.placement!==re&&(e.modifiersData[i]._skip=!0,e.placement=re,e.reset=!0)}}const zI={name:"flip",enabled:!0,phase:"main",fn:KI,requiresIfExists:["offset"],data:{_skip:!1}};function BS(r,e,n){return n===void 0&&(n={x:0,y:0}),{top:r.top-e.height-n.y,right:r.right-e.width+n.x,bottom:r.bottom-e.height+n.y,left:r.left-e.width-n.x}}function jS(r){return[ln,Mn,Nn,cn].some(function(e){return r[e]>=0})}function VI(r){var e=r.state,n=r.name,i=e.rects.reference,o=e.rects.popper,u=e.modifiersData.preventOverflow,l=$u(e,{elementContext:"reference"}),c=$u(e,{altBoundary:!0}),g=BS(l,i),p=BS(c,o,u),v=jS(g),y=jS(p);e.modifiersData[n]={referenceClippingOffsets:g,popperEscapeOffsets:p,isReferenceHidden:v,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":y})}const $I={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VI};function WI(r,e,n){var i=hi(r),o=[cn,ln].indexOf(i)>=0?-1:1,u=typeof n=="function"?n(Object.assign({},e,{placement:r})):n,l=u[0],c=u[1];return l=l||0,c=(c||0)*o,[cn,Mn].indexOf(i)>=0?{x:c,y:l}:{x:l,y:c}}function GI(r){var e=r.state,n=r.options,i=r.name,o=n.offset,u=o===void 0?[0,0]:o,l=Km.reduce(function(v,y){return v[y]=WI(y,e.rects,u),v},{}),c=l[e.placement],g=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=l}const YI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GI};function JI(r){var e=r.state,n=r.name;e.modifiersData[n]=pR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const XI={name:"popperOffsets",enabled:!0,phase:"read",fn:JI,data:{}};function QI(r){return r==="x"?"y":"x"}function ZI(r){var e=r.state,n=r.options,i=r.name,o=n.mainAxis,u=o===void 0?!0:o,l=n.altAxis,c=l===void 0?!1:l,g=n.boundary,p=n.rootBoundary,v=n.altBoundary,y=n.padding,_=n.tether,A=_===void 0?!0:_,x=n.tetherOffset,S=x===void 0?0:x,R=$u(e,{boundary:g,rootBoundary:p,padding:y,altBoundary:v}),T=hi(e.placement),D=ns(e.placement),C=!D,N=$m(T),k=QI(N),L=e.modifiersData.popperOffsets,j=e.rects.reference,X=e.rects.popper,re=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,B=typeof re=="number"?{mainAxis:re,altAxis:re}:Object.assign({mainAxis:0,altAxis:0},re),Y=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,me={x:0,y:0};if(L){if(u){var ne,ke=N==="y"?ln:cn,Ve=N==="y"?Nn:Mn,ge=N==="y"?"height":"width",Oe=L[N],we=Oe+R[ke],Be=Oe-R[Ve],q=A?-X[ge]/2:0,le=D===es?j[ge]:X[ge],Ae=D===es?-X[ge]:-j[ge],be=e.elements.arrow,We=A&&be?Vm(be):{width:0,height:0},Xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:cR(),rt=Xe[ke],st=Xe[Ve],Ce=Ou(0,j[ge],We[ge]),He=C?j[ge]/2-q-Ce-rt-B.mainAxis:le-Ce-rt-B.mainAxis,Qe=C?-j[ge]/2+q+Ce+st+B.mainAxis:Ae+Ce+st+B.mainAxis,ie=e.elements.arrow&&il(e.elements.arrow),U=ie?N==="y"?ie.clientTop||0:ie.clientLeft||0:0,O=(ne=Y==null?void 0:Y[N])!=null?ne:0,z=Oe+He-O-U,$=Oe+Qe-O,fe=Ou(A?Xc(we,z):we,Oe,A?Qa(Be,$):Be);L[N]=fe,me[N]=fe-Oe}if(c){var ue,Pe=N==="x"?ln:cn,he=N==="x"?Nn:Mn,Le=L[k],Ge=k==="y"?"height":"width",qe=Le+R[Pe],at=Le-R[he],St=[ln,cn].indexOf(T)!==-1,it=(ue=Y==null?void 0:Y[k])!=null?ue:0,gt=St?qe:Le-j[Ge]-X[Ge]-it+B.altAxis,V=St?Le+j[Ge]+X[Ge]-it-B.altAxis:at,M=A&&St?EI(gt,Le,V):Ou(A?gt:qe,Le,A?V:at);L[k]=M,me[k]=M-Le}e.modifiersData[i]=me}}const ek={name:"preventOverflow",enabled:!0,phase:"main",fn:ZI,requiresIfExists:["offset"]};function tk(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function rk(r){return r===Sn(r)||!pi(r)?Wm(r):tk(r)}function nk(r){var e=r.getBoundingClientRect(),n=ts(e.width)/r.offsetWidth||1,i=ts(e.height)/r.offsetHeight||1;return n!==1||i!==1}function ik(r,e,n){n===void 0&&(n=!1);var i=pi(e),o=pi(e)&&nk(e),u=Ra(e),l=rs(r,o,n),c={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(i||!i&&!n)&&((Sa(e)!=="body"||Ym(u))&&(c=rk(e)),pi(e)?(g=rs(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):u&&(g.x=Gm(u))),{x:l.left+c.scrollLeft-g.x,y:l.top+c.scrollTop-g.y,width:l.width,height:l.height}}function ak(r){var e=new Map,n=new Set,i=[];r.forEach(function(u){e.set(u.name,u)});function o(u){n.add(u.name);var l=[].concat(u.requires||[],u.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var g=e.get(c);g&&o(g)}}),i.push(u)}return r.forEach(function(u){n.has(u.name)||o(u)}),i}function ok(r){var e=ak(r);return _I.reduce(function(n,i){return n.concat(e.filter(function(o){return o.phase===i}))},[])}function sk(r){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(r())})})),e}}function uk(r){var e=r.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var qS={placement:"bottom",modifiers:[],strategy:"absolute"};function HS(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function lk(r){r===void 0&&(r={});var e=r,n=e.defaultModifiers,i=n===void 0?[]:n,o=e.defaultOptions,u=o===void 0?qS:o;return function(c,g,p){p===void 0&&(p=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},qS,u),modifiersData:{},elements:{reference:c,popper:g},attributes:{},styles:{}},y=[],_=!1,A={state:v,setOptions:function(T){var D=typeof T=="function"?T(v.options):T;S(),v.options=Object.assign({},u,v.options,D),v.scrollParents={reference:ao(c)?Nu(c):c.contextElement?Nu(c.contextElement):[],popper:Nu(g)};var C=ok(uk([].concat(i,v.options.modifiers)));return v.orderedModifiers=C.filter(function(N){return N.enabled}),x(),A.update()},forceUpdate:function(){if(!_){var T=v.elements,D=T.reference,C=T.popper;if(HS(D,C)){v.rects={reference:ik(D,il(C),v.options.strategy==="fixed"),popper:Vm(C)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(B){return v.modifiersData[B.name]=Object.assign({},B.data)});for(var N=0;N<v.orderedModifiers.length;N++){if(v.reset===!0){v.reset=!1,N=-1;continue}var k=v.orderedModifiers[N],L=k.fn,j=k.options,X=j===void 0?{}:j,re=k.name;typeof L=="function"&&(v=L({state:v,options:X,name:re,instance:A})||v)}}}},update:sk(function(){return new Promise(function(R){A.forceUpdate(),R(v)})}),destroy:function(){S(),_=!0}};if(!HS(c,g))return A;A.setOptions(p).then(function(R){!_&&p.onFirstUpdate&&p.onFirstUpdate(R)});function x(){v.orderedModifiers.forEach(function(R){var T=R.name,D=R.options,C=D===void 0?{}:D,N=R.effect;if(typeof N=="function"){var k=N({state:v,name:T,instance:A,options:C}),L=function(){};y.push(k||L)}})}function S(){y.forEach(function(R){return R()}),y=[]}return A}}var ck=lk({defaultModifiers:[$I,XI,OI,MI,YI,zI,ek,RI]}),KS=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},fk={name:"applyStyles",enabled:!1},dk={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var i=n.elements,o=i.reference,u=i.popper;if("removeAttribute"in o){var l=(o.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==u.id});l.length?o.setAttribute("aria-describedby",l.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(e){var n,i=e.state,o=i.elements,u=o.popper,l=o.reference,c=(n=u.getAttribute("role"))==null?void 0:n.toLowerCase();if(u.id&&c==="tooltip"&&"setAttribute"in l){var g=l.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(u.id)!==-1)return;l.setAttribute("aria-describedby",g?g+","+u.id:u.id)}}},hk=[];function pk(r,e,n){var i=n===void 0?{}:n,o=i.enabled,u=o===void 0?!0:o,l=i.placement,c=l===void 0?"bottom":l,g=i.strategy,p=g===void 0?"absolute":g,v=i.modifiers,y=v===void 0?hk:v,_=lf(i,["enabled","placement","strategy","modifiers"]),A=dt.useRef(),x=dt.useCallback(function(){var N;(N=A.current)==null||N.update()},[]),S=dt.useCallback(function(){var N;(N=A.current)==null||N.forceUpdate()},[]),R=uI(dt.useState({placement:c,update:x,forceUpdate:S,attributes:{},styles:{popper:KS(p),arrow:{}}})),T=R[0],D=R[1],C=dt.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(k){var L=k.state,j={},X={};Object.keys(L.elements).forEach(function(re){j[re]=L.styles[re],X[re]=L.attributes[re]}),D({state:L,styles:j,attributes:X,update:x,forceUpdate:S,placement:L.placement})}}},[x,S,D]);return dt.useEffect(function(){!A.current||!u||A.current.setOptions({placement:c,strategy:p,modifiers:[].concat(y,[C,fk])})},[p,c,C,u]),dt.useEffect(function(){if(!(!u||r==null||e==null))return A.current=ck(r,e,gr({},_,{placement:c,strategy:p,modifiers:[].concat(y,[dk,C])})),function(){A.current!=null&&(A.current.destroy(),A.current=void 0,D(function(N){return gr({},N,{attributes:{},styles:{popper:KS(p)}})}))}},[u,r,e]),T}function gk(r,e,n,i){var o=i&&typeof i!="boolean"?i.capture:i;r.removeEventListener(e,n,o),n.__once&&r.removeEventListener(e,n.__once,o)}function xu(r,e,n,i){return aI(r,e,n,i),function(){gk(r,e,n,i)}}var Hp,zS;function vk(){if(zS)return Hp;zS=1;var r=function(){};return Hp=r,Hp}var yk=vk();const mk=zr(yk);var bk=DA();const gR=zr(bk);function _k(r){return r&&"setState"in r?gR.findDOMNode(r):r??null}const wk=function(r){return rl(_k(r))};var Sk=27,VS=function(){};function Ek(r){return r.button===0}function xk(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}var $S=function(e){return e&&("current"in e?e.current:e)};function Ak(r,e,n){var i=n===void 0?{}:n,o=i.disabled,u=i.clickTrigger,l=u===void 0?"click":u,c=dt.useRef(!1),g=e||VS,p=dt.useCallback(function(_){var A,x=$S(r);mk(!!x,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!x||xk(_)||!Ek(_)||!!zu(x,(A=_.composedPath==null?void 0:_.composedPath()[0])!=null?A:_.target)},[r]),v=NS(function(_){c.current||g(_)}),y=NS(function(_){_.keyCode===Sk&&g(_)});dt.useEffect(function(){if(!(o||r==null)){var _=window.event,A=wk($S(r)),x=xu(A,l,p,!0),S=xu(A,l,function(D){if(D===_){_=void 0;return}v(D)}),R=xu(A,"keyup",function(D){if(D===_){_=void 0;return}y(D)}),T=[];return"ontouchstart"in A.documentElement&&(T=[].slice.call(A.body.children).map(function(D){return xu(D,"mousemove",VS)})),function(){x(),S(),R(),T.forEach(function(D){return D()})}}},[r,o,l,p,v,y])}function Tk(r){var e={};return Array.isArray(r)?(r==null||r.forEach(function(n){e[n.name]=n}),e):r||e}function Rk(r){return r===void 0&&(r={}),Array.isArray(r)?r:Object.keys(r).map(function(e){return r[e].name=e,r[e]})}function Dk(r){var e,n,i,o,u=r.enabled,l=r.enableEvents,c=r.placement,g=r.flip,p=r.offset,v=r.fixed,y=r.containerPadding,_=r.arrowElement,A=r.popperConfig,x=A===void 0?{}:A,S=Tk(x.modifiers);return gr({},x,{placement:c,enabled:u,strategy:v?"fixed":x.strategy,modifiers:Rk(gr({},S,{eventListeners:{enabled:l},preventOverflow:gr({},S.preventOverflow,{options:y?gr({padding:y},(e=S.preventOverflow)==null?void 0:e.options):(n=S.preventOverflow)==null?void 0:n.options}),offset:{options:gr({offset:p},(i=S.offset)==null?void 0:i.options)},arrow:gr({},S.arrow,{enabled:!!_,options:gr({},(o=S.arrow)==null?void 0:o.options,{element:_})}),flip:gr({enabled:!!g},S.flip)}))})}function Ck(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function Fk(r,e){r.classList?r.classList.add(e):Ck(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function WS(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ok(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=WS(r.className,e):r.setAttribute("class",WS(r.className&&r.className.baseVal||"",e))}var Ac;function Jm(r){if((!Ac&&Ac!==0||r)&&qm){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ac=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ac}var Kp=function(e){var n;return typeof document>"u"?null:e==null?rl().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function GS(r,e){var n=dt.useState(function(){return Kp(r)}),i=n[0],o=n[1];if(!i){var u=Kp(r);u&&o(u)}return dt.useEffect(function(){},[e,i]),dt.useEffect(function(){var l=Kp(r);l!==i&&o(l)},[r,i]),i}const YS=r=>!r||typeof r=="function"?r:e=>{r.current=e};function Nk(r,e){const n=YS(r),i=YS(e);return o=>{n&&n(o),i&&i(o)}}function Mk(r,e){return dt.useMemo(()=>Nk(r,e),[r,e])}var Xm=De.forwardRef(function(r,e){var n=r.flip,i=r.offset,o=r.placement,u=r.containerPadding,l=u===void 0?5:u,c=r.popperConfig,g=c===void 0?{}:c,p=r.transition,v=MS(),y=v[0],_=v[1],A=MS(),x=A[0],S=A[1],R=Mk(_,e),T=GS(r.container),D=GS(r.target),C=dt.useState(!r.show),N=C[0],k=C[1],L=pk(D,y,Dk({placement:o,enableEvents:!!r.show,containerPadding:l||5,flip:n,offset:i,arrowElement:x,popperConfig:g})),j=L.styles,X=L.attributes,re=lf(L,["styles","attributes"]);r.show?N&&k(!1):!r.transition&&!N&&k(!0);var B=function(){k(!0),r.onExited&&r.onExited.apply(r,arguments)},Y=r.show||p&&!N;if(Ak(y,r.onHide,{disabled:!r.rootClose||r.rootCloseDisabled,clickTrigger:r.rootCloseEvent}),!Y)return null;var me=r.children(gr({},re,{show:!!r.show,props:gr({},X.popper,{style:j.popper,ref:R}),arrowProps:gr({},X.arrow,{style:j.arrow,ref:S})}));if(p){var ne=r.onExit,ke=r.onExiting,Ve=r.onEnter,ge=r.onEntering,Oe=r.onEntered;me=De.createElement(p,{in:r.show,appear:!0,onExit:ne,onExiting:ke,onExited:B,onEnter:Ve,onEntering:ge,onEntered:Oe},me)}return T?gR.createPortal(me,T):null});Xm.displayName="Overlay";Xm.propTypes={show:ot.bool,placement:ot.oneOf(Km),target:ot.any,container:ot.any,flip:ot.bool,children:ot.func.isRequired,containerPadding:ot.number,popperConfig:ot.object,rootClose:ot.bool,rootCloseEvent:ot.oneOf(["click","mousedown"]),rootCloseDisabled:ot.bool,onHide:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(e.rootClose){var u;return(u=ot.func).isRequired.apply(u,[e].concat(i))}return ot.func.apply(ot,[e].concat(i))},transition:ot.elementType,onEnter:ot.func,onEntering:ot.func,onEntered:ot.func,onExit:ot.func,onExiting:ot.func,onExited:ot.func};var zp,JS;function Ik(){if(JS)return zp;JS=1;function r(){this.__data__=[],this.size=0}return zp=r,zp}var Vp,XS;function hf(){if(XS)return Vp;XS=1;var r=Zu();function e(n,i){for(var o=n.length;o--;)if(r(n[o][0],i))return o;return-1}return Vp=e,Vp}var $p,QS;function kk(){if(QS)return $p;QS=1;var r=hf(),e=Array.prototype,n=e.splice;function i(o){var u=this.__data__,l=r(u,o);if(l<0)return!1;var c=u.length-1;return l==c?u.pop():n.call(u,l,1),--this.size,!0}return $p=i,$p}var Wp,ZS;function Pk(){if(ZS)return Wp;ZS=1;var r=hf();function e(n){var i=this.__data__,o=r(i,n);return o<0?void 0:i[o][1]}return Wp=e,Wp}var Gp,eE;function Uk(){if(eE)return Gp;eE=1;var r=hf();function e(n){return r(this.__data__,n)>-1}return Gp=e,Gp}var Yp,tE;function Lk(){if(tE)return Yp;tE=1;var r=hf();function e(n,i){var o=this.__data__,u=r(o,n);return u<0?(++this.size,o.push([n,i])):o[u][1]=i,this}return Yp=e,Yp}var Jp,rE;function pf(){if(rE)return Jp;rE=1;var r=Ik(),e=kk(),n=Pk(),i=Uk(),o=Lk();function u(l){var c=-1,g=l==null?0:l.length;for(this.clear();++c<g;){var p=l[c];this.set(p[0],p[1])}}return u.prototype.clear=r,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,Jp=u,Jp}var Xp,nE;function Bk(){if(nE)return Xp;nE=1;var r=pf();function e(){this.__data__=new r,this.size=0}return Xp=e,Xp}var Qp,iE;function jk(){if(iE)return Qp;iE=1;function r(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return Qp=r,Qp}var Zp,aE;function qk(){if(aE)return Zp;aE=1;function r(e){return this.__data__.get(e)}return Zp=r,Zp}var eg,oE;function Hk(){if(oE)return eg;oE=1;function r(e){return this.__data__.has(e)}return eg=r,eg}var tg,sE;function Kk(){if(sE)return tg;sE=1;var r=vi(),e=r["__core-js_shared__"];return tg=e,tg}var rg,uE;function zk(){if(uE)return rg;uE=1;var r=Kk(),e=function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!e&&e in i}return rg=n,rg}var ng,lE;function vR(){if(lE)return ng;lE=1;var r=Function.prototype,e=r.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return ng=n,ng}var ig,cE;function Vk(){if(cE)return ig;cE=1;var r=Um(),e=zk(),n=$i(),i=vR(),o=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,g=l.toString,p=c.hasOwnProperty,v=RegExp("^"+g.call(p).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(_){if(!n(_)||e(_))return!1;var A=r(_)?v:u;return A.test(i(_))}return ig=y,ig}var ag,fE;function $k(){if(fE)return ag;fE=1;function r(e,n){return e==null?void 0:e[n]}return ag=r,ag}var og,dE;function uo(){if(dE)return og;dE=1;var r=Vk(),e=$k();function n(i,o){var u=e(i,o);return r(u)?u:void 0}return og=n,og}var sg,hE;function Qm(){if(hE)return sg;hE=1;var r=uo(),e=vi(),n=r(e,"Map");return sg=n,sg}var ug,pE;function gf(){if(pE)return ug;pE=1;var r=uo(),e=r(Object,"create");return ug=e,ug}var lg,gE;function Wk(){if(gE)return lg;gE=1;var r=gf();function e(){this.__data__=r?r(null):{},this.size=0}return lg=e,lg}var cg,vE;function Gk(){if(vE)return cg;vE=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return cg=r,cg}var fg,yE;function Yk(){if(yE)return fg;yE=1;var r=gf(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function o(u){var l=this.__data__;if(r){var c=l[u];return c===e?void 0:c}return i.call(l,u)?l[u]:void 0}return fg=o,fg}var dg,mE;function Jk(){if(mE)return dg;mE=1;var r=gf(),e=Object.prototype,n=e.hasOwnProperty;function i(o){var u=this.__data__;return r?u[o]!==void 0:n.call(u,o)}return dg=i,dg}var hg,bE;function Xk(){if(bE)return hg;bE=1;var r=gf(),e="__lodash_hash_undefined__";function n(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=r&&o===void 0?e:o,this}return hg=n,hg}var pg,_E;function Qk(){if(_E)return pg;_E=1;var r=Wk(),e=Gk(),n=Yk(),i=Jk(),o=Xk();function u(l){var c=-1,g=l==null?0:l.length;for(this.clear();++c<g;){var p=l[c];this.set(p[0],p[1])}}return u.prototype.clear=r,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,pg=u,pg}var gg,wE;function Zk(){if(wE)return gg;wE=1;var r=Qk(),e=pf(),n=Qm();function i(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return gg=i,gg}var vg,SE;function eP(){if(SE)return vg;SE=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return vg=r,vg}var yg,EE;function vf(){if(EE)return yg;EE=1;var r=eP();function e(n,i){var o=n.__data__;return r(i)?o[typeof i=="string"?"string":"hash"]:o.map}return yg=e,yg}var mg,xE;function tP(){if(xE)return mg;xE=1;var r=vf();function e(n){var i=r(this,n).delete(n);return this.size-=i?1:0,i}return mg=e,mg}var bg,AE;function rP(){if(AE)return bg;AE=1;var r=vf();function e(n){return r(this,n).get(n)}return bg=e,bg}var _g,TE;function nP(){if(TE)return _g;TE=1;var r=vf();function e(n){return r(this,n).has(n)}return _g=e,_g}var wg,RE;function iP(){if(RE)return wg;RE=1;var r=vf();function e(n,i){var o=r(this,n),u=o.size;return o.set(n,i),this.size+=o.size==u?0:1,this}return wg=e,wg}var Sg,DE;function Zm(){if(DE)return Sg;DE=1;var r=Zk(),e=tP(),n=rP(),i=nP(),o=iP();function u(l){var c=-1,g=l==null?0:l.length;for(this.clear();++c<g;){var p=l[c];this.set(p[0],p[1])}}return u.prototype.clear=r,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,Sg=u,Sg}var Eg,CE;function aP(){if(CE)return Eg;CE=1;var r=pf(),e=Qm(),n=Zm(),i=200;function o(u,l){var c=this.__data__;if(c instanceof r){var g=c.__data__;if(!e||g.length<i-1)return g.push([u,l]),this.size=++c.size,this;c=this.__data__=new n(g)}return c.set(u,l),this.size=c.size,this}return Eg=o,Eg}var xg,FE;function e0(){if(FE)return xg;FE=1;var r=pf(),e=Bk(),n=jk(),i=qk(),o=Hk(),u=aP();function l(c){var g=this.__data__=new r(c);this.size=g.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=o,l.prototype.set=u,xg=l,xg}var Ag,OE;function oP(){if(OE)return Ag;OE=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return Ag=e,Ag}var Tg,NE;function sP(){if(NE)return Tg;NE=1;function r(e){return this.__data__.has(e)}return Tg=r,Tg}var Rg,ME;function uP(){if(ME)return Rg;ME=1;var r=Zm(),e=oP(),n=sP();function i(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new r;++u<l;)this.add(o[u])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,Rg=i,Rg}var Dg,IE;function lP(){if(IE)return Dg;IE=1;function r(e,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(e[i],i,e))return!0;return!1}return Dg=r,Dg}var Cg,kE;function cP(){if(kE)return Cg;kE=1;function r(e,n){return e.has(n)}return Cg=r,Cg}var Fg,PE;function yR(){if(PE)return Fg;PE=1;var r=uP(),e=lP(),n=cP(),i=1,o=2;function u(l,c,g,p,v,y){var _=g&i,A=l.length,x=c.length;if(A!=x&&!(_&&x>A))return!1;var S=y.get(l),R=y.get(c);if(S&&R)return S==c&&R==l;var T=-1,D=!0,C=g&o?new r:void 0;for(y.set(l,c),y.set(c,l);++T<A;){var N=l[T],k=c[T];if(p)var L=_?p(k,N,T,c,l,y):p(N,k,T,l,c,y);if(L!==void 0){if(L)continue;D=!1;break}if(C){if(!e(c,function(j,X){if(!n(C,X)&&(N===j||v(N,j,g,p,y)))return C.push(X)})){D=!1;break}}else if(!(N===k||v(N,k,g,p,y))){D=!1;break}}return y.delete(l),y.delete(c),D}return Fg=u,Fg}var Og,UE;function mR(){if(UE)return Og;UE=1;var r=vi(),e=r.Uint8Array;return Og=e,Og}var Ng,LE;function fP(){if(LE)return Ng;LE=1;function r(e){var n=-1,i=Array(e.size);return e.forEach(function(o,u){i[++n]=[u,o]}),i}return Ng=r,Ng}var Mg,BE;function dP(){if(BE)return Mg;BE=1;function r(e){var n=-1,i=Array(e.size);return e.forEach(function(o){i[++n]=o}),i}return Mg=r,Mg}var Ig,jE;function hP(){if(jE)return Ig;jE=1;var r=ps(),e=mR(),n=Zu(),i=yR(),o=fP(),u=dP(),l=1,c=2,g="[object Boolean]",p="[object Date]",v="[object Error]",y="[object Map]",_="[object Number]",A="[object RegExp]",x="[object Set]",S="[object String]",R="[object Symbol]",T="[object ArrayBuffer]",D="[object DataView]",C=r?r.prototype:void 0,N=C?C.valueOf:void 0;function k(L,j,X,re,B,Y,me){switch(X){case D:if(L.byteLength!=j.byteLength||L.byteOffset!=j.byteOffset)return!1;L=L.buffer,j=j.buffer;case T:return!(L.byteLength!=j.byteLength||!Y(new e(L),new e(j)));case g:case p:case _:return n(+L,+j);case v:return L.name==j.name&&L.message==j.message;case A:case S:return L==j+"";case y:var ne=o;case x:var ke=re&l;if(ne||(ne=u),L.size!=j.size&&!ke)return!1;var Ve=me.get(L);if(Ve)return Ve==j;re|=c,me.set(L,j);var ge=i(ne(L),ne(j),re,B,Y,me);return me.delete(L),ge;case R:if(N)return N.call(L)==N.call(j)}return!1}return Ig=k,Ig}var kg,qE;function t0(){if(qE)return kg;qE=1;function r(e,n){for(var i=-1,o=n.length,u=e.length;++i<o;)e[u+i]=n[i];return e}return kg=r,kg}var Pg,HE;function In(){if(HE)return Pg;HE=1;var r=Array.isArray;return Pg=r,Pg}var Ug,KE;function bR(){if(KE)return Ug;KE=1;var r=t0(),e=In();function n(i,o,u){var l=o(i);return e(i)?l:r(l,u(i))}return Ug=n,Ug}var Lg,zE;function pP(){if(zE)return Lg;zE=1;function r(e,n){for(var i=-1,o=e==null?0:e.length,u=0,l=[];++i<o;){var c=e[i];n(c,i,e)&&(l[u++]=c)}return l}return Lg=r,Lg}var Bg,VE;function _R(){if(VE)return Bg;VE=1;function r(){return[]}return Bg=r,Bg}var jg,$E;function r0(){if($E)return jg;$E=1;var r=pP(),e=_R(),n=Object.prototype,i=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(l){return l==null?[]:(l=Object(l),r(o(l),function(c){return i.call(l,c)}))}:e;return jg=u,jg}var qg,WE;function gP(){if(WE)return qg;WE=1;function r(e,n){for(var i=-1,o=Array(e);++i<e;)o[i]=n(i);return o}return qg=r,qg}var Hg,GE;function vP(){if(GE)return Hg;GE=1;var r=gs(),e=Ta(),n="[object Arguments]";function i(o){return e(o)&&r(o)==n}return Hg=i,Hg}var Kg,YE;function n0(){if(YE)return Kg;YE=1;var r=vP(),e=Ta(),n=Object.prototype,i=n.hasOwnProperty,o=n.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(l){return e(l)&&i.call(l,"callee")&&!o.call(l,"callee")};return Kg=u,Kg}var Au={exports:{}},zg,JE;function yP(){if(JE)return zg;JE=1;function r(){return!1}return zg=r,zg}Au.exports;var XE;function yf(){return XE||(XE=1,function(r,e){var n=vi(),i=yP(),o=e&&!e.nodeType&&e,u=o&&!0&&r&&!r.nodeType&&r,l=u&&u.exports===o,c=l?n.Buffer:void 0,g=c?c.isBuffer:void 0,p=g||i;r.exports=p}(Au,Au.exports)),Au.exports}var Vg,QE;function mP(){if(QE)return Vg;QE=1;var r=gs(),e=Lm(),n=Ta(),i="[object Arguments]",o="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",g="[object Function]",p="[object Map]",v="[object Number]",y="[object Object]",_="[object RegExp]",A="[object Set]",x="[object String]",S="[object WeakMap]",R="[object ArrayBuffer]",T="[object DataView]",D="[object Float32Array]",C="[object Float64Array]",N="[object Int8Array]",k="[object Int16Array]",L="[object Int32Array]",j="[object Uint8Array]",X="[object Uint8ClampedArray]",re="[object Uint16Array]",B="[object Uint32Array]",Y={};Y[D]=Y[C]=Y[N]=Y[k]=Y[L]=Y[j]=Y[X]=Y[re]=Y[B]=!0,Y[i]=Y[o]=Y[R]=Y[u]=Y[T]=Y[l]=Y[c]=Y[g]=Y[p]=Y[v]=Y[y]=Y[_]=Y[A]=Y[x]=Y[S]=!1;function me(ne){return n(ne)&&e(ne.length)&&!!Y[r(ne)]}return Vg=me,Vg}var $g,ZE;function mf(){if(ZE)return $g;ZE=1;function r(e){return function(n){return e(n)}}return $g=r,$g}var Tu={exports:{}};Tu.exports;var e2;function i0(){return e2||(e2=1,function(r,e){var n=ZT(),i=e&&!e.nodeType&&e,o=i&&!0&&r&&!r.nodeType&&r,u=o&&o.exports===i,l=u&&n.process,c=function(){try{var g=o&&o.require&&o.require("util").types;return g||l&&l.binding&&l.binding("util")}catch{}}();r.exports=c}(Tu,Tu.exports)),Tu.exports}var Wg,t2;function a0(){if(t2)return Wg;t2=1;var r=mP(),e=mf(),n=i0(),i=n&&n.isTypedArray,o=i?e(i):r;return Wg=o,Wg}var Gg,r2;function wR(){if(r2)return Gg;r2=1;var r=gP(),e=n0(),n=In(),i=yf(),o=Bm(),u=a0(),l=Object.prototype,c=l.hasOwnProperty;function g(p,v){var y=n(p),_=!y&&e(p),A=!y&&!_&&i(p),x=!y&&!_&&!A&&u(p),S=y||_||A||x,R=S?r(p.length,String):[],T=R.length;for(var D in p)(v||c.call(p,D))&&!(S&&(D=="length"||A&&(D=="offset"||D=="parent")||x&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||o(D,T)))&&R.push(D);return R}return Gg=g,Gg}var Yg,n2;function o0(){if(n2)return Yg;n2=1;var r=Object.prototype;function e(n){var i=n&&n.constructor,o=typeof i=="function"&&i.prototype||r;return n===o}return Yg=e,Yg}var Jg,i2;function SR(){if(i2)return Jg;i2=1;function r(e,n){return function(i){return e(n(i))}}return Jg=r,Jg}var Xg,a2;function bP(){if(a2)return Xg;a2=1;var r=SR(),e=r(Object.keys,Object);return Xg=e,Xg}var Qg,o2;function _P(){if(o2)return Qg;o2=1;var r=o0(),e=bP(),n=Object.prototype,i=n.hasOwnProperty;function o(u){if(!r(u))return e(u);var l=[];for(var c in Object(u))i.call(u,c)&&c!="constructor"&&l.push(c);return l}return Qg=o,Qg}var Zg,s2;function al(){if(s2)return Zg;s2=1;var r=wR(),e=_P(),n=el();function i(o){return n(o)?r(o):e(o)}return Zg=i,Zg}var ev,u2;function ER(){if(u2)return ev;u2=1;var r=bR(),e=r0(),n=al();function i(o){return r(o,n,e)}return ev=i,ev}var tv,l2;function wP(){if(l2)return tv;l2=1;var r=ER(),e=1,n=Object.prototype,i=n.hasOwnProperty;function o(u,l,c,g,p,v){var y=c&e,_=r(u),A=_.length,x=r(l),S=x.length;if(A!=S&&!y)return!1;for(var R=A;R--;){var T=_[R];if(!(y?T in l:i.call(l,T)))return!1}var D=v.get(u),C=v.get(l);if(D&&C)return D==l&&C==u;var N=!0;v.set(u,l),v.set(l,u);for(var k=y;++R<A;){T=_[R];var L=u[T],j=l[T];if(g)var X=y?g(j,L,T,l,u,v):g(L,j,T,u,l,v);if(!(X===void 0?L===j||p(L,j,c,g,v):X)){N=!1;break}k||(k=T=="constructor")}if(N&&!k){var re=u.constructor,B=l.constructor;re!=B&&"constructor"in u&&"constructor"in l&&!(typeof re=="function"&&re instanceof re&&typeof B=="function"&&B instanceof B)&&(N=!1)}return v.delete(u),v.delete(l),N}return tv=o,tv}var rv,c2;function SP(){if(c2)return rv;c2=1;var r=uo(),e=vi(),n=r(e,"DataView");return rv=n,rv}var nv,f2;function EP(){if(f2)return nv;f2=1;var r=uo(),e=vi(),n=r(e,"Promise");return nv=n,nv}var iv,d2;function xP(){if(d2)return iv;d2=1;var r=uo(),e=vi(),n=r(e,"Set");return iv=n,iv}var av,h2;function AP(){if(h2)return av;h2=1;var r=uo(),e=vi(),n=r(e,"WeakMap");return av=n,av}var ov,p2;function bf(){if(p2)return ov;p2=1;var r=SP(),e=Qm(),n=EP(),i=xP(),o=AP(),u=gs(),l=vR(),c="[object Map]",g="[object Object]",p="[object Promise]",v="[object Set]",y="[object WeakMap]",_="[object DataView]",A=l(r),x=l(e),S=l(n),R=l(i),T=l(o),D=u;return(r&&D(new r(new ArrayBuffer(1)))!=_||e&&D(new e)!=c||n&&D(n.resolve())!=p||i&&D(new i)!=v||o&&D(new o)!=y)&&(D=function(C){var N=u(C),k=N==g?C.constructor:void 0,L=k?l(k):"";if(L)switch(L){case A:return _;case x:return c;case S:return p;case R:return v;case T:return y}return N}),ov=D,ov}var sv,g2;function TP(){if(g2)return sv;g2=1;var r=e0(),e=yR(),n=hP(),i=wP(),o=bf(),u=In(),l=yf(),c=a0(),g=1,p="[object Arguments]",v="[object Array]",y="[object Object]",_=Object.prototype,A=_.hasOwnProperty;function x(S,R,T,D,C,N){var k=u(S),L=u(R),j=k?v:o(S),X=L?v:o(R);j=j==p?y:j,X=X==p?y:X;var re=j==y,B=X==y,Y=j==X;if(Y&&l(S)){if(!l(R))return!1;k=!0,re=!1}if(Y&&!re)return N||(N=new r),k||c(S)?e(S,R,T,D,C,N):n(S,R,j,T,D,C,N);if(!(T&g)){var me=re&&A.call(S,"__wrapped__"),ne=B&&A.call(R,"__wrapped__");if(me||ne){var ke=me?S.value():S,Ve=ne?R.value():R;return N||(N=new r),C(ke,Ve,T,D,N)}}return Y?(N||(N=new r),i(S,R,T,D,C,N)):!1}return sv=x,sv}var uv,v2;function s0(){if(v2)return uv;v2=1;var r=TP(),e=Ta();function n(i,o,u,l,c){return i===o?!0:i==null||o==null||!e(i)&&!e(o)?i!==i&&o!==o:r(i,o,u,l,n,c)}return uv=n,uv}var lv,y2;function RP(){if(y2)return lv;y2=1;var r=s0();function e(n,i){return r(n,i)}return lv=e,lv}var DP=RP();const CP=zr(DP);function cv(r,e){var n=jm(r);return n?n.innerHeight:Xa(r).height}function xR(r,e,n){r.closest&&!n&&r.closest(e);var i=r;do{if(rI(i,e))return i;i=i.parentElement}while(i&&i!==n&&i.nodeType===document.ELEMENT_NODE);return null}var fv,m2;function FP(){if(m2)return fv;m2=1;function r(e,n,i,o){for(var u=e.length,l=i+(o?1:-1);o?l--:++l<u;)if(n(e[l],l,e))return l;return-1}return fv=r,fv}var dv,b2;function OP(){if(b2)return dv;b2=1;var r=e0(),e=s0(),n=1,i=2;function o(u,l,c,g){var p=c.length,v=p,y=!g;if(u==null)return!v;for(u=Object(u);p--;){var _=c[p];if(y&&_[2]?_[1]!==u[_[0]]:!(_[0]in u))return!1}for(;++p<v;){_=c[p];var A=_[0],x=u[A],S=_[1];if(y&&_[2]){if(x===void 0&&!(A in u))return!1}else{var R=new r;if(g)var T=g(x,S,A,u,l,R);if(!(T===void 0?e(S,x,n|i,g,R):T))return!1}}return!0}return dv=o,dv}var hv,_2;function AR(){if(_2)return hv;_2=1;var r=$i();function e(n){return n===n&&!r(n)}return hv=e,hv}var pv,w2;function NP(){if(w2)return pv;w2=1;var r=AR(),e=al();function n(i){for(var o=e(i),u=o.length;u--;){var l=o[u],c=i[l];o[u]=[l,c,r(c)]}return o}return pv=n,pv}var gv,S2;function TR(){if(S2)return gv;S2=1;function r(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}return gv=r,gv}var vv,E2;function MP(){if(E2)return vv;E2=1;var r=OP(),e=NP(),n=TR();function i(o){var u=e(o);return u.length==1&&u[0][2]?n(u[0][0],u[0][1]):function(l){return l===o||r(l,o,u)}}return vv=i,vv}var yv,x2;function u0(){if(x2)return yv;x2=1;var r=In(),e=tl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(u,l){if(r(u))return!1;var c=typeof u;return c=="number"||c=="symbol"||c=="boolean"||u==null||e(u)?!0:i.test(u)||!n.test(u)||l!=null&&u in Object(l)}return yv=o,yv}var mv,A2;function IP(){if(A2)return mv;A2=1;var r=Zm(),e="Expected a function";function n(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var u=function(){var l=arguments,c=o?o.apply(this,l):l[0],g=u.cache;if(g.has(c))return g.get(c);var p=i.apply(this,l);return u.cache=g.set(c,p)||g,p};return u.cache=new(n.Cache||r),u}return n.Cache=r,mv=n,mv}var bv,T2;function kP(){if(T2)return bv;T2=1;var r=IP(),e=500;function n(i){var o=r(i,function(l){return u.size===e&&u.clear(),l}),u=o.cache;return o}return bv=n,bv}var _v,R2;function PP(){if(R2)return _v;R2=1;var r=kP(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=r(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(e,function(l,c,g,p){u.push(g?p.replace(n,"$1"):c||l)}),u});return _v=i,_v}var wv,D2;function l0(){if(D2)return wv;D2=1;function r(e,n){for(var i=-1,o=e==null?0:e.length,u=Array(o);++i<o;)u[i]=n(e[i],i,e);return u}return wv=r,wv}var Sv,C2;function UP(){if(C2)return Sv;C2=1;var r=ps(),e=l0(),n=In(),i=tl(),o=r?r.prototype:void 0,u=o?o.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(i(c))return u?u.call(c):"";var g=c+"";return g=="0"&&1/c==-1/0?"-0":g}return Sv=l,Sv}var Ev,F2;function LP(){if(F2)return Ev;F2=1;var r=UP();function e(n){return n==null?"":r(n)}return Ev=e,Ev}var xv,O2;function _f(){if(O2)return xv;O2=1;var r=In(),e=u0(),n=PP(),i=LP();function o(u,l){return r(u)?u:e(u,l)?[u]:n(i(u))}return xv=o,xv}var Av,N2;function ol(){if(N2)return Av;N2=1;var r=tl();function e(n){if(typeof n=="string"||r(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return Av=e,Av}var Tv,M2;function wf(){if(M2)return Tv;M2=1;var r=_f(),e=ol();function n(i,o){o=r(o,i);for(var u=0,l=o.length;i!=null&&u<l;)i=i[e(o[u++])];return u&&u==l?i:void 0}return Tv=n,Tv}var Rv,I2;function BP(){if(I2)return Rv;I2=1;var r=wf();function e(n,i,o){var u=n==null?void 0:r(n,i);return u===void 0?o:u}return Rv=e,Rv}var Dv,k2;function jP(){if(k2)return Dv;k2=1;function r(e,n){return e!=null&&n in Object(e)}return Dv=r,Dv}var Cv,P2;function qP(){if(P2)return Cv;P2=1;var r=_f(),e=n0(),n=In(),i=Bm(),o=Lm(),u=ol();function l(c,g,p){g=r(g,c);for(var v=-1,y=g.length,_=!1;++v<y;){var A=u(g[v]);if(!(_=c!=null&&p(c,A)))break;c=c[A]}return _||++v!=y?_:(y=c==null?0:c.length,!!y&&o(y)&&i(A,y)&&(n(c)||e(c)))}return Cv=l,Cv}var Fv,U2;function HP(){if(U2)return Fv;U2=1;var r=jP(),e=qP();function n(i,o){return i!=null&&e(i,o,r)}return Fv=n,Fv}var Ov,L2;function KP(){if(L2)return Ov;L2=1;var r=s0(),e=BP(),n=HP(),i=u0(),o=AR(),u=TR(),l=ol(),c=1,g=2;function p(v,y){return i(v)&&o(y)?u(l(v),y):function(_){var A=e(_,v);return A===void 0&&A===y?n(_,v):r(y,A,c|g)}}return Ov=p,Ov}var Nv,B2;function Sf(){if(B2)return Nv;B2=1;function r(e){return e}return Nv=r,Nv}var Mv,j2;function zP(){if(j2)return Mv;j2=1;function r(e){return function(n){return n==null?void 0:n[e]}}return Mv=r,Mv}var Iv,q2;function VP(){if(q2)return Iv;q2=1;var r=wf();function e(n){return function(i){return r(i,n)}}return Iv=e,Iv}var kv,H2;function $P(){if(H2)return kv;H2=1;var r=zP(),e=VP(),n=u0(),i=ol();function o(u){return n(u)?r(i(u)):e(u)}return kv=o,kv}var Pv,K2;function Ef(){if(K2)return Pv;K2=1;var r=MP(),e=KP(),n=Sf(),i=In(),o=$P();function u(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?i(l)?e(l[0],l[1]):r(l):o(l)}return Pv=u,Pv}var Uv,z2;function WP(){if(z2)return Uv;z2=1;var r=FP(),e=Ef(),n=tR(),i=Math.max;function o(u,l,c){var g=u==null?0:u.length;if(!g)return-1;var p=c==null?0:n(c);return p<0&&(p=i(g+p,0)),r(u,e(l,3),p)}return Uv=o,Uv}var GP=WP();const YP=zr(GP);var Lv,V2;function JP(){if(V2)return Lv;V2=1;var r=Math.ceil,e=Math.max;function n(i,o,u,l){for(var c=-1,g=e(r((o-i)/(u||1)),0),p=Array(g);g--;)p[l?g:++c]=i,i+=u;return p}return Lv=n,Lv}var Bv,$2;function XP(){if($2)return Bv;$2=1;var r=JP(),e=ff(),n=eR();function i(o){return function(u,l,c){return c&&typeof c!="number"&&e(u,l,c)&&(l=c=void 0),u=n(u),l===void 0?(l=u,u=0):l=n(l),c=c===void 0?u<l?1:-1:n(c),r(u,l,c,o)}}return Bv=i,Bv}var jv,W2;function QP(){if(W2)return jv;W2=1;var r=XP(),e=r();return jv=e,jv}var ZP=QP();const e6=zr(ZP);var G2=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function t6(r,e){return!!(r===e||G2(r)&&G2(e))}function r6(r,e){if(r.length!==e.length)return!1;for(var n=0;n<r.length;n++)if(!t6(r[n],e[n]))return!1;return!0}function RR(r,e){e===void 0&&(e=r6);var n=null;function i(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;var l=r.apply(this,o);return n={lastResult:l,lastArgs:o,lastThis:this},l}return i.clear=function(){n=null},i}function vm(r,e){var n=jm(r);return n?n.innerWidth:Xa(r).width}var qv,Y2;function n6(){if(Y2)return qv;Y2=1;var r=ps(),e=n0(),n=In(),i=r?r.isConcatSpreadable:void 0;function o(u){return n(u)||e(u)||!!(i&&u&&u[i])}return qv=o,qv}var Hv,J2;function DR(){if(J2)return Hv;J2=1;var r=t0(),e=n6();function n(i,o,u,l,c){var g=-1,p=i.length;for(u||(u=e),c||(c=[]);++g<p;){var v=i[g];o>0&&u(v)?o>1?n(v,o-1,u,l,c):r(c,v):l||(c[c.length]=v)}return c}return Hv=n,Hv}var Kv,X2;function i6(){if(X2)return Kv;X2=1;function r(e){return function(n,i,o){for(var u=-1,l=Object(n),c=o(n),g=c.length;g--;){var p=c[e?g:++u];if(i(l[p],p,l)===!1)break}return n}}return Kv=r,Kv}var zv,Q2;function a6(){if(Q2)return zv;Q2=1;var r=i6(),e=r();return zv=e,zv}var Vv,Z2;function c0(){if(Z2)return Vv;Z2=1;var r=a6(),e=al();function n(i,o){return i&&r(i,o,e)}return Vv=n,Vv}var $v,ex;function o6(){if(ex)return $v;ex=1;var r=el();function e(n,i){return function(o,u){if(o==null)return o;if(!r(o))return n(o,u);for(var l=o.length,c=i?l:-1,g=Object(o);(i?c--:++c<l)&&u(g[c],c,g)!==!1;);return o}}return $v=e,$v}var Wv,tx;function s6(){if(tx)return Wv;tx=1;var r=c0(),e=o6(),n=e(r);return Wv=n,Wv}var Gv,rx;function u6(){if(rx)return Gv;rx=1;var r=s6(),e=el();function n(i,o){var u=-1,l=e(i)?Array(i.length):[];return r(i,function(c,g,p){l[++u]=o(c,g,p)}),l}return Gv=n,Gv}var Yv,nx;function l6(){if(nx)return Yv;nx=1;function r(e,n){var i=e.length;for(e.sort(n);i--;)e[i]=e[i].value;return e}return Yv=r,Yv}var Jv,ix;function c6(){if(ix)return Jv;ix=1;var r=tl();function e(n,i){if(n!==i){var o=n!==void 0,u=n===null,l=n===n,c=r(n),g=i!==void 0,p=i===null,v=i===i,y=r(i);if(!p&&!y&&!c&&n>i||c&&g&&v&&!p&&!y||u&&g&&v||!o&&v||!l)return 1;if(!u&&!c&&!y&&n<i||y&&o&&l&&!u&&!c||p&&o&&l||!g&&l||!v)return-1}return 0}return Jv=e,Jv}var Xv,ax;function f6(){if(ax)return Xv;ax=1;var r=c6();function e(n,i,o){for(var u=-1,l=n.criteria,c=i.criteria,g=l.length,p=o.length;++u<g;){var v=r(l[u],c[u]);if(v){if(u>=p)return v;var y=o[u];return v*(y=="desc"?-1:1)}}return n.index-i.index}return Xv=e,Xv}var Qv,ox;function d6(){if(ox)return Qv;ox=1;var r=l0(),e=wf(),n=Ef(),i=u6(),o=l6(),u=mf(),l=f6(),c=Sf(),g=In();function p(v,y,_){y.length?y=r(y,function(S){return g(S)?function(R){return e(R,S.length===1?S[0]:S)}:S}):y=[c];var A=-1;y=r(y,u(n));var x=i(v,function(S,R,T){var D=r(y,function(C){return C(S)});return{criteria:D,index:++A,value:S}});return o(x,function(S,R){return l(S,R,_)})}return Qv=p,Qv}var Zv,sx;function h6(){if(sx)return Zv;sx=1;function r(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return Zv=r,Zv}var ey,ux;function CR(){if(ux)return ey;ux=1;var r=h6(),e=Math.max;function n(i,o,u){return o=e(o===void 0?i.length-1:o,0),function(){for(var l=arguments,c=-1,g=e(l.length-o,0),p=Array(g);++c<g;)p[c]=l[o+c];c=-1;for(var v=Array(o+1);++c<o;)v[c]=l[c];return v[o]=u(p),r(i,this,v)}}return ey=n,ey}var ty,lx;function p6(){if(lx)return ty;lx=1;function r(e){return function(){return e}}return ty=r,ty}var ry,cx;function FR(){if(cx)return ry;cx=1;var r=uo(),e=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ry=e,ry}var ny,fx;function g6(){if(fx)return ny;fx=1;var r=p6(),e=FR(),n=Sf(),i=e?function(o,u){return e(o,"toString",{configurable:!0,enumerable:!1,value:r(u),writable:!0})}:n;return ny=i,ny}var iy,dx;function v6(){if(dx)return iy;dx=1;var r=800,e=16,n=Date.now;function i(o){var u=0,l=0;return function(){var c=n(),g=e-(c-l);if(l=c,g>0){if(++u>=r)return arguments[0]}else u=0;return o.apply(void 0,arguments)}}return iy=i,iy}var ay,hx;function OR(){if(hx)return ay;hx=1;var r=g6(),e=v6(),n=e(r);return ay=n,ay}var oy,px;function NR(){if(px)return oy;px=1;var r=Sf(),e=CR(),n=OR();function i(o,u){return n(e(o,u,r),o+"")}return oy=i,oy}var sy,gx;function y6(){if(gx)return sy;gx=1;var r=DR(),e=d6(),n=NR(),i=ff(),o=n(function(u,l){if(u==null)return[];var c=l.length;return c>1&&i(u,l[0],l[1])?l=[]:c>2&&i(l[0],l[1],l[2])&&(l=[l[0]]),e(u,r(l,1),[])});return sy=o,sy}var m6=y6();const b6=zr(m6);function MR(r){return UT(r)||XT(r)||Im(r)||LT()}var uy,vx;function _6(){if(vx)return uy;vx=1;function r(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}return uy=r,uy}var ly,yx;function w6(){if(yx)return ly;yx=1;var r=$i(),e=o0(),n=_6(),i=Object.prototype,o=i.hasOwnProperty;function u(l){if(!r(l))return n(l);var c=e(l),g=[];for(var p in l)p=="constructor"&&(c||!o.call(l,p))||g.push(p);return g}return ly=u,ly}var cy,mx;function xf(){if(mx)return cy;mx=1;var r=wR(),e=w6(),n=el();function i(o){return n(o)?r(o,!0):e(o)}return cy=i,cy}var fy,bx;function S6(){if(bx)return fy;bx=1;var r=NR(),e=Zu(),n=ff(),i=xf(),o=Object.prototype,u=o.hasOwnProperty,l=r(function(c,g){c=Object(c);var p=-1,v=g.length,y=v>2?g[2]:void 0;for(y&&n(g[0],g[1],y)&&(v=1);++p<v;)for(var _=g[p],A=i(_),x=-1,S=A.length;++x<S;){var R=A[x],T=c[R];(T===void 0||e(T,o[R])&&!u.call(c,R))&&(c[R]=_[R])}return c});return fy=l,fy}var E6=S6();const x6=zr(E6);var dy,_x;function f0(){if(_x)return dy;_x=1;var r=FR();function e(n,i,o){i=="__proto__"&&r?r(n,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[i]=o}return dy=e,dy}var hy,wx;function A6(){if(wx)return hy;wx=1;var r=f0(),e=c0(),n=Ef();function i(o,u){var l={};return u=n(u,3),e(o,function(c,g,p){r(l,g,u(c,g,p))}),l}return hy=i,hy}var T6=A6();const R6=zr(T6);var py,Sx;function IR(){if(Sx)return py;Sx=1;function r(e,n){for(var i=-1,o=e==null?0:e.length;++i<o&&n(e[i],i,e)!==!1;);return e}return py=r,py}var gy,Ex;function kR(){if(Ex)return gy;Ex=1;var r=f0(),e=Zu(),n=Object.prototype,i=n.hasOwnProperty;function o(u,l,c){var g=u[l];(!(i.call(u,l)&&e(g,c))||c===void 0&&!(l in u))&&r(u,l,c)}return gy=o,gy}var vy,xx;function sl(){if(xx)return vy;xx=1;var r=kR(),e=f0();function n(i,o,u,l){var c=!u;u||(u={});for(var g=-1,p=o.length;++g<p;){var v=o[g],y=l?l(u[v],i[v],v,u,i):void 0;y===void 0&&(y=i[v]),c?e(u,v,y):r(u,v,y)}return u}return vy=n,vy}var yy,Ax;function D6(){if(Ax)return yy;Ax=1;var r=sl(),e=al();function n(i,o){return i&&r(o,e(o),i)}return yy=n,yy}var my,Tx;function C6(){if(Tx)return my;Tx=1;var r=sl(),e=xf();function n(i,o){return i&&r(o,e(o),i)}return my=n,my}var Ru={exports:{}};Ru.exports;var Rx;function F6(){return Rx||(Rx=1,function(r,e){var n=vi(),i=e&&!e.nodeType&&e,o=i&&!0&&r&&!r.nodeType&&r,u=o&&o.exports===i,l=u?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function g(p,v){if(v)return p.slice();var y=p.length,_=c?c(y):new p.constructor(y);return p.copy(_),_}r.exports=g}(Ru,Ru.exports)),Ru.exports}var by,Dx;function O6(){if(Dx)return by;Dx=1;function r(e,n){var i=-1,o=e.length;for(n||(n=Array(o));++i<o;)n[i]=e[i];return n}return by=r,by}var _y,Cx;function N6(){if(Cx)return _y;Cx=1;var r=sl(),e=r0();function n(i,o){return r(i,e(i),o)}return _y=n,_y}var wy,Fx;function Af(){if(Fx)return wy;Fx=1;var r=SR(),e=r(Object.getPrototypeOf,Object);return wy=e,wy}var Sy,Ox;function PR(){if(Ox)return Sy;Ox=1;var r=t0(),e=Af(),n=r0(),i=_R(),o=Object.getOwnPropertySymbols,u=o?function(l){for(var c=[];l;)r(c,n(l)),l=e(l);return c}:i;return Sy=u,Sy}var Ey,Nx;function M6(){if(Nx)return Ey;Nx=1;var r=sl(),e=PR();function n(i,o){return r(i,e(i),o)}return Ey=n,Ey}var xy,Mx;function UR(){if(Mx)return xy;Mx=1;var r=bR(),e=PR(),n=xf();function i(o){return r(o,n,e)}return xy=i,xy}var Ay,Ix;function I6(){if(Ix)return Ay;Ix=1;var r=Object.prototype,e=r.hasOwnProperty;function n(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&e.call(i,"index")&&(u.index=i.index,u.input=i.input),u}return Ay=n,Ay}var Ty,kx;function d0(){if(kx)return Ty;kx=1;var r=mR();function e(n){var i=new n.constructor(n.byteLength);return new r(i).set(new r(n)),i}return Ty=e,Ty}var Ry,Px;function k6(){if(Px)return Ry;Px=1;var r=d0();function e(n,i){var o=i?r(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return Ry=e,Ry}var Dy,Ux;function P6(){if(Ux)return Dy;Ux=1;var r=/\w*$/;function e(n){var i=new n.constructor(n.source,r.exec(n));return i.lastIndex=n.lastIndex,i}return Dy=e,Dy}var Cy,Lx;function U6(){if(Lx)return Cy;Lx=1;var r=ps(),e=r?r.prototype:void 0,n=e?e.valueOf:void 0;function i(o){return n?Object(n.call(o)):{}}return Cy=i,Cy}var Fy,Bx;function L6(){if(Bx)return Fy;Bx=1;var r=d0();function e(n,i){var o=i?r(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return Fy=e,Fy}var Oy,jx;function B6(){if(jx)return Oy;jx=1;var r=d0(),e=k6(),n=P6(),i=U6(),o=L6(),u="[object Boolean]",l="[object Date]",c="[object Map]",g="[object Number]",p="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",A="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",R="[object Float64Array]",T="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]";function X(re,B,Y){var me=re.constructor;switch(B){case A:return r(re);case u:case l:return new me(+re);case x:return e(re,Y);case S:case R:case T:case D:case C:case N:case k:case L:case j:return o(re,Y);case c:return new me;case g:case y:return new me(re);case p:return n(re);case v:return new me;case _:return i(re)}}return Oy=X,Oy}var Ny,qx;function LR(){if(qx)return Ny;qx=1;var r=$i(),e=Object.create,n=function(){function i(){}return function(o){if(!r(o))return{};if(e)return e(o);i.prototype=o;var u=new i;return i.prototype=void 0,u}}();return Ny=n,Ny}var My,Hx;function j6(){if(Hx)return My;Hx=1;var r=LR(),e=Af(),n=o0();function i(o){return typeof o.constructor=="function"&&!n(o)?r(e(o)):{}}return My=i,My}var Iy,Kx;function q6(){if(Kx)return Iy;Kx=1;var r=bf(),e=Ta(),n="[object Map]";function i(o){return e(o)&&r(o)==n}return Iy=i,Iy}var ky,zx;function H6(){if(zx)return ky;zx=1;var r=q6(),e=mf(),n=i0(),i=n&&n.isMap,o=i?e(i):r;return ky=o,ky}var Py,Vx;function K6(){if(Vx)return Py;Vx=1;var r=bf(),e=Ta(),n="[object Set]";function i(o){return e(o)&&r(o)==n}return Py=i,Py}var Uy,$x;function z6(){if($x)return Uy;$x=1;var r=K6(),e=mf(),n=i0(),i=n&&n.isSet,o=i?e(i):r;return Uy=o,Uy}var Ly,Wx;function V6(){if(Wx)return Ly;Wx=1;var r=e0(),e=IR(),n=kR(),i=D6(),o=C6(),u=F6(),l=O6(),c=N6(),g=M6(),p=ER(),v=UR(),y=bf(),_=I6(),A=B6(),x=j6(),S=In(),R=yf(),T=H6(),D=$i(),C=z6(),N=al(),k=xf(),L=1,j=2,X=4,re="[object Arguments]",B="[object Array]",Y="[object Boolean]",me="[object Date]",ne="[object Error]",ke="[object Function]",Ve="[object GeneratorFunction]",ge="[object Map]",Oe="[object Number]",we="[object Object]",Be="[object RegExp]",q="[object Set]",le="[object String]",Ae="[object Symbol]",be="[object WeakMap]",We="[object ArrayBuffer]",Xe="[object DataView]",rt="[object Float32Array]",st="[object Float64Array]",Ce="[object Int8Array]",He="[object Int16Array]",Qe="[object Int32Array]",ie="[object Uint8Array]",U="[object Uint8ClampedArray]",O="[object Uint16Array]",z="[object Uint32Array]",$={};$[re]=$[B]=$[We]=$[Xe]=$[Y]=$[me]=$[rt]=$[st]=$[Ce]=$[He]=$[Qe]=$[ge]=$[Oe]=$[we]=$[Be]=$[q]=$[le]=$[Ae]=$[ie]=$[U]=$[O]=$[z]=!0,$[ne]=$[ke]=$[be]=!1;function fe(ue,Pe,he,Le,Ge,qe){var at,St=Pe&L,it=Pe&j,gt=Pe&X;if(he&&(at=Ge?he(ue,Le,Ge,qe):he(ue)),at!==void 0)return at;if(!D(ue))return ue;var V=S(ue);if(V){if(at=_(ue),!St)return l(ue,at)}else{var M=y(ue),P=M==ke||M==Ve;if(R(ue))return u(ue,St);if(M==we||M==re||P&&!Ge){if(at=it||P?{}:x(ue),!St)return it?g(ue,o(at,ue)):c(ue,i(at,ue))}else{if(!$[M])return Ge?ue:{};at=A(ue,M,St)}}qe||(qe=new r);var I=qe.get(ue);if(I)return I;qe.set(ue,at),C(ue)?ue.forEach(function(Se){at.add(fe(Se,Pe,he,Se,ue,qe))}):T(ue)&&ue.forEach(function(Se,vt){at.set(vt,fe(Se,Pe,he,vt,ue,qe))});var Ee=gt?it?v:p:it?k:N,Fe=V?void 0:Ee(ue);return e(Fe||ue,function(Se,vt){Fe&&(vt=Se,Se=ue[vt]),n(at,vt,fe(Se,Pe,he,vt,ue,qe))}),at}return Ly=fe,Ly}var By,Gx;function $6(){if(Gx)return By;Gx=1;function r(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return By=r,By}var jy,Yx;function W6(){if(Yx)return jy;Yx=1;var r=wf(),e=QT();function n(i,o){return o.length<2?i:r(i,e(o,0,-1))}return jy=n,jy}var qy,Jx;function G6(){if(Jx)return qy;Jx=1;var r=_f(),e=$6(),n=W6(),i=ol();function o(u,l){return l=r(l,u),u=n(u,l),u==null||delete u[i(e(l))]}return qy=o,qy}var Hy,Xx;function Y6(){if(Xx)return Hy;Xx=1;var r=gs(),e=Af(),n=Ta(),i="[object Object]",o=Function.prototype,u=Object.prototype,l=o.toString,c=u.hasOwnProperty,g=l.call(Object);function p(v){if(!n(v)||r(v)!=i)return!1;var y=e(v);if(y===null)return!0;var _=c.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&l.call(_)==g}return Hy=p,Hy}var Ky,Qx;function J6(){if(Qx)return Ky;Qx=1;var r=Y6();function e(n){return r(n)?void 0:n}return Ky=e,Ky}var zy,Zx;function X6(){if(Zx)return zy;Zx=1;var r=DR();function e(n){var i=n==null?0:n.length;return i?r(n,1):[]}return zy=e,zy}var Vy,eA;function Q6(){if(eA)return Vy;eA=1;var r=X6(),e=CR(),n=OR();function i(o){return n(e(o,void 0,r),o+"")}return Vy=i,Vy}var $y,tA;function Z6(){if(tA)return $y;tA=1;var r=l0(),e=V6(),n=G6(),i=_f(),o=sl(),u=J6(),l=Q6(),c=UR(),g=1,p=2,v=4,y=l(function(_,A){var x={};if(_==null)return x;var S=!1;A=r(A,function(T){return T=i(T,_),S||(S=T.length>1),T}),o(_,c(_),x),S&&(x=e(x,g|p|v,u));for(var R=A.length;R--;)n(x,A[R]);return x});return $y=y,$y}var e4=Z6();const t4=zr(e4);var Wy,rA;function r4(){if(rA)return Wy;rA=1;var r=IR(),e=LR(),n=c0(),i=Ef(),o=Af(),u=In(),l=yf(),c=Um(),g=$i(),p=a0();function v(y,_,A){var x=u(y),S=x||l(y)||p(y);if(_=i(_,4),A==null){var R=y&&y.constructor;S?A=x?new R:[]:g(y)?A=c(R)?e(o(y)):{}:A={}}return(S?r:n)(y,function(T,D,C){return _(A,T,D,C)}),A}return Wy=v,Wy}var n4=r4();const i4=zr(n4);var kc={exports:{}},a4=kc.exports,nA;function o4(){return nA||(nA=1,function(r,e){(function(n,i){r.exports=i()})(a4,function(){return function(n,i,o){i.prototype.isBetween=function(u,l,c,g){var p=o(u),v=o(l),y=(g=g||"()")[0]==="(",_=g[1]===")";return(y?this.isAfter(p,c):!this.isBefore(p,c))&&(_?this.isBefore(v,c):!this.isAfter(v,c))||(y?this.isBefore(p,c):!this.isAfter(p,c))&&(_?this.isAfter(v,c):!this.isBefore(v,c))}}})}(kc)),kc.exports}o4();var Pc={exports:{}},s4=Pc.exports,iA;function u4(){return iA||(iA=1,function(r,e){(function(n,i){r.exports=i()})(s4,function(){return function(n,i){i.prototype.isSameOrAfter=function(o,u){return this.isSame(o,u)||this.isAfter(o,u)}}})}(Pc)),Pc.exports}u4();var Uc={exports:{}},l4=Uc.exports,aA;function c4(){return aA||(aA=1,function(r,e){(function(n,i){r.exports=i()})(l4,function(){return function(n,i){i.prototype.isSameOrBefore=function(o,u){return this.isSame(o,u)||this.isBefore(o,u)}}})}(Uc)),Uc.exports}c4();var Lc={exports:{}},f4=Lc.exports,oA;function d4(){return oA||(oA=1,function(r,e){(function(n,i){r.exports=i()})(f4,function(){return function(n,i,o){var u=i.prototype,l=function(y){return y&&(y.indexOf?y:y.s)},c=function(y,_,A,x,S){var R=y.name?y:y.$locale(),T=l(R[_]),D=l(R[A]),C=T||D.map(function(k){return k.slice(0,x)});if(!S)return C;var N=R.weekStart;return C.map(function(k,L){return C[(L+(N||0))%7]})},g=function(){return o.Ls[o.locale()]},p=function(y,_){return y.formats[_]||function(A){return A.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,S,R){return S||R.slice(1)})}(y.formats[_.toUpperCase()])},v=function(){var y=this;return{months:function(_){return _?_.format("MMMM"):c(y,"months")},monthsShort:function(_){return _?_.format("MMM"):c(y,"monthsShort","months",3)},firstDayOfWeek:function(){return y.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):c(y,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):c(y,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):c(y,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return p(y.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};u.localeData=function(){return v.bind(this)()},o.localeData=function(){var y=g();return{firstDayOfWeek:function(){return y.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(_){return p(y,_)},meridiem:y.meridiem,ordinal:y.ordinal}},o.months=function(){return c(g(),"months")},o.monthsShort=function(){return c(g(),"monthsShort","months",3)},o.weekdays=function(y){return c(g(),"weekdays",null,null,y)},o.weekdaysShort=function(y){return c(g(),"weekdaysShort","weekdays",3,y)},o.weekdaysMin=function(y){return c(g(),"weekdaysMin","weekdays",2,y)}}})}(Lc)),Lc.exports}d4();var Bc={exports:{}},h4=Bc.exports,sA;function p4(){return sA||(sA=1,function(r,e){(function(n,i){r.exports=i()})(h4,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,o,u){var l=o.prototype,c=l.format;u.en.formats=n,l.format=function(g){g===void 0&&(g="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,v=function(y,_){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,x,S){var R=S&&S.toUpperCase();return x||_[S]||n[S]||_[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,D,C){return D||C.slice(1)})})}(g,p===void 0?{}:p);return c.call(this,v)}}})}(Bc)),Bc.exports}p4();var jc={exports:{}},g4=jc.exports,uA;function v4(){return uA||(uA=1,function(r,e){(function(n,i){r.exports=i()})(g4,function(){return function(n,i,o){var u=function(l,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var g;c.length===1&&c[0].length>0&&(c=c[0]),g=(c=c.filter(function(v){return v}))[0];for(var p=1;p<c.length;p+=1)c[p].isValid()&&!c[p][l](g)||(g=c[p]);return g};o.max=function(){var l=[].slice.call(arguments,0);return u("isAfter",l)},o.min=function(){var l=[].slice.call(arguments,0);return u("isBefore",l)}}})}(jc)),jc.exports}v4();var qc={exports:{}},y4=qc.exports,lA;function m4(){return lA||(lA=1,function(r,e){(function(n,i){r.exports=i()})(y4,function(){var n="minute",i=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(u,l,c){var g=l.prototype;c.utc=function(S){var R={date:S,utc:!0,args:arguments};return new l(R)},g.utc=function(S){var R=c(this.toDate(),{locale:this.$L,utc:!0});return S?R.add(this.utcOffset(),n):R},g.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var p=g.parse;g.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),p.call(this,S)};var v=g.init;g.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else v.call(this)};var y=g.utcOffset;g.utcOffset=function(S,R){var T=this.$utils().u;if(T(S))return this.$u?0:T(this.$offset)?y.call(this):this.$offset;if(typeof S=="string"&&(S=function(k){k===void 0&&(k="");var L=k.match(i);if(!L)return null;var j=(""+L[0]).match(o)||["-",0,0],X=j[0],re=60*+j[1]+ +j[2];return re===0?0:X==="+"?re:-re}(S),S===null))return this;var D=Math.abs(S)<=16?60*S:S,C=this;if(R)return C.$offset=D,C.$u=S===0,C;if(S!==0){var N=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(D+N,n)).$offset=D,C.$x.$localOffset=N}else C=this.utc();return C};var _=g.format;g.format=function(S){var R=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return _.call(this,R)},g.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},g.isUTC=function(){return!!this.$u},g.toISOString=function(){return this.toDate().toISOString()},g.toString=function(){return this.toDate().toUTCString()};var A=g.toDate;g.toDate=function(S){return S==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():A.call(this)};var x=g.diff;g.diff=function(S,R,T){if(S&&this.$u===S.$u)return x.call(this,S,R,T);var D=this.local(),C=c(S).local();return x.call(D,C,R,T)}}})}(qc)),qc.exports}m4();function Ui(r){return r.children}var fn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Zr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},cA=Object.keys(Zr).map(function(r){return Zr[r]});ot.oneOfType([ot.string,ot.func]);ot.any;ot.func;ot.oneOfType([ot.arrayOf(ot.oneOf(cA)),ot.objectOf(function(r,e){var n=cA.indexOf(e)!==-1&&typeof r[e]=="boolean";if(n)return null;for(var i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u];return ot.elementType.apply(ot,[r,e].concat(o))})]);ot.oneOfType([ot.oneOf(["overlap","no-overlap"]),ot.func]);var fA={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function BR(r,e){var n=Kr(r,"month");return Kr(n,"week",e.startOfWeek())}function jR(r,e){var n=Yc(r,"month");return Yc(n,"week",e.startOfWeek())}function b4(r,e){for(var n=BR(r,e),i=jR(r,e),o=[];ds(n,i,"day");)o.push(n),n=Xn(n,1,"day");return o}function _4(r,e){var n=Kr(r,e);return fs(n,r)?n:Xn(n,1,e)}function w4(r,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",i=r,o=[];ds(i,e,n);)o.push(i),i=Xn(i,1,n);return o}function S4(r,e){return e==null&&r==null?null:(e==null&&(e=new Date),r==null&&(r=new Date),r=Kr(r,"day"),r=Ku(r,Ku(e)),r=Zo(r,Zo(e)),r=Hu(r,Hu(e)),qu(r,qu(e)))}function dA(r){return Ku(r)===0&&Zo(r)===0&&Hu(r)===0&&qu(r)===0}function E4(r,e,n,i){return n==="day"&&(n="date"),Math.abs(oS[n](r,void 0,i)-oS[n](e,void 0,i))}function h0(r,e,n){return!n||n==="milliseconds"?Math.abs(+r-+e):Math.round(Math.abs(+Kr(r,n)/fA[n]-+Kr(e,n)/fA[n]))}var x4=ot.oneOfType([ot.string,ot.func]);function A4(r,e,n,i,o){var u=typeof i=="function"?i(n,o,r):e.call(r,n,i,o);return ku(u==null||typeof u=="string","`localizer format(..)` must return a string, null, or undefined"),u}function T4(r,e,n){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,e+n,0,0)}function p0(r,e){return r.getTimezoneOffset()-e.getTimezoneOffset()}function R4(r,e){return h0(r,e,"minutes")+p0(r,e)}function D4(r){var e=Kr(r,"day");return h0(e,r,"minutes")+p0(e,r)}function C4(r,e){return Pm(r,e,"day")}function F4(r,e,n){var i=fs(r,e,"minutes");return i?Qu(e,n,"minutes"):cf(e,n,"minutes")}function ym(r,e){return E4(r,e,"day")}function O4(r){var e=r.evtA,n=e.start,i=e.end,o=e.allDay,u=r.evtB,l=u.start,c=u.end,g=u.allDay,p=+Kr(n,"day")-+Kr(l,"day"),v=ym(n,i),y=ym(l,c);return p||y-v||!!g-!!o||+n-+l||+i-+c}function N4(r){var e=r.event,n=e.start,i=e.end,o=r.range,u=o.start,l=o.end,c=Kr(n,"day"),g=ds(c,l,"day"),p=km(c,i,"minutes"),v=p?cf(i,u,"minutes"):Qu(i,u,"minutes");return g&&v}function M4(r,e){return fs(r,e,"day")}function I4(r,e){return dA(r)&&dA(e)}var k4=Cr(function r(e){var n=this;Dr(this,r),ku(typeof e.format=="function","date localizer `format(..)` must be a function"),ku(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||x4,this.formats=e.formats,this.format=function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return A4.apply(void 0,[n,e.format].concat(o))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||S4,this.inRange=e.inRange||WT,this.lt=e.lt||Pm,this.lte=e.lte||ds,this.gt=e.gt||cf,this.gte=e.gte||Qu,this.eq=e.eq||fs,this.neq=e.neq||km,this.startOf=e.startOf||Kr,this.endOf=e.endOf||Yc,this.add=e.add||Xn,this.range=e.range||w4,this.diff=e.diff||h0,this.ceil=e.ceil||_4,this.min=e.min||VT,this.max=e.max||$T,this.minutes=e.minutes||Zo,this.daySpan=e.daySpan||ym,this.firstVisibleDay=e.firstVisibleDay||BR,this.lastVisibleDay=e.lastVisibleDay||jR,this.visibleDays=e.visibleDays||b4,this.getSlotDate=e.getSlotDate||T4,this.getTimezoneOffset=e.getTimezoneOffset||function(i){return i.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||p0,this.getTotalMin=e.getTotalMin||R4,this.getMinutesFromMidnight=e.getMinutesFromMidnight||D4,this.continuesPrior=e.continuesPrior||C4,this.continuesAfter=e.continuesAfter||F4,this.sortEvents=e.sortEvents||O4,this.inEventRange=e.inEventRange||N4,this.isSameDate=e.isSameDate||M4,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||I4,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function P4(r,e,n,i){var o=Jt(Jt({},r.formats),n);return Jt(Jt({},r),{},{messages:i,startOfWeek:function(){return r.startOfWeek(e)},format:function(l,c){return r.format(l,o[c]||c,e)}})}var U4=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.navigate=function(l){n.props.onNavigate(l)},n.view=function(l){n.props.onView(l)},n}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.localizer.messages,u=i.label;return De.createElement("div",{className:"rbc-toolbar"},De.createElement("span",{className:"rbc-btn-group"},De.createElement("button",{type:"button",onClick:this.navigate.bind(null,fn.TODAY)},o.today),De.createElement("button",{type:"button",onClick:this.navigate.bind(null,fn.PREVIOUS)},o.previous),De.createElement("button",{type:"button",onClick:this.navigate.bind(null,fn.NEXT)},o.next)),De.createElement("span",{className:"rbc-toolbar-label"},u),De.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(o)))}},{key:"viewNamesGroup",value:function(i){var o=this,u=this.props.views,l=this.props.view;if(u.length>1)return u.map(function(c){return De.createElement("button",{type:"button",key:c,className:vr({"rbc-active":l===c}),onClick:o.view.bind(null,c)},i[c])})}}])}(De.Component);function tr(r,e){r&&r.apply(null,[].concat(e))}var L4={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function B4(r){return Jt(Jt({},L4),r)}function j4(r){var e=r.ref,n=r.callback;dt.useEffect(function(){var i=function(u){e.current&&!e.current.contains(u.target)&&n()};return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[e,n])}var q4=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],qR=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.style,u=i.className,l=i.event,c=i.selected,g=i.isAllDay,p=i.onSelect,v=i.onDoubleClick,y=i.onKeyPress,_=i.localizer,A=i.continuesPrior,x=i.continuesAfter,S=i.accessors,R=i.getters,T=i.children,D=i.components,C=D.event,N=D.eventWrapper,k=i.slotStart,L=i.slotEnd,j=gi(i,q4);delete j.resizable;var X=S.title(l),re=S.tooltip(l),B=S.end(l),Y=S.start(l),me=S.allDay(l),ne=g||me||_.diff(Y,_.ceil(B,"day"),"day")>1,ke=R.eventProp(l,Y,B,c),Ve=De.createElement("div",{className:"rbc-event-content",title:re||void 0},C?De.createElement(C,{event:l,continuesPrior:A,continuesAfter:x,title:X,isAllDay:me,localizer:_,slotStart:k,slotEnd:L}):X);return De.createElement(N,Object.assign({},this.props,{type:"date"}),De.createElement("div",Object.assign({},j,{style:Jt(Jt({},ke.style),o),className:vr("rbc-event",u,ke.className,{"rbc-selected":c,"rbc-event-allday":ne,"rbc-event-continues-prior":A,"rbc-event-continues-after":x}),onClick:function(Oe){return p&&p(l,Oe)},onDoubleClick:function(Oe){return v&&v(l,Oe)},onKeyDown:function(Oe){return y&&y(l,Oe)}}),typeof T=="function"?T(Ve):Ve))}}])}(De.Component);function Tf(r,e){return!r||e==null?!1:CP(r,e)}function HR(r,e){var n=r.right-r.left,i=n/e;return i}function KR(r,e,n,i){var o=HR(r,i);return n?i-1-Math.floor((e-r.left)/o):Math.floor((e-r.left)/o)}function H4(r,e){var n=e.x,i=e.y;return i>=r.top&&i<=r.bottom&&n>=r.left&&n<=r.right}function K4(r,e,n,i,o){var u=-1,l=-1,c=i-1,g=HR(e,i),p=KR(e,n.x,o,i),v=e.top<n.y&&e.bottom>n.y,y=e.top<r.y&&e.bottom>r.y,_=r.y>e.bottom,A=e.top>r.y,x=n.top<e.top&&n.bottom>e.bottom;return x&&(u=0,l=c),v&&(A?(u=0,l=p):_&&(u=p,l=c)),y&&(u=l=o?c-Math.floor((r.x-e.left)/g):Math.floor((r.x-e.left)/g),v?p<u?u=p:l=p:r.y<n.y?l=c:u=0),{startIdx:u,endIdx:l}}function z4(r){var e=r.target,n=r.offset,i=r.container,o=r.box,u=Xa(e),l=u.top,c=u.left,g=u.width,p=u.height,v=Xa(i),y=v.top,_=v.left,A=v.width,x=v.height,S=Xa(o),R=S.width,T=S.height,D=y+x,C=_+A,N=l+T,k=c+R,L=n.x,j=n.y,X=N>D?l-T-j:l+j+p,re=k>C?c+L-R+g:c+L;return{topOffset:X,leftOffset:re}}function V4(r){var e=r.containerRef,n=r.accessors,i=r.getters,o=r.selected,u=r.components,l=r.localizer,c=r.position,g=r.show,p=r.events,v=r.slotStart,y=r.slotEnd,_=r.onSelect,A=r.onDoubleClick,x=r.onKeyPress,S=r.handleDragStart,R=r.popperRef,T=r.target,D=r.offset;j4({ref:R,callback:g}),dt.useLayoutEffect(function(){var k=z4({target:T,offset:D,container:e.current,box:R.current}),L=k.topOffset,j=k.leftOffset;R.current.style.top="".concat(L,"px"),R.current.style.left="".concat(j,"px")},[D.x,D.y,T]);var C=c.width,N={minWidth:C+C/2};return De.createElement("div",{style:N,className:"rbc-overlay",ref:R},De.createElement("div",{className:"rbc-overlay-header"},l.format(v,"dayHeaderFormat")),p.map(function(k,L){return De.createElement(qR,{key:L,type:"popup",localizer:l,event:k,getters:i,onSelect:_,accessors:n,components:u,onDoubleClick:A,onKeyPress:x,continuesPrior:l.lt(n.end(k),v,"day"),continuesAfter:l.gte(n.start(k),y,"day"),slotStart:v,slotEnd:y,selected:Tf(k,o),draggable:!0,onDragStart:function(){return S(k)},onDragEnd:function(){return g()}})}))}var zR=De.forwardRef(function(r,e){return De.createElement(V4,Object.assign({},r,{popperRef:e}))});zR.propTypes={accessors:ot.object.isRequired,getters:ot.object.isRequired,selected:ot.object,components:ot.object.isRequired,localizer:ot.object.isRequired,position:ot.object.isRequired,show:ot.func.isRequired,events:ot.array.isRequired,slotStart:ot.instanceOf(Date).isRequired,slotEnd:ot.instanceOf(Date),onSelect:ot.func,onDoubleClick:ot.func,onKeyPress:ot.func,handleDragStart:ot.func,style:ot.object,offset:ot.shape({x:ot.number,y:ot.number})};function $4(r){var e=r.containerRef,n=r.popupOffset,i=n===void 0?5:n,o=r.overlay,u=r.accessors,l=r.localizer,c=r.components,g=r.getters,p=r.selected,v=r.handleSelectEvent,y=r.handleDoubleClickEvent,_=r.handleKeyPressEvent,A=r.handleDragStart,x=r.onHide,S=r.overlayDisplay,R=dt.useRef(null);if(!o.position)return null;var T=i;isNaN(i)||(T={x:i,y:i});var D=o.position,C=o.events,N=o.date,k=o.end;return De.createElement(Xm,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:x,target:o.target},function(L){var j=L.props;return De.createElement(zR,Object.assign({},j,{containerRef:e,ref:R,target:o.target,offset:T,accessors:u,getters:g,selected:p,components:c,localizer:l,position:D,show:S,events:C,slotStart:N,slotEnd:k,onSelect:v,onDoubleClick:y,onKeyPress:_,handleDragStart:A}))})}var g0=De.forwardRef(function(r,e){return De.createElement($4,Object.assign({},r,{containerRef:e}))});g0.propTypes={popupOffset:ot.oneOfType([ot.number,ot.shape({x:ot.number,y:ot.number})]),overlay:ot.shape({position:ot.object,events:ot.array,date:ot.instanceOf(Date),end:ot.instanceOf(Date)}),accessors:ot.object.isRequired,localizer:ot.object.isRequired,components:ot.object.isRequired,getters:ot.object.isRequired,selected:ot.object,handleSelectEvent:ot.func,handleDoubleClickEvent:ot.func,handleKeyPressEvent:ot.func,handleDragStart:ot.func,onHide:ot.func,overlayDisplay:ot.func};function Gr(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return xu(n,r,e,{passive:!1})}function W4(r,e,n){return!r||zu(r,document.elementFromPoint(e,n))}function G4(r,e){var n=e.clientX,i=e.clientY,o=document.elementFromPoint(n,i);return xR(o,".rbc-event",r)}function Y4(r,e){var n=e.clientX,i=e.clientY,o=document.elementFromPoint(n,i);return xR(o,".rbc-show-more",r)}function Qc(r,e){return!!G4(r,e)}function J4(r,e){return!!Y4(r,e)}function bu(r){var e=r;return r.touches&&r.touches.length&&(e=r.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var hA=5,X4=250,VR=function(){function r(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.global,o=i===void 0?!1:i,u=n.longPressThreshold,l=u===void 0?250:u,c=n.validContainers,g=c===void 0?[]:c;Dr(this,r),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||o,this.longPressThreshold=l,this.validContainers=g,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Gr("touchmove",function(){},window),this._removeKeyDownListener=Gr("keydown",this._keyListener),this._removeKeyUpListener=Gr("keyup",this._keyListener),this._removeDropFromOutsideListener=Gr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Gr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Cr(r,[{key:"on",value:function(n,i){var o=this._listeners[n]||(this._listeners[n]=[]);return o.push(i),{remove:function(){var l=o.indexOf(i);l!==-1&&o.splice(l,1)}}}},{key:"emit",value:function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];var l,c=this._listeners[n]||[];return c.forEach(function(g){l===void 0&&(l=g.apply(void 0,o))}),l}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var i=this._selectRect;return!i||!this.selecting?!1:pA(i,oo(n))}},{key:"filter",value:function(n){var i=this._selectRect;return!i||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,i){var o=this,u=null,l=null,c=null,g=function(_){u=setTimeout(function(){v(),n(_)},o.longPressThreshold),l=Gr("touchmove",function(){return v()}),c=Gr("touchend",function(){return v()})},p=Gr("touchstart",g),v=function(){u&&clearTimeout(u),l&&l(),c&&c(),u=null,l=null,c=null};return i&&g(i),function(){v(),p()}}},{key:"_addInitialEventListener",value:function(){var n=this,i=Gr("mousedown",function(u){n._removeInitialEventListener(),n._handleInitialEvent(u),n._removeInitialEventListener=Gr("mousedown",n._handleInitialEvent)}),o=Gr("touchstart",function(u){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,u)});this._removeInitialEventListener=function(){i(),o()}}},{key:"_dropFromOutsideListener",value:function(n){var i=bu(n),o=i.pageX,u=i.pageY,l=i.clientX,c=i.clientY;this.emit("dropFromOutside",{x:o,y:u,clientX:l,clientY:c}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var i=bu(n),o=i.pageX,u=i.pageY,l=i.clientX,c=i.clientY;this.emit("dragOverFromOutside",{x:o,y:u,clientX:l,clientY:c}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var i=bu(n),o=i.clientX,u=i.clientY,l=i.pageX,c=i.pageY,g=this.container(),p,v;if(!(n.which===3||n.button===2||!W4(g,o,u))){if(!this.globalMouse&&g&&!zu(g,n.target)){var y=Q4(0),_=y.top,A=y.left,x=y.bottom,S=y.right;if(v=oo(g),p=pA({top:v.top-_,left:v.left-A,bottom:v.bottom+x,right:v.right+S},{top:c,left:l}),!p)return}var R=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:l,y:c,clientX:o,clientY:u});if(R!==!1)switch(n.type){case"mousedown":this._removeEndListener=Gr("mouseup",this._handleTerminatingEvent),this._onEscListener=Gr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Gr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Gr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Gr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var i=n.target,o=this.validContainers;return!o||!o.length||!i?!0:o.some(function(u){return!!i.closest(u)})}},{key:"_handleTerminatingEvent",value:function(n){var i=this.selecting,o=this._selectRect;if(!i&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var u=!this.container||zu(this.container(),n.target),l=this._isWithinValidContainer(n);return n.key==="Escape"||!l?this.emit("reset"):!i&&u?this._handleClickEvent(n):i?this.emit("select",o):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var i=bu(n),o=i.pageX,u=i.pageY,l=i.clientX,c=i.clientY,g=new Date().getTime();return this._lastClickData&&g-this._lastClickData.timestamp<X4?(this._lastClickData=null,this.emit("doubleClick",{x:o,y:u,clientX:l,clientY:c})):(this._lastClickData={timestamp:g},this.emit("click",{x:o,y:u,clientX:l,clientY:c}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var i=this._initialEventData,o=i.x,u=i.y,l=bu(n),c=l.pageX,g=l.pageY,p=Math.abs(o-c),v=Math.abs(u-g),y=Math.min(c,o),_=Math.min(g,u),A=this.selecting,x=this.isClick(c,g);x&&!A&&!(p||v)||(!A&&!x&&this.emit("selectStart",this._initialEventData),x||(this.selecting=!0,this._selectRect={top:_,left:y,x:c,y:g,right:y+p,bottom:_+v},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,i){var o=this._initialEventData,u=o.x,l=o.y,c=o.isTouch;return!c&&Math.abs(n-u)<=hA&&Math.abs(i-l)<=hA}}])}();function Q4(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return qi(r)!=="object"&&(r={top:r,left:r,right:r,bottom:r}),r}function pA(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=oo(r),o=i.top,u=i.left,l=i.right,c=l===void 0?u:l,g=i.bottom,p=g===void 0?o:g,v=oo(e),y=v.top,_=v.left,A=v.right,x=A===void 0?_:A,S=v.bottom,R=S===void 0?y:S;return!(p-n<y||o+n>R||c-n<_||u+n>x)}function oo(r){if(!r.getBoundingClientRect)return r;var e=r.getBoundingClientRect(),n=e.left+gA("left"),i=e.top+gA("top");return{top:i,left:n,right:(r.offsetWidth||0)+n,bottom:(r.offsetHeight||0)+i}}function gA(r){if(r==="left")return window.pageXOffset||document.body.scrollLeft||0;if(r==="top")return window.pageYOffset||document.body.scrollTop||0}var Z4=function(r){function e(n,i){var o;return Dr(this,e),o=Yr(this,e,[n,i]),o.state={selecting:!1},o.containerRef=dt.createRef(),o}return Jr(e,r),Cr(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(i){!i.selectable&&this.props.selectable&&this._selectable(),i.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var i=this.props,o=i.range,u=i.getNow,l=i.getters,c=i.date,g=i.components.dateCellWrapper,p=i.localizer,v=this.state,y=v.selecting,_=v.startIdx,A=v.endIdx,x=u();return De.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},o.map(function(S,R){var T=y&&R>=_&&R<=A,D=l.dayProp(S),C=D.className,N=D.style;return De.createElement(g,{key:R,value:S,range:o},De.createElement("div",{style:N,className:vr("rbc-day-bg",C,T&&"rbc-selected-cell",p.isSameDate(S,x)&&"rbc-today",c&&p.neq(c,S,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var i=this,o=this.containerRef.current,u=this._selector=new VR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),l=function(g,p){if(!Qc(o,g)&&!J4(o,g)){var v=oo(o),y=i.props,_=y.range,A=y.rtl;if(H4(v,g)){var x=KR(v,g.x,A,_.length);i._selectSlot({startIdx:x,endIdx:x,action:p,box:g})}}i._initial={},i.setState({selecting:!1})};u.on("selecting",function(c){var g=i.props,p=g.range,v=g.rtl,y=-1,_=-1;if(i.state.selecting||(tr(i.props.onSelectStart,[c]),i._initial={x:c.x,y:c.y}),u.isSelected(o)){var A=oo(o),x=K4(i._initial,A,c,p.length,v);y=x.startIdx,_=x.endIdx}i.setState({selecting:!0,startIdx:y,endIdx:_})}),u.on("beforeSelect",function(c){if(i.props.selectable==="ignoreEvents")return!Qc(i.containerRef.current,c)}),u.on("click",function(c){return l(c,"click")}),u.on("doubleClick",function(c){return l(c,"doubleClick")}),u.on("select",function(c){i._selectSlot(Jt(Jt({},i.state),{},{action:"select",bounds:c})),i._initial={},i.setState({selecting:!1}),tr(i.props.onSelectEnd,[i.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(i){var o=i.endIdx,u=i.startIdx,l=i.action,c=i.bounds,g=i.box;o!==-1&&u!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:u,end:o,action:l,bounds:c,box:g,resourceId:this.props.resourceId})}}])}(De.Component),li={propTypes:{slotMetrics:ot.object.isRequired,selected:ot.object,isAllDay:ot.bool,accessors:ot.object.isRequired,localizer:ot.object.isRequired,components:ot.object.isRequired,getters:ot.object.isRequired,onSelect:ot.func,onDoubleClick:ot.func,onKeyPress:ot.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var i=e.selected;e.isAllDay;var o=e.accessors,u=e.getters,l=e.onSelect,c=e.onDoubleClick,g=e.onKeyPress,p=e.localizer,v=e.slotMetrics,y=e.components,_=e.resizable,A=v.continuesPrior(n),x=v.continuesAfter(n);return De.createElement(qR,{event:n,getters:u,localizer:p,accessors:o,components:y,onSelect:l,onDoubleClick:c,onKeyPress:g,continuesPrior:A,continuesAfter:x,slotStart:v.first,slotEnd:v.last,selected:Tf(n,i),resizable:_})},renderSpan:function(e,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",u=Math.abs(n)/e*100+"%";return De.createElement("div",{key:i,className:"rbc-row-segment",style:{WebkitFlexBasis:u,flexBasis:u,maxWidth:u}},o)}},$R=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this,o=this.props,u=o.segments,l=o.slotMetrics.slots,c=o.className,g=1;return De.createElement("div",{className:vr(c,"rbc-row")},u.reduce(function(p,v,y){var _=v.event,A=v.left,x=v.right,S=v.span,R="_lvl_"+y,T=A-g,D=li.renderEvent(i.props,_);return T&&p.push(li.renderSpan(l,T,"".concat(R,"_gap"))),p.push(li.renderSpan(l,S,R,D)),g=x+1,p},[]))}}])}(De.Component);$R.defaultProps=Jt({},li.defaultProps);function WR(r){var e=r.dateRange,n=r.unit,i=n===void 0?"day":n,o=r.localizer;return{first:e[0],last:o.add(e[e.length-1],1,i)}}function e8(r,e,n,i){var o=WR({dateRange:e,localizer:i}),u=o.first,l=o.last,c=i.diff(u,l,"day"),g=i.max(i.startOf(n.start(r),"day"),u),p=i.min(i.ceil(n.end(r),"day"),l),v=YP(e,function(_){return i.isSameDate(_,g)}),y=i.diff(g,p,"day");return y=Math.min(y,c),y=Math.max(y-i.segmentOffset,1),{event:r,span:y,left:v+1,right:Math.max(v+y,1)}}function GR(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,i,o,u=[],l=[];for(n=0;n<r.length;n++){for(o=r[n],i=0;i<u.length&&t8(o,u[i]);i++);i>=e?l.push(o):(u[i]||(u[i]=[])).push(o)}for(n=0;n<u.length;n++)u[n].sort(function(c,g){return c.left-g.left});return{levels:u,extra:l}}function Wu(r,e,n,i,o){var u={start:i.start(r),end:i.end(r)},l={start:e,end:n};return o.inEventRange({event:u,range:l})}function t8(r,e){return e.some(function(n){return n.left<=r.right&&n.right>=r.left})}function r8(r,e,n){var i=Mc(r),o=[],u=[];i.forEach(function(g){var p=e.start(g),v=e.end(g);n.daySpan(p,v)>1?o.push(g):u.push(g)});var l=o.sort(function(g,p){return mm(g,p,e,n)}),c=u.sort(function(g,p){return mm(g,p,e,n)});return[].concat(Mc(l),Mc(c))}function mm(r,e,n,i){var o={start:n.start(r),end:n.end(r),allDay:n.allDay(r)},u={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return i.sortEvents({evtA:o,evtB:u})}var YR=function(e,n){return e.left<=n&&e.right>=n},vA=function(e,n){return e.filter(function(i){return YR(i,n)}).map(function(i){return i.event})},JR=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){for(var i=this.props,o=i.segments,u=i.slotMetrics.slots,l=GR(o).levels[0],c=1,g=1,p=[];c<=u;){var v="_lvl_"+c,y=l.filter(function(D){return YR(D,c)})[0]||{},_=y.event,A=y.left,x=y.right,S=y.span;if(!_){c++;continue}var R=Math.max(0,A-g);if(this.canRenderSlotEvent(A,S)){var T=li.renderEvent(this.props,_);R&&p.push(li.renderSpan(u,R,v+"_gap")),p.push(li.renderSpan(u,S,v,T)),g=c=x+1}else R&&p.push(li.renderSpan(u,R,v+"_gap")),p.push(li.renderSpan(u,1,v,this.renderShowMore(o,c))),g=c=c+1}return De.createElement("div",{className:"rbc-row"},p)}},{key:"canRenderSlotEvent",value:function(i,o){var u=this.props.segments;return e6(i,i+o).every(function(l){var c=vA(u,l).length;return c===1})}},{key:"renderShowMore",value:function(i,o){var u=this,l=this.props,c=l.localizer,g=l.slotMetrics,p=l.components,v=g.getEventsForSlot(o),y=vA(i,o),_=y.length;if(p!=null&&p.showMore){var A=p.showMore,x=g.getDateForSlot(o-1);return _?De.createElement(A,{localizer:c,slotDate:x,slot:o,count:_,events:v,remainingEvents:y}):!1}return _?De.createElement("button",{type:"button",key:"sm_"+o,className:vr("rbc-button-link","rbc-show-more"),onClick:function(R){return u.showMore(o,R)}},c.messages.showMore(_,y,v)):!1}},{key:"showMore",value:function(i,o){o.preventDefault(),o.stopPropagation(),this.props.onShowMore(i,o.target)}}])}(De.Component);JR.defaultProps=Jt({},li.defaultProps);var n8=function(e){var n=e.children;return De.createElement("div",{className:"rbc-row-content-scroll-container"},n)},i8=function(e,n){return e.left<=n&&e.right>=n},a8=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function XR(){return RR(function(r){for(var e=r.range,n=r.events,i=r.maxRows,o=r.minRows,u=r.accessors,l=r.localizer,c=WR({dateRange:e,localizer:l}),g=c.first,p=c.last,v=n.map(function(S){return e8(S,e,u,l)}),y=GR(v,Math.max(i-1,1)),_=y.levels,A=y.extra,x=A.length>0?o-1:o;_.length<x;)_.push([]);return{first:g,last:p,levels:_,extra:A,range:e,slots:e.length,clone:function(R){var T=XR();return T(Jt(Jt({},r),R))},getDateForSlot:function(R){return e[R]},getSlotForDate:function(R){return e.find(function(T){return l.isSameDate(T,R)})},getEventsForSlot:function(R){return v.filter(function(T){return i8(T,R)}).map(function(T){return T.event})},continuesPrior:function(R){return l.continuesPrior(u.start(R),g)},continuesAfter:function(R){var T=u.start(R),D=u.end(R);return l.continuesAfter(T,D,p)}}},a8)}var Gu=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.handleSelectSlot=function(l){var c=n.props,g=c.range,p=c.onSelectSlot;p(g.slice(l.start,l.end+1),l)},n.handleShowMore=function(l,c){var g=n.props,p=g.range,v=g.onShowMore,y=n.slotMetrics(n.props),_=iI(n.containerRef.current,".rbc-row-bg")[0],A;_&&(A=_.children[l-1]);var x=y.getEventsForSlot(l);v(x,p[l-1],A,l,c)},n.getContainer=function(){var l=n.props.container;return l?l():n.containerRef.current},n.renderHeadingCell=function(l,c){var g=n.props,p=g.renderHeader,v=g.getNow,y=g.localizer;return p({date:l,key:"header_".concat(c),className:vr("rbc-date-cell",y.isSameDate(l,v())&&"rbc-now")})},n.renderDummy=function(){var l=n.props,c=l.className,g=l.range,p=l.renderHeader,v=l.showAllEvents;return De.createElement("div",{className:c,ref:n.containerRef},De.createElement("div",{className:vr("rbc-row-content",v&&"rbc-row-content-scrollable")},p&&De.createElement("div",{className:"rbc-row",ref:n.headingRowRef},g.map(n.renderHeadingCell)),De.createElement("div",{className:"rbc-row",ref:n.eventRowRef},De.createElement("div",{className:"rbc-row-segment"},De.createElement("div",{className:"rbc-event"},De.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=dt.createRef(),n.headingRowRef=dt.createRef(),n.eventRowRef=dt.createRef(),n.slotMetrics=XR(),n}return Jr(e,r),Cr(e,[{key:"getRowLimit",value:function(){var i,o=cv(this.eventRowRef.current),u=(i=this.headingRowRef)!==null&&i!==void 0&&i.current?cv(this.headingRowRef.current):0,l=cv(this.containerRef.current)-u;return Math.max(Math.floor(l/o),1)}},{key:"render",value:function(){var i=this.props,o=i.date,u=i.rtl,l=i.range,c=i.className,g=i.selected,p=i.selectable,v=i.renderForMeasure,y=i.accessors,_=i.getters,A=i.components,x=i.getNow,S=i.renderHeader,R=i.onSelect,T=i.localizer,D=i.onSelectStart,C=i.onSelectEnd,N=i.onDoubleClick,k=i.onKeyPress,L=i.resourceId,j=i.longPressThreshold,X=i.isAllDay,re=i.resizable,B=i.showAllEvents;if(v)return this.renderDummy();var Y=this.slotMetrics(this.props),me=Y.levels,ne=Y.extra,ke=B?n8:Ui,Ve=A.weekWrapper,ge={selected:g,accessors:y,getters:_,localizer:T,components:A,onSelect:R,onDoubleClick:N,onKeyPress:k,resourceId:L,slotMetrics:Y,resizable:re};return De.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},De.createElement(Z4,{localizer:T,date:o,getNow:x,rtl:u,range:l,selectable:p,container:this.getContainer,getters:_,onSelectStart:D,onSelectEnd:C,onSelectSlot:this.handleSelectSlot,components:A,longPressThreshold:j,resourceId:L}),De.createElement("div",{className:vr("rbc-row-content",B&&"rbc-row-content-scrollable"),role:"row"},S&&De.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},l.map(this.renderHeadingCell)),De.createElement(ke,null,De.createElement(Ve,Object.assign({isAllDay:X},ge,{rtl:this.props.rtl}),me.map(function(Oe,we){return De.createElement($R,Object.assign({key:we,segments:Oe},ge))}),!!ne.length&&De.createElement(JR,Object.assign({segments:ne,onShowMore:this.handleShowMore},ge))))))}}])}(De.Component);Gu.defaultProps={minRows:0,maxRows:1/0};var v0=function(e){var n=e.label;return De.createElement("span",{role:"columnheader","aria-sort":"none"},n)},o8=function(e){var n=e.label,i=e.drilldownView,o=e.onDrillDown;return i?De.createElement("button",{type:"button",className:"rbc-button-link",onClick:o},n):De.createElement("span",null,n)},s8=["date","className"],u8=function(e,n,i,o,u){return e.filter(function(l){return Wu(l,n,i,o,u)})},Rf=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(l,c){var g=n.props,p=g.events,v=g.components,y=g.selectable,_=g.getNow,A=g.selected,x=g.date,S=g.localizer,R=g.longPressThreshold,T=g.accessors,D=g.getters,C=g.showAllEvents,N=n.state,k=N.needLimitMeasure,L=N.rowLimit,j=u8(Mc(p),l[0],l[l.length-1],T,S),X=r8(j,T,S);return De.createElement(Gu,{key:c,ref:c===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:_,date:x,range:l,events:X,maxRows:C?1/0:L,selected:A,selectable:y,components:v,accessors:T,getters:D,localizer:S,renderHeader:n.readerDateHeading,renderForMeasure:k,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:R,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:C})},n.readerDateHeading=function(l){var c=l.date,g=l.className,p=gi(l,s8),v=n.props,y=v.date,_=v.getDrilldownView,A=v.localizer,x=A.neq(c,y,"month"),S=A.isSameDate(c,y),R=_(c),T=A.format(c,"dateFormat"),D=n.props.components.dateHeader||o8;return De.createElement("div",Object.assign({},p,{className:vr(g,x&&"rbc-off-range",S&&"rbc-current"),role:"cell"}),De.createElement(D,{label:T,date:c,drilldownView:R,isOffRange:x,onDrillDown:function(N){return n.handleHeadingClick(c,R,N)}}))},n.handleSelectSlot=function(l,c){n._pendingSelection=n._pendingSelection.concat(l),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(c)})},n.handleHeadingClick=function(l,c,g){g.preventDefault(),n.clearSelection(),tr(n.props.onDrillDown,[l,c])},n.handleSelectEvent=function(){n.clearSelection();for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){n.clearSelection();for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onKeyPressEvent,c)},n.handleShowMore=function(l,c,g,p,v){var y=n.props,_=y.popup,A=y.onDrillDown,x=y.onShowMore,S=y.getDrilldownView,R=y.doShowMoreDrillDown;if(n.clearSelection(),_){var T=aR(g,n.containerRef.current);n.setState({overlay:{date:c,events:l,position:T,target:v}})}else R&&tr(A,[c,S(c)||Zr.DAY]);tr(x,[l,c,p])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=dt.createRef(),n.slotRowRef=dt.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Jr(e,r),Cr(e,[{key:"componentDidMount",value:function(){var i=this,o;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){o||oR(function(){o=!1,i.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var i=this.props,o=i.date,u=i.localizer,l=i.className,c=u.visibleDays(o,u),g=H3(c,7);return this._weekCount=g.length,De.createElement("div",{className:vr("rbc-month-view",l),role:"table","aria-label":"Month View",ref:this.containerRef},De.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(g[0])),g.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(i){var o=this.props,u=o.localizer,l=o.components,c=i[0],g=i[i.length-1],p=l.header||v0;return u.range(c,g,"day").map(function(v,y){return De.createElement("div",{key:"header_"+y,className:"rbc-header"},De.createElement(p,{date:v,localizer:u,label:u.format(v,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var i,o,u=this,l=(i=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&i!==void 0?i:{},c=this.props,g=c.accessors,p=c.localizer,v=c.components,y=c.getters,_=c.selected,A=c.popupOffset,x=c.handleDragStart,S=function(){return u.setState({overlay:null})};return De.createElement(g0,{overlay:l,accessors:g,localizer:p,components:v,getters:y,selected:_,popupOffset:A,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:x,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(i){var o=this._pendingSelection.slice();this._pendingSelection=[],o.sort(function(c,g){return+c-+g});var u=new Date(o[0]),l=new Date(o[o.length-1]);l.setDate(o[o.length-1].getDate()+1),tr(this.props.onSelectSlot,{slots:o,start:u,end:l,action:i.action,bounds:i.bounds,box:i.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(i,o){var u=i.date,l=i.localizer;return{date:u,needLimitMeasure:l.neq(u,o.date,"month")}}}])}(De.Component);Rf.range=function(r,e){var n=e.localizer,i=n.firstVisibleDay(r,n),o=n.lastVisibleDay(r,n);return{start:i,end:o}};Rf.navigate=function(r,e,n){var i=n.localizer;switch(e){case fn.PREVIOUS:return i.add(r,-1,"month");case fn.NEXT:return i.add(r,1,"month");default:return r}};Rf.title=function(r,e){var n=e.localizer;return n.format(r,"monthHeaderFormat")};var yA=function(e){var n=e.min,i=e.max,o=e.step,u=e.slots,l=e.localizer;return"".concat(+l.startOf(n,"minutes"))+"".concat(+l.startOf(i,"minutes"))+"".concat(o,"-").concat(u)};function y0(r){for(var e=r.min,n=r.max,i=r.step,o=r.timeslots,u=r.localizer,l=yA({step:i,localizer:u}),c=1+u.getTotalMin(e,n),g=u.getMinutesFromMidnight(e),p=Math.ceil((c-1)/(i*o)),v=p*o,y=new Array(p),_=new Array(v),A=0;A<p;A++){y[A]=new Array(o);for(var x=0;x<o;x++){var S=A*o+x,R=S*i;_[S]=y[A][x]=u.getSlotDate(e,g,R)}}var T=_.length*i;_.push(u.getSlotDate(e,g,T));function D(C){var N=u.diff(e,C,"minutes")+u.getDstOffset(e,C);return Math.min(N,c)}return{groups:y,update:function(N){return yA(N)!==l?y0(N):this},dateIsInGroup:function(N,k){var L=y[k+1];return u.inRange(N,y[k][0],L?L[0]:n,"minutes")},nextSlot:function(N){var k=_[Math.min(_.findIndex(function(L){return L===N||u.eq(L,N)})+1,_.length-1)];return u.eq(k,N)&&(k=u.add(N,i,"minutes")),k},closestSlotToPosition:function(N){var k=Math.min(_.length-1,Math.max(0,Math.floor(N*v)));return _[k]},closestSlotFromPoint:function(N,k){var L=Math.abs(k.top-k.bottom);return this.closestSlotToPosition((N.y-k.top)/L)},closestSlotFromDate:function(N){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(u.lt(N,e,"minutes"))return _[0];if(u.gt(N,n,"minutes"))return _[_.length-1];var L=u.diff(e,N,"minutes");return _[(L-L%i)/i+k]},startsBeforeDay:function(N){return u.lt(N,e,"day")},startsAfterDay:function(N){return u.gt(N,n,"day")},startsBefore:function(N){return u.lt(u.merge(e,N),e,"minutes")},startsAfter:function(N){return u.gt(u.merge(n,N),n,"minutes")},getRange:function(N,k,L,j){L||(N=u.min(n,u.max(e,N))),j||(k=u.min(n,u.max(e,k)));var X=D(N),re=D(k),B=re>i*v&&!u.eq(n,k)?(X-i)/(i*v)*100:X/(i*v)*100;return{top:B,height:re/(i*v)*100-B,start:D(N),startDate:N,end:D(k),endDate:k}},getCurrentTimePosition:function(N){var k=D(N),L=k/(i*v)*100;return L}}}var l8=function(){function r(e,n){var i=n.accessors,o=n.slotMetrics;Dr(this,r);var u=o.getRange(i.start(e),i.end(e)),l=u.start,c=u.startDate,g=u.end,p=u.endDate,v=u.top,y=u.height;this.start=l,this.end=g,this.startMs=+c,this.endMs=+p,this.top=v,this.height=y,this.data=e}return Cr(r,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(o,u){return Math.max(o,u.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var i=100-this.container._width;return i/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,i=Math.min(100,this._width*1.7);if(this.rows)return i;if(this.leaves)return this.leaves.length>0?i:n;var o=this.row.leaves,u=o.indexOf(this);return u===o.length-1?n:i}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,i=n.leaves,o=n.xOffset,u=n._width,l=i.indexOf(this)+1;return o+l*u}}])}();function c8(r,e,n){return Math.abs(e.start-r.start)<n||e.start>r.start&&e.start<r.end}function f8(r){for(var e=b6(r,["startMs",function(c){return-c.endMs}]),n=[];e.length>0;){var i=e.shift();n.push(i);for(var o=0;o<e.length;o++){var u=e[o];if(!(i.endMs>u.startMs)){if(o>0){var l=e.splice(o,1)[0];n.push(l)}break}}}return n}function QR(r){for(var e=r.events,n=r.minimumStartDifference,i=r.slotMetrics,o=r.accessors,u=e.map(function(v){return new l8(v,{slotMetrics:i,accessors:o})}),l=f8(u),c=[],g=function(){var y=l[p],_=c.find(function(S){return S.end>y.start||Math.abs(y.start-S.start)<n});if(!_)return y.rows=[],c.push(y),1;y.container=_;for(var A=null,x=_.rows.length-1;!A&&x>=0;x--)c8(_.rows[x],y,n)&&(A=_.rows[x]);A?(A.leaves.push(y),y.row=A):(y.leaves=[],_.rows.push(y))},p=0;p<l.length;p++)g();return l.map(function(v){return{event:v.data,style:{top:v.top,height:v.height,width:v.width,xOffset:Math.max(0,v.xOffset)}}})}function ZR(r,e,n){for(var i=0;i<r.friends.length;++i)if(!(n.indexOf(r.friends[i])>-1)){e=e>r.friends[i].idx?e:r.friends[i].idx,n.push(r.friends[i]);var o=ZR(r.friends[i],e,n);e=e>o?e:o}return e}function d8(r){var e=r.events,n=r.minimumStartDifference,i=r.slotMetrics,o=r.accessors,u=QR({events:e,minimumStartDifference:n,slotMetrics:i,accessors:o});u.sort(function(Ve,ge){return Ve=Ve.style,ge=ge.style,Ve.top!==ge.top?Ve.top>ge.top?1:-1:Ve.height!==ge.height?Ve.top+Ve.height<ge.top+ge.height?1:-1:0});for(var l=0;l<u.length;++l)u[l].friends=[],delete u[l].style.left,delete u[l].style.left,delete u[l].idx,delete u[l].size;for(var c=0;c<u.length-1;++c)for(var g=u[c],p=g.style.top,v=g.style.top+g.style.height,y=c+1;y<u.length;++y){var _=u[y],A=_.style.top,x=_.style.top+_.style.height;(A>=p&&x<=v||x>p&&x<=v||A>=p&&A<v)&&(g.friends.push(_),_.friends.push(g))}for(var S=0;S<u.length;++S){for(var R=u[S],T=[],D=0;D<100;++D)T.push(1);for(var C=0;C<R.friends.length;++C)R.friends[C].idx!==void 0&&(T[R.friends[C].idx]=0);R.idx=T.indexOf(1)}for(var N=0;N<u.length;++N){var k=0;if(!u[N].size){var L=[],j=ZR(u[N],0,L);k=100/(j+1),u[N].size=k;for(var X=0;X<L.length;++X)L[X].size=k}}for(var re=0;re<u.length;++re){var B=u[re];B.style.left=B.idx*B.size;for(var Y=0,me=0;me<B.friends.length;++me){var ne=B.friends[me].idx;Y=Y>ne?Y:ne}Y<=B.idx&&(B.size=100-B.idx*B.size);var ke=B.idx===0?0:3;B.style.width="calc(".concat(B.size,"% - ").concat(ke,"px)"),B.style.height="calc(".concat(B.style.height,"% - 2px)"),B.style.xOffset="calc(".concat(B.style.left,"% + ").concat(ke,"px)")}return u}var mA={overlap:QR,"no-overlap":d8};function h8(r){return!!(r&&r.constructor&&r.call&&r.apply)}function p8(r){r.events,r.minimumStartDifference,r.slotMetrics,r.accessors;var e=r.dayLayoutAlgorithm,n=e;return e in mA&&(n=mA[e]),h8(n)?n.apply(this,arguments):[]}var eD=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.renderSlot,u=i.resource,l=i.group,c=i.getters,g=i.components,p=g===void 0?{}:g,v=p.timeSlotWrapper,y=v===void 0?Ui:v,_=c?c.slotGroupProp(l):{};return De.createElement("div",Object.assign({className:"rbc-timeslot-group"},_),l.map(function(A,x){var S=c?c.slotProp(A,u):{};return De.createElement(y,{key:x,value:A,resource:u},De.createElement("div",Object.assign({},S,{className:vr("rbc-time-slot",S.className)}),o&&o(A,x)))}))}}])}(dt.Component);function Tc(r){return typeof r=="string"?r:r+"%"}function g8(r){var e=r.style,n=r.className,i=r.event,o=r.accessors,u=r.rtl,l=r.selected,c=r.label,g=r.continuesPrior,p=r.continuesAfter,v=r.getters,y=r.onClick,_=r.onDoubleClick,A=r.isBackgroundEvent,x=r.onKeyPress,S=r.components,R=S.event,T=S.eventWrapper,D=o.title(i),C=o.tooltip(i),N=o.end(i),k=o.start(i),L=v.eventProp(i,k,N,l),j=[De.createElement("div",{key:"1",className:"rbc-event-label"},c),De.createElement("div",{key:"2",className:"rbc-event-content"},R?De.createElement(R,{event:i,title:D}):D)],X=e.height,re=e.top,B=e.width,Y=e.xOffset,me=Jt(Jt({},L.style),{},Ga({top:Tc(re),height:Tc(X),width:Tc(B)},u?"right":"left",Tc(Y)));return De.createElement(T,Object.assign({type:"time"},r),De.createElement("div",{role:"button",tabIndex:0,onClick:y,onDoubleClick:_,style:me,onKeyDown:x,title:C?(typeof c=="string"?c+": ":"")+C:void 0,className:vr(A?"rbc-background-event":"rbc-event",n,L.className,{"rbc-selected":l,"rbc-event-continues-earlier":g,"rbc-event-continues-later":p})},j))}var v8=function(e){var n=e.children,i=e.className,o=e.style,u=e.innerRef;return De.createElement("div",{className:i,style:o,ref:u},n)},y8=De.forwardRef(function(r,e){return De.createElement(v8,Object.assign({},r,{innerRef:e}))}),m8=["dayProp"],b8=["eventContainerWrapper"],tD=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(l){var c=l.events,g=l.isBackgroundEvent,p=n.props,v=p.rtl,y=p.selected,_=p.accessors,A=p.localizer,x=p.getters,S=p.components,R=p.step,T=p.timeslots,D=p.dayLayoutAlgorithm,C=p.resizable,N=n,k=N.slotMetrics,L=A.messages,j=p8({events:c,accessors:_,slotMetrics:k,minimumStartDifference:Math.ceil(R*T/2),dayLayoutAlgorithm:D});return j.map(function(X,re){var B,Y=X.event,me=X.style,ne=_.end(Y),ke=_.start(Y),Ve=(B=_.eventId(Y))!==null&&B!==void 0?B:"evt_"+re,ge="eventTimeRangeFormat",Oe,we=k.startsBeforeDay(ke),Be=k.startsAfterDay(ne);we?ge="eventTimeRangeEndFormat":Be&&(ge="eventTimeRangeStartFormat"),we&&Be?Oe=L.allDay:Oe=A.format({start:ke,end:ne},ge);var q=we||k.startsBefore(ke),le=Be||k.startsAfter(ne);return De.createElement(g8,{style:me,event:Y,label:Oe,key:Ve,getters:x,rtl:v,components:S,continuesPrior:q,continuesAfter:le,accessors:_,resource:n.props.resource,selected:Tf(Y,y),onClick:function(be){return n._select(Jt(Jt(Jt({},Y),n.props.resource&&{sourceResource:n.props.resource}),g&&{isBackgroundEvent:!0}),be)},onDoubleClick:function(be){return n._doubleClick(Y,be)},isBackgroundEvent:g,onKeyPress:function(be){return n._keyPress(Y,be)},resizable:C})})},n._selectable=function(){var l=n.containerRef.current,c=n.props,g=c.longPressThreshold,p=c.localizer,v=n._selector=new VR(function(){return l},{longPressThreshold:g}),y=function(S){var R=n.props.onSelecting,T=n.state||{},D=_(S),C=D.startDate,N=D.endDate;R&&(p.eq(T.startDate,C,"minutes")&&p.eq(T.endDate,N,"minutes")||R({start:C,end:N,resourceId:n.props.resource})===!1)||(n.state.start!==D.start||n.state.end!==D.end||n.state.selecting!==D.selecting)&&n.setState(D)},_=function(S){var R=n.slotMetrics.closestSlotFromPoint(S,oo(l));n.state.selecting||(n._initialSlot=R);var T=n._initialSlot;p.lte(T,R)?R=n.slotMetrics.nextSlot(R):p.gt(T,R)&&(T=n.slotMetrics.nextSlot(T));var D=n.slotMetrics.getRange(p.min(T,R),p.max(T,R));return Jt(Jt({},D),{},{selecting:!0,top:"".concat(D.top,"%"),height:"".concat(D.height,"%")})},A=function(S,R){if(!Qc(n.containerRef.current,S)){var T=_(S),D=T.startDate,C=T.endDate;n._selectSlot({startDate:D,endDate:C,action:R,box:S})}n.setState({selecting:!1})};v.on("selecting",y),v.on("selectStart",y),v.on("beforeSelect",function(x){if(n.props.selectable==="ignoreEvents")return!Qc(n.containerRef.current,x)}),v.on("click",function(x){return A(x,"click")}),v.on("doubleClick",function(x){return A(x,"doubleClick")}),v.on("select",function(x){n.state.selecting&&(n._selectSlot(Jt(Jt({},n.state),{},{action:"select",bounds:x})),n.setState({selecting:!1}))}),v.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(l){for(var c=l.startDate,g=l.endDate,p=l.action,v=l.bounds,y=l.box,_=c,A=[];n.props.localizer.lte(_,g);)A.push(_),_=new Date(+_+n.props.step*60*1e3);tr(n.props.onSelectSlot,{slots:A,start:c,end:g,resourceId:n.props.resource,action:p,bounds:v,box:y})},n._select=function(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onSelectEvent,c)},n._doubleClick=function(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onDoubleClickEvent,c)},n._keyPress=function(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onKeyPressEvent,c)},n.slotMetrics=y0(n.props),n.containerRef=dt.createRef(),n}return Jr(e,r),Cr(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(i,o){this.props.selectable&&!i.selectable&&this._selectable(),!this.props.selectable&&i.selectable&&this._teardownSelectable();var u=this.props,l=u.getNow,c=u.isNow,g=u.localizer,p=u.date,v=u.min,y=u.max,_=g.neq(i.getNow(),l(),"minutes");if(i.isNow!==c||_){if(this.clearTimeIndicatorInterval(),c){var A=!_&&g.eq(i.date,p,"minutes")&&o.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(A)}}else c&&(g.neq(i.min,v,"minutes")||g.neq(i.max,y,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!o&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){i.intervalTriggered=!0,i.positionTimeIndicator(),i.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var i=this.props,o=i.min,u=i.max,l=i.getNow,c=l();if(c>=o&&c<=u){var g=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:g})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var i=this.props,o=i.date,u=i.max,l=i.rtl,c=i.isNow,g=i.resource,p=i.accessors,v=i.localizer,y=i.getters,_=y.dayProp,A=gi(y,m8),x=i.components,S=x.eventContainerWrapper,R=gi(x,b8);this.slotMetrics=this.slotMetrics.update(this.props);var T=this.slotMetrics,D=this.state,C=D.selecting,N=D.top,k=D.height,L=D.startDate,j=D.endDate,X={start:L,end:j},re=_(u,g),B=re.className,Y=re.style,me=R.dayColumnWrapper||y8;return De.createElement(me,{ref:this.containerRef,date:o,style:Y,className:vr(B,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",C&&"rbc-slot-selecting"),slotMetrics:T,resource:g},T.groups.map(function(ne,ke){return De.createElement(eD,{key:ke,group:ne,resource:g,getters:A,components:R})}),De.createElement(S,{localizer:v,resource:g,accessors:p,getters:A,components:R,slotMetrics:T},De.createElement("div",{className:vr("rbc-events-container",l&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),C&&De.createElement("div",{className:"rbc-slot-selection",style:{top:N,height:k}},De.createElement("span",null,v.format(X,"selectRangeFormat"))),c&&this.intervalTriggered&&De.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(De.Component);tD.defaultProps={dragThroughEvents:!0,timeslots:2};var rD=function(e){var n=e.label;return De.createElement(De.Fragment,null,n)},_8=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.handleHeaderClick=function(l,c,g){g.preventDefault(),tr(n.props.onDrillDown,[l,c])},n.renderRow=function(l){var c=n.props,g=c.events,p=c.rtl,v=c.selectable,y=c.getNow,_=c.range,A=c.getters,x=c.localizer,S=c.accessors,R=c.components,T=c.resizable,D=S.resourceId(l),C=l?g.filter(function(N){return S.resource(N)===D}):g;return De.createElement(Gu,{isAllDay:!0,rtl:p,getNow:y,minRows:2,maxRows:n.props.allDayMaxRows+1,range:_,events:C,resourceId:D,className:"rbc-allday-cell",selectable:v,selected:n.props.selected,components:R,accessors:S,getters:A,localizer:x,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:T})},n}return Jr(e,r),Cr(e,[{key:"renderHeaderCells",value:function(i){var o=this,u=this.props,l=u.localizer,c=u.getDrilldownView,g=u.getNow,p=u.getters.dayProp,v=u.components.header,y=v===void 0?v0:v,_=g();return i.map(function(A,x){var S=c(A),R=l.format(A,"dayFormat"),T=p(A),D=T.className,C=T.style,N=De.createElement(y,{date:A,label:R,localizer:l});return De.createElement("div",{key:x,style:C,className:vr("rbc-header",D,l.isSameDate(A,_)&&"rbc-today")},S?De.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(L){return o.handleHeaderClick(A,S,L)}},N):De.createElement("span",null,N))})}},{key:"render",value:function(){var i=this,o=this.props,u=o.width,l=o.rtl,c=o.resources,g=o.range,p=o.events,v=o.getNow,y=o.accessors,_=o.selectable,A=o.components,x=o.getters,S=o.scrollRef,R=o.localizer,T=o.isOverflowing,D=o.components,C=D.timeGutterHeader,N=D.resourceHeader,k=N===void 0?rD:N,L=o.resizable,j={};T&&(j[l?"marginLeft":"marginRight"]="".concat(Jm()-1,"px"));var X=c.groupEvents(p);return De.createElement("div",{style:j,ref:S,className:vr("rbc-time-header",T&&"rbc-overflowing")},De.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:u,minWidth:u,maxWidth:u}},C&&De.createElement(C,null)),c.map(function(re,B){var Y=Za(re,2),me=Y[0],ne=Y[1];return De.createElement("div",{className:"rbc-time-header-content",key:me||B},ne&&De.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(B)},De.createElement("div",{className:"rbc-header"},De.createElement(k,{index:B,label:y.resourceTitle(ne),resource:ne}))),De.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(g.length<=1?" rbc-time-header-cell-single-day":"")},i.renderHeaderCells(g)),De.createElement(Gu,{isAllDay:!0,rtl:l,getNow:v,minRows:2,maxRows:i.props.allDayMaxRows+1,range:g,events:X.get(me)||[],resourceId:ne&&me,className:"rbc-allday-cell",selectable:_,selected:i.props.selected,components:A,accessors:y,getters:x,localizer:R,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:L}))}))}}])}(De.Component),w8=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.handleHeaderClick=function(l,c,g){g.preventDefault(),tr(n.props.onDrillDown,[l,c])},n}return Jr(e,r),Cr(e,[{key:"renderHeaderCells",value:function(i){var o=this,u=this.props,l=u.localizer,c=u.getDrilldownView,g=u.getNow,p=u.getters.dayProp,v=u.components,y=v.header,_=y===void 0?v0:y,A=v.resourceHeader,x=A===void 0?rD:A,S=u.resources,R=u.accessors,T=u.events,D=u.rtl,C=u.selectable,N=u.components,k=u.getters,L=u.resizable,j=g(),X=S.groupEvents(T);return i.map(function(re,B){var Y=c(re),me=l.format(re,"dayFormat"),ne=p(re),ke=ne.className,Ve=ne.style,ge=De.createElement(_,{date:re,label:me,localizer:l});return De.createElement("div",{key:B,className:"rbc-time-header-content rbc-resource-grouping"},De.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(i.length<=1?" rbc-time-header-cell-single-day":"")},De.createElement("div",{style:Ve,className:vr("rbc-header",ke,l.isSameDate(re,j)&&"rbc-today")},Y?De.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(we){return o.handleHeaderClick(re,Y,we)}},ge):De.createElement("span",null,ge))),De.createElement("div",{className:"rbc-row"},S.map(function(Oe,we){var Be=Za(Oe,2),q=Be[0],le=Be[1];return De.createElement("div",{key:"resource_".concat(q,"_").concat(we),className:vr("rbc-header",ke,l.isSameDate(re,j)&&"rbc-today")},De.createElement(x,{index:we,label:R.resourceTitle(le),resource:le}))})),De.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},S.map(function(Oe,we){var Be=Za(Oe,2),q=Be[0],le=Be[1],Ae=(X.get(q)||[]).filter(function(be){return l.isSameDate(be.start,re)||l.isSameDate(be.end,re)});return De.createElement(Gu,{key:"resource_".concat(q,"_").concat(we),isAllDay:!0,rtl:D,getNow:g,minRows:2,maxRows:o.props.allDayMaxRows+1,range:[re],events:Ae,resourceId:le&&q,className:"rbc-allday-cell",selectable:C,selected:o.props.selected,components:N,accessors:R,getters:k,localizer:l,onSelect:o.props.onSelectEvent,onShowMore:o.props.onShowMore,onDoubleClick:o.props.onDoubleClickEvent,onKeyDown:o.props.onKeyPressEvent,onSelectSlot:o.props.onSelectSlot,longPressThreshold:o.props.longPressThreshold,resizable:L})})))})}},{key:"render",value:function(){var i=this.props,o=i.width,u=i.rtl,l=i.range,c=i.scrollRef,g=i.isOverflowing,p=i.components.timeGutterHeader,v={};return g&&(v[u?"marginLeft":"marginRight"]="".concat(Jm()-1,"px")),De.createElement("div",{style:v,ref:c,className:vr("rbc-time-header",g&&"rbc-overflowing")},De.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},p&&De.createElement(p,null)),this.renderHeaderCells(l))}}])}(De.Component);function S8(r){var e=r.min,n=r.max,i=r.localizer;return i.getTimezoneOffset(e)!==i.getTimezoneOffset(n)?{start:i.add(e,-1,"day"),end:i.add(n,-1,"day")}:{start:e,end:n}}var E8=function(e){var n=e.min,i=e.max,o=e.timeslots,u=e.step,l=e.localizer,c=e.getNow,g=e.resource,p=e.components,v=e.getters,y=e.gutterRef,_=p.timeGutterWrapper,A=dt.useMemo(function(){return S8({min:n,max:i,localizer:l})},[n==null?void 0:n.toISOString(),i==null?void 0:i.toISOString(),l]),x=A.start,S=A.end,R=dt.useState(y0({min:x,max:S,timeslots:o,step:u,localizer:l})),T=Za(R,2),D=T[0],C=T[1];dt.useEffect(function(){D&&C(D.update({min:x,max:S,timeslots:o,step:u,localizer:l}))},[x==null?void 0:x.toISOString(),S==null?void 0:S.toISOString(),o,u]);var N=dt.useCallback(function(k,L){if(L)return null;var j=D.dateIsInGroup(c(),L);return De.createElement("span",{className:vr("rbc-label",j&&"rbc-now")},l.format(k,"timeGutterFormat"))},[D,l,c]);return De.createElement(_,{slotMetrics:D},De.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:y},D.groups.map(function(k,L){return De.createElement(eD,{key:L,group:k,resource:g,components:p,renderSlot:N,getters:v})})))},x8=De.forwardRef(function(r,e){return De.createElement(E8,Object.assign({gutterRef:e},r))}),Gy={};function A8(r,e){return{map:function(i){return r?r.map(function(o,u){return i([e.resourceId(o),o],u)}):[i([Gy,null],0)]},groupEvents:function(i){var o=new Map;return r?(i.forEach(function(u){var l=e.resource(u)||Gy;if(Array.isArray(l))l.forEach(function(g){var p=o.get(g)||[];p.push(u),o.set(g,p)});else{var c=o.get(l)||[];c.push(u),o.set(l,c)}}),o):(o.set(Gy,i),o)}}}var vs=function(r){function e(n){var i;return Dr(this,e),i=Yr(this,e,[n]),i.handleScroll=function(o){i.scrollRef.current&&(i.scrollRef.current.scrollLeft=o.target.scrollLeft)},i.handleResize=function(){OS(i.rafHandle),i.rafHandle=oR(i.checkOverflow)},i.handleKeyPressEvent=function(){i.clearSelection();for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];tr(i.props.onKeyPressEvent,u)},i.handleSelectEvent=function(){i.clearSelection();for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];tr(i.props.onSelectEvent,u)},i.handleDoubleClickEvent=function(){i.clearSelection();for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];tr(i.props.onDoubleClickEvent,u)},i.handleShowMore=function(o,u,l,c,g){var p=i.props,v=p.popup,y=p.onDrillDown,_=p.onShowMore,A=p.getDrilldownView,x=p.doShowMoreDrillDown;if(i.clearSelection(),v){var S=aR(l,i.containerRef.current);i.setState({overlay:{date:u,events:o,position:Jt(Jt({},S),{},{width:"200px"}),target:g}})}else x&&tr(y,[u,A(u)||Zr.DAY]);tr(_,[o,u,c])},i.handleSelectAllDaySlot=function(o,u){var l=i.props.onSelectSlot,c=new Date(o[0]),g=new Date(o[o.length-1]);g.setDate(o[o.length-1].getDate()+1),tr(l,{slots:o,start:c,end:g,action:u.action,resourceId:u.resourceId})},i.overlayDisplay=function(){i.setState({overlay:null})},i.checkOverflow=function(){if(!i._updatingOverflow){var o=i.contentRef.current;if(o!=null&&o.scrollHeight){var u=o.scrollHeight>o.clientHeight;i.state.isOverflowing!==u&&(i._updatingOverflow=!0,i.setState({isOverflowing:u},function(){i._updatingOverflow=!1}))}}},i.memoizedResources=RR(function(o,u){return A8(o,u)}),i.state={gutterWidth:void 0,isOverflowing:null},i.scrollRef=De.createRef(),i.contentRef=De.createRef(),i.containerRef=De.createRef(),i._scrollRatio=null,i.gutterRef=dt.createRef(),i}return Jr(e,r),Cr(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),OS(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(i,o,u,l,c,g,p,v,y,_){var A=this.props,x=A.min,S=A.max,R=(l.get(o)||[]).filter(function(D){return g.inRange(i,p.start(D),p.end(D),"day")}),T=(c.get(o)||[]).filter(function(D){return g.inRange(i,p.start(D),p.end(D),"day")});return De.createElement(tD,Object.assign({},this.props,{localizer:g,min:g.merge(i,x),max:g.merge(i,S),resource:u&&o,components:v,isNow:g.isSameDate(i,_),key:"".concat(o,"-").concat(i),date:i,events:R,backgroundEvents:T,dayLayoutAlgorithm:y}))}},{key:"renderResourcesFirst",value:function(i,o,u,l,c,g,p,v,y){var _=this;return o.map(function(A){var x=Za(A,2),S=x[0],R=x[1];return i.map(function(T){return _.renderDayColumn(T,S,R,u,l,c,g,v,y,p)})})}},{key:"renderRangeFirst",value:function(i,o,u,l,c,g,p,v,y){var _=this;return i.map(function(A){return De.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:A},o.map(function(x){var S=Za(x,2),R=S[0],T=S[1];return De.createElement("div",{style:{flex:1},key:g.resourceId(T)},_.renderDayColumn(A,R,T,u,l,c,g,v,y,p))}))})}},{key:"renderEvents",value:function(i,o,u,l){var c=this.props,g=c.accessors,p=c.localizer,v=c.resourceGroupingLayout,y=c.components,_=c.dayLayoutAlgorithm,A=this.memoizedResources(this.props.resources,g),x=A.groupEvents(o),S=A.groupEvents(u);return v?this.renderRangeFirst(i,A,x,S,p,g,l,y,_):this.renderResourcesFirst(i,A,x,S,p,g,l,y,_)}},{key:"render",value:function(){var i,o=this.props,u=o.events,l=o.backgroundEvents,c=o.range,g=o.width,p=o.rtl,v=o.selected,y=o.getNow,_=o.resources,A=o.components,x=o.accessors,S=o.getters,R=o.localizer,T=o.min,D=o.max,C=o.showMultiDayTimes,N=o.longPressThreshold,k=o.resizable,L=o.resourceGroupingLayout;g=g||this.state.gutterWidth;var j=c[0],X=c[c.length-1];this.slots=c.length;var re=[],B=[],Y=[];u.forEach(function(ne){if(Wu(ne,j,X,x,R)){var ke=x.start(ne),Ve=x.end(ne);x.allDay(ne)||R.startAndEndAreDateOnly(ke,Ve)||!C&&!R.isSameDate(ke,Ve)?re.push(ne):B.push(ne)}}),l.forEach(function(ne){Wu(ne,j,X,x,R)&&Y.push(ne)}),re.sort(function(ne,ke){return mm(ne,ke,x,R)});var me={range:c,events:re,width:g,rtl:p,getNow:y,localizer:R,selected:v,allDayMaxRows:this.props.showAllEvents?1/0:(i=this.props.allDayMaxRows)!==null&&i!==void 0?i:1/0,resources:this.memoizedResources(_,x),selectable:this.props.selectable,accessors:x,getters:S,components:A,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:N,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:k};return De.createElement("div",{className:vr("rbc-time-view",_&&"rbc-time-view-resources"),ref:this.containerRef},_&&_.length>1&&L?De.createElement(w8,me):De.createElement(_8,me),this.props.popup&&this.renderOverlay(),De.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},De.createElement(x8,{date:j,ref:this.gutterRef,localizer:R,min:R.merge(j,T),max:R.merge(j,D),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:A,className:"rbc-time-gutter",getters:S}),this.renderEvents(c,B,Y,y())))}},{key:"renderOverlay",value:function(){var i,o,u=this,l=(i=(o=this.state)===null||o===void 0?void 0:o.overlay)!==null&&i!==void 0?i:{},c=this.props,g=c.accessors,p=c.localizer,v=c.components,y=c.getters,_=c.selected,A=c.popupOffset,x=c.handleDragStart,S=function(){return u.setState({overlay:null})};return De.createElement(g0,{overlay:l,accessors:g,localizer:p,components:v,getters:y,selected:_,popupOffset:A,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:x,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var i=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var o,u=(o=i.gutterRef)!==null&&o!==void 0&&o.current?vm(i.gutterRef.current):void 0;u&&i.state.gutterWidth!==u&&i.setState({gutterWidth:u})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var i=this.contentRef.current;i.scrollTop=i.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=i.min,u=i.max,l=i.scrollToTime,c=i.localizer,g=c.diff(c.merge(l,o),l,"milliseconds"),p=c.diff(o,u,"milliseconds");this._scrollRatio=g/p}}])}(dt.Component);vs.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var T8=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Df=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.date,u=i.localizer,l=i.min,c=l===void 0?u.startOf(new Date,"day"):l,g=i.max,p=g===void 0?u.endOf(new Date,"day"):g,v=i.scrollToTime,y=v===void 0?u.startOf(new Date,"day"):v,_=i.enableAutoScroll,A=_===void 0?!0:_,x=gi(i,T8),S=e.range(o,{localizer:u});return De.createElement(vs,Object.assign({},x,{range:S,eventOffset:10,localizer:u,min:c,max:p,scrollToTime:y,enableAutoScroll:A}))}}])}(De.Component);Df.range=function(r,e){var n=e.localizer;return[n.startOf(r,"day")]};Df.navigate=function(r,e,n){var i=n.localizer;switch(e){case fn.PREVIOUS:return i.add(r,-1,"day");case fn.NEXT:return i.add(r,1,"day");default:return r}};Df.title=function(r,e){var n=e.localizer;return n.format(r,"dayHeaderFormat")};var R8=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ea=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.date,u=i.localizer,l=i.min,c=l===void 0?u.startOf(new Date,"day"):l,g=i.max,p=g===void 0?u.endOf(new Date,"day"):g,v=i.scrollToTime,y=v===void 0?u.startOf(new Date,"day"):v,_=i.enableAutoScroll,A=_===void 0?!0:_,x=gi(i,R8),S=e.range(o,this.props);return De.createElement(vs,Object.assign({},x,{range:S,eventOffset:15,localizer:u,min:c,max:p,scrollToTime:y,enableAutoScroll:A}))}}])}(De.Component);Ea.defaultProps=vs.defaultProps;Ea.navigate=function(r,e,n){var i=n.localizer;switch(e){case fn.PREVIOUS:return i.add(r,-1,"week");case fn.NEXT:return i.add(r,1,"week");default:return r}};Ea.range=function(r,e){var n=e.localizer,i=n.startOfWeek(),o=n.startOf(r,"week",i),u=n.endOf(r,"week",i);return n.range(o,u)};Ea.title=function(r,e){var n=e.localizer,i=Ea.range(r,{localizer:n}),o=MR(i),u=o[0],l=o.slice(1);return n.format({start:u,end:l.pop()},"dayRangeHeaderFormat")};var D8=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function m0(r,e){return Ea.range(r,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var ul=function(r){function e(){return Dr(this,e),Yr(this,e,arguments)}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.date,u=i.localizer,l=i.min,c=l===void 0?u.startOf(new Date,"day"):l,g=i.max,p=g===void 0?u.endOf(new Date,"day"):g,v=i.scrollToTime,y=v===void 0?u.startOf(new Date,"day"):v,_=i.enableAutoScroll,A=_===void 0?!0:_,x=gi(i,D8),S=m0(o,this.props);return De.createElement(vs,Object.assign({},x,{range:S,eventOffset:15,localizer:u,min:c,max:p,scrollToTime:y,enableAutoScroll:A}))}}])}(De.Component);ul.defaultProps=vs.defaultProps;ul.range=m0;ul.navigate=Ea.navigate;ul.title=function(r,e){var n=e.localizer,i=m0(r,{localizer:n}),o=MR(i),u=o[0],l=o.slice(1);return n.format({start:u,end:l.pop()},"dayRangeHeaderFormat")};var Cf=30;function Ff(r){var e=r.accessors,n=r.components,i=r.date,o=r.events,u=r.getters,l=r.length,c=l===void 0?Cf:l,g=r.localizer,p=r.onDoubleClickEvent,v=r.onSelectEvent,y=r.selected,_=dt.useRef(null),A=dt.useRef(null),x=dt.useRef(null),S=dt.useRef(null),R=dt.useRef(null);dt.useEffect(function(){C()});var T=function(X,re,B){var Y=n.event,me=n.date;return re=re.filter(function(ne){return Wu(ne,g.startOf(X,"day"),g.endOf(X,"day"),e,g)}),re.map(function(ne,ke){var Ve=e.title(ne),ge=e.end(ne),Oe=e.start(ne),we=u.eventProp(ne,Oe,ge,Tf(ne,y)),Be=ke===0&&g.format(X,"agendaDateFormat"),q=ke===0?De.createElement("td",{rowSpan:re.length,className:"rbc-agenda-date-cell"},me?De.createElement(me,{day:X,label:Be}):Be):!1;return De.createElement("tr",{key:B+"_"+ke,className:we.className,style:we.style},q,De.createElement("td",{className:"rbc-agenda-time-cell"},D(X,ne)),De.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Ae){return v&&v(ne,Ae)},onDoubleClick:function(Ae){return p&&p(ne,Ae)}},Y?De.createElement(Y,{event:ne,title:Ve}):Ve))},[])},D=function(X,re){var B="",Y=n.time,me=g.messages.allDay,ne=e.end(re),ke=e.start(re);return e.allDay(re)||(g.eq(ke,ne)?me=g.format(ke,"agendaTimeFormat"):g.isSameDate(ke,ne)?me=g.format({start:ke,end:ne},"agendaTimeRangeFormat"):g.isSameDate(X,ke)?me=g.format(ke,"agendaTimeFormat"):g.isSameDate(X,ne)&&(me=g.format(ne,"agendaTimeFormat"))),g.gt(X,ke,"day")&&(B="rbc-continues-prior"),g.lt(X,ne,"day")&&(B+=" rbc-continues-after"),De.createElement("span",{className:B.trim()},Y?De.createElement(Y,{event:re,day:X,label:me}):me)},C=function(){if(R.current){var X=_.current,re=R.current.firstChild;if(re){var B=S.current.scrollHeight>S.current.clientHeight,Y=[],me=Y;Y=[vm(re.children[0]),vm(re.children[1])],(me[0]!==Y[0]||me[1]!==Y[1])&&(A.current.style.width=Y[0]+"px",x.current.style.width=Y[1]+"px"),B?(Fk(X,"rbc-header-overflowing"),X.style.marginRight=Jm()+"px"):Ok(X,"rbc-header-overflowing")}}},N=g.messages,k=g.add(i,c,"day"),L=g.range(i,k,"day");return o=o.filter(function(j){return Wu(j,g.startOf(i,"day"),g.endOf(k,"day"),e,g)}),o.sort(function(j,X){return+e.start(j)-+e.start(X)}),De.createElement("div",{className:"rbc-agenda-view"},o.length!==0?De.createElement(De.Fragment,null,De.createElement("table",{ref:_,className:"rbc-agenda-table"},De.createElement("thead",null,De.createElement("tr",null,De.createElement("th",{className:"rbc-header",ref:A},N.date),De.createElement("th",{className:"rbc-header",ref:x},N.time),De.createElement("th",{className:"rbc-header"},N.event)))),De.createElement("div",{className:"rbc-agenda-content",ref:S},De.createElement("table",{className:"rbc-agenda-table"},De.createElement("tbody",{ref:R},L.map(function(j,X){return T(j,o,X)}))))):De.createElement("span",{className:"rbc-agenda-empty"},N.noEventsInRange))}Ff.range=function(r,e){var n=e.length,i=n===void 0?Cf:n,o=e.localizer,u=o.add(r,i,"day");return{start:r,end:u}};Ff.navigate=function(r,e,n){var i=n.length,o=i===void 0?Cf:i,u=n.localizer;switch(e){case fn.PREVIOUS:return u.add(r,-o,"day");case fn.NEXT:return u.add(r,o,"day");default:return r}};Ff.title=function(r,e){var n=e.length,i=n===void 0?Cf:n,o=e.localizer,u=o.add(r,i,"day");return o.format({start:r,end:u},"agendaHeaderFormat")};var Hc=Ga(Ga(Ga(Ga(Ga({},Zr.MONTH,Rf),Zr.WEEK,Ea),Zr.WORK_WEEK,ul),Zr.DAY,Df),Zr.AGENDA,Ff),C8=["action","date","today"];function F8(r,e){var n=e.action,i=e.date,o=e.today,u=gi(e,C8);switch(r=typeof r=="string"?Hc[r]:r,n){case fn.TODAY:i=o||new Date;break;case fn.DATE:break;default:ku(r&&typeof r.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),i=r.navigate(i,n,u)}return i}function O8(r,e){var n=null;return typeof e=="function"?n=e(r):typeof e=="string"&&qi(r)==="object"&&r!=null&&e in r&&(n=r[e]),n}var Pi=function(e){return function(n){return O8(n,e)}},N8=["view","date","getNow","onNavigate"],M8=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function nD(r){if(Array.isArray(r))return r;for(var e=[],n=0,i=Object.entries(r);n<i.length;n++){var o=Za(i[n],2),u=o[0],l=o[1];l&&e.push(u)}return e}function I8(r,e){var n=e.views,i=nD(n);return i.indexOf(r)!==-1}var iD=function(r){function e(){var n;Dr(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=Yr(this,e,[].concat(o)),n.getViews=function(){var l=n.props.views;return Array.isArray(l)?i4(l,function(c,g){return c[g]=Hc[g]},{}):qi(l)==="object"?R6(l,function(c,g){return c===!0?Hc[g]:c}):Hc},n.getView=function(){var l=n.getViews();return l[n.props.view]},n.getDrilldownView=function(l){var c=n.props,g=c.view,p=c.drilldownView,v=c.getDrilldownView;return v?v(l,g,Object.keys(n.getViews())):p},n.handleRangeChange=function(l,c,g){var p=n.props,v=p.onRangeChange,y=p.localizer;v&&c.range&&v(c.range(l,{localizer:y}),g)},n.handleNavigate=function(l,c){var g=n.props,p=g.view,v=g.date,y=g.getNow,_=g.onNavigate,A=gi(g,N8),x=n.getView(),S=y();v=F8(x,Jt(Jt({},A),{},{action:l,date:c||v||S,today:S})),_(v,p,l),n.handleRangeChange(v,x)},n.handleViewChange=function(l){l!==n.props.view&&I8(l,n.props)&&n.props.onView(l);var c=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),c[l],l)},n.handleSelectEvent=function(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];tr(n.props.onKeyPressEvent,c)},n.handleSelectSlot=function(l){tr(n.props.onSelectSlot,l)},n.handleDrillDown=function(l,c){var g=n.props.onDrillDown;if(g){g(l,c,n.drilldownView);return}c&&n.handleViewChange(c),n.handleNavigate(fn.DATE,l)},n.state={context:e.getContext(n.props)},n}return Jr(e,r),Cr(e,[{key:"render",value:function(){var i=this.props,o=i.view,u=i.toolbar,l=i.events,c=i.backgroundEvents,g=i.resourceGroupingLayout,p=i.style,v=i.className,y=i.elementProps,_=i.date,A=i.getNow,x=i.length,S=i.showMultiDayTimes,R=i.onShowMore,T=i.doShowMoreDrillDown;i.components,i.formats,i.messages,i.culture;var D=gi(i,M8);_=_||A();var C=this.getView(),N=this.state.context,k=N.accessors,L=N.components,j=N.getters,X=N.localizer,re=N.viewNames,B=L.toolbar||U4,Y=C.title(_,{localizer:X,length:x});return De.createElement("div",Object.assign({},y,{className:vr(v,"rbc-calendar",D.rtl&&"rbc-rtl"),style:p}),u&&De.createElement(B,{date:_,view:o,views:re,label:Y,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:X}),De.createElement(C,Object.assign({},D,{events:l,backgroundEvents:c,date:_,getNow:A,length:x,localizer:X,getters:j,components:L,accessors:k,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:R,doShowMoreDrillDown:T,resourceGroupingLayout:g})))}}],[{key:"getDerivedStateFromProps",value:function(i){return{context:e.getContext(i)}}},{key:"getContext",value:function(i){var o=i.startAccessor,u=i.endAccessor,l=i.allDayAccessor,c=i.tooltipAccessor,g=i.titleAccessor,p=i.resourceAccessor,v=i.resourceIdAccessor,y=i.resourceTitleAccessor,_=i.eventIdAccessor,A=i.eventPropGetter,x=i.backgroundEventPropGetter,S=i.slotPropGetter,R=i.slotGroupPropGetter,T=i.dayPropGetter,D=i.view,C=i.views,N=i.localizer,k=i.culture,L=i.messages,j=L===void 0?{}:L,X=i.components,re=X===void 0?{}:X,B=i.formats,Y=B===void 0?{}:B,me=nD(C),ne=B4(j);return{viewNames:me,localizer:P4(N,k,Y,ne),getters:{eventProp:function(){return A&&A.apply(void 0,arguments)||{}},backgroundEventProp:function(){return x&&x.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return R&&R.apply(void 0,arguments)||{}},dayProp:function(){return T&&T.apply(void 0,arguments)||{}}},components:x6(re[D]||{},t4(re,me),{eventWrapper:Ui,backgroundEventWrapper:Ui,eventContainerWrapper:Ui,dateCellWrapper:Ui,weekWrapper:Ui,timeSlotWrapper:Ui,timeGutterWrapper:Ui}),accessors:{start:Pi(o),end:Pi(u),allDay:Pi(l),tooltip:Pi(c),title:Pi(g),resource:Pi(p),resourceId:Pi(v),resourceTitle:Pi(y),eventId:Pi(_)}}}}])}(De.Component);iD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Zr.MONTH,views:[Zr.MONTH,Zr.WEEK,Zr.DAY,Zr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Zr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var k8=KT(iD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),P8=function(e,n,i){var o=e.start,u=e.end;return"".concat(i.format(o,"P",n)," – ").concat(i.format(u,"P",n))},Yy=function(e,n,i){var o=e.start,u=e.end;return"".concat(i.format(o,"p",n)," – ").concat(i.format(u,"p",n))},U8=function(e,n,i){var o=e.start;return"".concat(i.format(o,"h:mma",n)," – ")},L8=function(e,n,i){var o=e.end;return" – ".concat(i.format(o,"h:mma",n))},B8=function(e,n,i){var o=e.start,u=e.end;return"".concat(i.format(o,"MMMM dd",n)," – ").concat(i.format(u,fs(o,u,"month")?"dd":"MMMM dd",n))},j8={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:Yy,eventTimeRangeFormat:Yy,eventTimeRangeStartFormat:U8,eventTimeRangeEndFormat:L8,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:B8,agendaHeaderFormat:P8,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:Yy},q8=function(e){var n=e.startOfWeek,i=e.getDay,o=e.format,u=e.locales;return new k4({formats:j8,firstOfWeek:function(c){return i(n(new Date,{locale:u[c]}))},format:function(c,g,p){return o(new Date(c),g,{locale:u[p]})}})};const H8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},K8=(r,e,n)=>{let i;const o=H8[r];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Jo(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const z8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W8={date:Jo({formats:z8,defaultWidth:"full"}),time:Jo({formats:V8,defaultWidth:"full"}),dateTime:Jo({formats:$8,defaultWidth:"full"})},G8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y8=(r,e,n,i)=>G8[r];function ci(r){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let o;if(i==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=n!=null&&n.width?String(n.width):l;o=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[c]||r.values[l]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const J8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},X8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rU=(r,e)=>{const n=Number(r),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nU={ordinalNumber:rU,era:ci({values:J8,defaultWidth:"wide"}),quarter:ci({values:X8,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ci({values:Q8,defaultWidth:"wide"}),day:ci({values:Z8,defaultWidth:"wide"}),dayPeriod:ci({values:eU,defaultWidth:"wide",formattingValues:tU,defaultFormattingWidth:"wide"})};function fi(r){return(e,n={})=>{const i=n.width,o=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const l=u[0],c=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(c)?aU(c,y=>y.test(l)):iU(c,y=>y.test(l));let p;p=r.valueCallback?r.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const v=e.slice(l.length);return{value:p,rest:v}}}function iU(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function aU(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function aD(r){return(e,n={})=>{const i=e.match(r.matchPattern);if(!i)return null;const o=i[0],u=e.match(r.parsePattern);if(!u)return null;let l=r.valueCallback?r.valueCallback(u[0]):u[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(o.length);return{value:l,rest:c}}}const oU=/^(\d+)(th|st|nd|rd)?/i,sU=/\d+/i,uU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lU={any:[/^b/i,/^(a|c)/i]},cU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fU={any:[/1/i,/2/i,/3/i,/4/i]},dU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mU={ordinalNumber:aD({matchPattern:oU,parsePattern:sU,valueCallback:r=>parseInt(r,10)}),era:fi({matchPatterns:uU,defaultMatchWidth:"wide",parsePatterns:lU,defaultParseWidth:"any"}),quarter:fi({matchPatterns:cU,defaultMatchWidth:"wide",parsePatterns:fU,defaultParseWidth:"any",valueCallback:r=>r+1}),month:fi({matchPatterns:dU,defaultMatchWidth:"wide",parsePatterns:hU,defaultParseWidth:"any"}),day:fi({matchPatterns:pU,defaultMatchWidth:"wide",parsePatterns:gU,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:vU,defaultMatchWidth:"any",parsePatterns:yU,defaultParseWidth:"any"})},oD={code:"en-US",formatDistance:K8,formatLong:W8,formatRelative:Y8,localize:nU,match:mU,options:{weekStartsOn:0,firstWeekContainsDate:1}};let bU={};function Of(){return bU}const sD=6048e5,_U=864e5,uD=6e4,lD=36e5,bA=Symbol.for("constructDateFrom");function Ki(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&bA in r?r[bA](e):r instanceof Date?new r.constructor(e):new Date(e)}function dn(r,e){return Ki(e||r,r)}function _A(r){const e=dn(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function wU(r,...e){const n=Ki.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function wA(r,e){const n=dn(r,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function SU(r,e,n){const[i,o]=wU(n==null?void 0:n.in,r,e),u=wA(i),l=wA(o),c=+u-_A(u),g=+l-_A(l);return Math.round((c-g)/_U)}function EU(r,e){const n=dn(r,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xU(r,e){const n=dn(r,e==null?void 0:e.in);return SU(n,EU(n))+1}function is(r,e){var c,g,p,v;const n=Of(),i=(e==null?void 0:e.weekStartsOn)??((g=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,o=dn(r,e==null?void 0:e.in),u=o.getDay(),l=(u<i?7:0)+u-i;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Zc(r,e){return is(r,{...e,weekStartsOn:1})}function cD(r,e){const n=dn(r,e==null?void 0:e.in),i=n.getFullYear(),o=Ki(n,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const u=Zc(o),l=Ki(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=Zc(l);return n.getTime()>=u.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function AU(r,e){const n=cD(r,e),i=Ki(r,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Zc(i)}function TU(r,e){const n=dn(r,e==null?void 0:e.in),i=+Zc(n)-+AU(n);return Math.round(i/sD)+1}function fD(r,e){var v,y,_,A;const n=dn(r,e==null?void 0:e.in),i=n.getFullYear(),o=Of(),u=(e==null?void 0:e.firstWeekContainsDate)??((y=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((A=(_=o.locale)==null?void 0:_.options)==null?void 0:A.firstWeekContainsDate)??1,l=Ki((e==null?void 0:e.in)||r,0);l.setFullYear(i+1,0,u),l.setHours(0,0,0,0);const c=is(l,e),g=Ki((e==null?void 0:e.in)||r,0);g.setFullYear(i,0,u),g.setHours(0,0,0,0);const p=is(g,e);return+n>=+c?i+1:+n>=+p?i:i-1}function RU(r,e){var c,g,p,v;const n=Of(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=fD(r,e),u=Ki((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,i),u.setHours(0,0,0,0),is(u,e)}function DU(r,e){const n=dn(r,e==null?void 0:e.in),i=+is(n,e)-+RU(n,e);return Math.round(i/sD)+1}function zt(r,e){const n=r<0?"-":"",i=Math.abs(r).toString().padStart(e,"0");return n+i}const ba={y(r,e){const n=r.getFullYear(),i=n>0?n:1-n;return zt(e==="yy"?i%100:i,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):zt(n+1,2)},d(r,e){return zt(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,e){return zt(r.getHours()%12||12,e.length)},H(r,e){return zt(r.getHours(),e.length)},m(r,e){return zt(r.getMinutes(),e.length)},s(r,e){return zt(r.getSeconds(),e.length)},S(r,e){const n=e.length,i=r.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return zt(o,e.length)}},Vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SA={G:function(r,e,n){const i=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const i=r.getFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return ba.y(r,e)},Y:function(r,e,n,i){const o=fD(r,i),u=o>0?o:1-o;if(e==="YY"){const l=u%100;return zt(l,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):zt(u,e.length)},R:function(r,e){const n=cD(r);return zt(n,e.length)},u:function(r,e){const n=r.getFullYear();return zt(n,e.length)},Q:function(r,e,n){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return zt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,e,n){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return zt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,e,n){const i=r.getMonth();switch(e){case"M":case"MM":return ba.M(r,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(r,e,n){const i=r.getMonth();switch(e){case"L":return String(i+1);case"LL":return zt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(r,e,n,i){const o=DU(r,i);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):zt(o,e.length)},I:function(r,e,n){const i=TU(r);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):zt(i,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):ba.d(r,e)},D:function(r,e,n){const i=xU(r);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):zt(i,e.length)},E:function(r,e,n){const i=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(r,e,n,i){const o=r.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return zt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,i){const o=r.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return zt(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const i=r.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return zt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(r,e,n){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,n){const i=r.getHours();let o;switch(i===12?o=Vo.noon:i===0?o=Vo.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const i=r.getHours();let o;switch(i>=17?o=Vo.evening:i>=12?o=Vo.afternoon:i>=4?o=Vo.morning:o=Vo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let i=r.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ba.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):ba.H(r,e)},K:function(r,e,n){const i=r.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):zt(i,e.length)},k:function(r,e,n){let i=r.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):zt(i,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):ba.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):ba.s(r,e)},S:function(r,e){return ba.S(r,e)},X:function(r,e,n){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return xA(i);case"XXXX":case"XX":return $a(i);case"XXXXX":case"XXX":default:return $a(i,":")}},x:function(r,e,n){const i=r.getTimezoneOffset();switch(e){case"x":return xA(i);case"xxxx":case"xx":return $a(i);case"xxxxx":case"xxx":default:return $a(i,":")}},O:function(r,e,n){const i=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+EA(i,":");case"OOOO":default:return"GMT"+$a(i,":")}},z:function(r,e,n){const i=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+EA(i,":");case"zzzz":default:return"GMT"+$a(i,":")}},t:function(r,e,n){const i=Math.trunc(+r/1e3);return zt(i,e.length)},T:function(r,e,n){return zt(+r,e.length)}};function EA(r,e=""){const n=r>0?"-":"+",i=Math.abs(r),o=Math.trunc(i/60),u=i%60;return u===0?n+String(o):n+String(o)+e+zt(u,2)}function xA(r,e){return r%60===0?(r>0?"-":"+")+zt(Math.abs(r)/60,2):$a(r,e)}function $a(r,e=""){const n=r>0?"-":"+",i=Math.abs(r),o=zt(Math.trunc(i/60),2),u=zt(i%60,2);return n+o+e+u}const AA=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dD=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CU=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return AA(r,e);let u;switch(i){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",AA(i,e)).replace("{{time}}",dD(o,e))},FU={p:dD,P:CU},OU=/^D+$/,NU=/^Y+$/,MU=["D","DD","YY","YYYY"];function IU(r){return OU.test(r)}function kU(r){return NU.test(r)}function PU(r,e,n){const i=UU(r,e,n);if(console.warn(i),MU.includes(r))throw new RangeError(i)}function UU(r,e,n){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function LU(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function BU(r){return!(!LU(r)&&typeof r!="number"||isNaN(+dn(r)))}const jU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HU=/^'([^]*?)'?$/,KU=/''/g,zU=/[a-zA-Z]/;function VU(r,e,n){var v,y,_,A,x,S,R,T;const i=Of(),o=(n==null?void 0:n.locale)??i.locale??oD,u=(n==null?void 0:n.firstWeekContainsDate)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((A=(_=i.locale)==null?void 0:_.options)==null?void 0:A.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((S=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((T=(R=i.locale)==null?void 0:R.options)==null?void 0:T.weekStartsOn)??0,c=dn(r,n==null?void 0:n.in);if(!BU(c))throw new RangeError("Invalid time value");let g=e.match(qU).map(D=>{const C=D[0];if(C==="p"||C==="P"){const N=FU[C];return N(D,o.formatLong)}return D}).join("").match(jU).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const C=D[0];if(C==="'")return{isToken:!1,value:$U(D)};if(SA[C])return{isToken:!0,value:D};if(C.match(zU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:D}});o.localize.preprocessor&&(g=o.localize.preprocessor(c,g));const p={firstWeekContainsDate:u,weekStartsOn:l,locale:o};return g.map(D=>{if(!D.isToken)return D.value;const C=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&kU(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&IU(C))&&PU(C,e,String(r));const N=SA[C[0]];return N(c,C,o.localize,p)}).join("")}function $U(r){const e=r.match(HU);return e?e[1].replace(KU,"'"):r}function WU(r,e){return dn(r,e==null?void 0:e.in).getDay()}function TA(r,e){const n=()=>Ki(e==null?void 0:e.in,NaN),o=XU(r);let u;if(o.date){const p=QU(o.date,2);u=ZU(p.restDateString,p.year)}if(!u||isNaN(+u))return n();const l=+u;let c=0,g;if(o.time&&(c=eL(o.time),isNaN(c)))return n();if(o.timezone){if(g=tL(o.timezone),isNaN(g))return n()}else{const p=new Date(l+c),v=dn(0,e==null?void 0:e.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return dn(l+c+g,e==null?void 0:e.in)}const Rc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},GU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,YU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,JU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XU(r){const e={},n=r.split(Rc.dateTimeDelimiter);let i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],Rc.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Rc.timeZoneDelimiter)[0],i=r.substr(e.date.length,r.length))),i){const o=Rc.timezone.exec(i);o?(e.time=i.replace(o[1],""),e.timezone=o[1]):e.time=i}return e}function QU(r,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=r.match(n);if(!i)return{year:NaN,restDateString:""};const o=i[1]?parseInt(i[1]):null,u=i[2]?parseInt(i[2]):null;return{year:u===null?o:u*100,restDateString:r.slice((i[1]||i[2]).length)}}function ZU(r,e){if(e===null)return new Date(NaN);const n=r.match(GU);if(!n)return new Date(NaN);const i=!!n[4],o=_u(n[1]),u=_u(n[2])-1,l=_u(n[3]),c=_u(n[4]),g=_u(n[5])-1;if(i)return oL(e,c,g)?rL(e,c,g):new Date(NaN);{const p=new Date(0);return!iL(e,u,l)||!aL(e,o)?new Date(NaN):(p.setUTCFullYear(e,u,Math.max(o,l)),p)}}function _u(r){return r?parseInt(r):1}function eL(r){const e=r.match(YU);if(!e)return NaN;const n=Jy(e[1]),i=Jy(e[2]),o=Jy(e[3]);return sL(n,i,o)?n*lD+i*uD+o*1e3:NaN}function Jy(r){return r&&parseFloat(r.replace(",","."))||0}function tL(r){if(r==="Z")return 0;const e=r.match(JU);if(!e)return 0;const n=e[1]==="+"?-1:1,i=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return uL(i,o)?n*(i*lD+o*uD):NaN}function rL(r,e,n){const i=new Date(0);i.setUTCFullYear(r,0,4);const o=i.getUTCDay()||7,u=(e-1)*7+n+1-o;return i.setUTCDate(i.getUTCDate()+u),i}const nL=[31,null,31,30,31,30,31,31,30,31,30,31];function hD(r){return r%400===0||r%4===0&&r%100!==0}function iL(r,e,n){return e>=0&&e<=11&&n>=1&&n<=(nL[e]||(hD(r)?29:28))}function aL(r,e){return e>=1&&e<=(hD(r)?366:365)}function oL(r,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function sL(r,e,n){return r===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&r>=0&&r<25}function uL(r,e){return e>=0&&e<=59}const lL={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"omtrent en time",other:"omtrent {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXWeeks:{one:"omtrent en uke",other:"omtrent {{count}} uker"},xWeeks:{one:"en uke",other:"{{count}} uker"},aboutXMonths:{one:"omtrent en måned",other:"omtrent {{count}} måneder"},xMonths:{one:"en måned",other:"{{count}} måneder"},aboutXYears:{one:"omtrent ett år",other:"omtrent {{count}} år"},xYears:{one:"ett år",other:"{{count}} år"},overXYears:{one:"over ett år",other:"over {{count}} år"},almostXYears:{one:"nesten ett år",other:"nesten {{count}} år"}},cL=(r,e,n)=>{let i;const o=lL[r];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+i:i+" siden":i},fL={full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. MMM y",short:"dd.MM.y"},dL={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hL={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},pL={date:Jo({formats:fL,defaultWidth:"full"}),time:Jo({formats:dL,defaultWidth:"full"}),dateTime:Jo({formats:hL,defaultWidth:"full"})},gL={lastWeek:"'forrige' eeee 'kl.' p",yesterday:"'i går kl.' p",today:"'i dag kl.' p",tomorrow:"'i morgen kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},vL=(r,e,n,i)=>gL[r],yL={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["før Kristus","etter Kristus"]},mL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"]},bL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],wide:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},_L={narrow:["S","M","T","O","T","F","L"],short:["sø","ma","ti","on","to","fr","lø"],abbreviated:["søn","man","tir","ons","tor","fre","lør"],wide:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},wL={narrow:{am:"a",pm:"p",midnight:"midnatt",noon:"middag",morning:"på morg.",afternoon:"på etterm.",evening:"på kvelden",night:"på natten"},abbreviated:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"på morg.",afternoon:"på etterm.",evening:"på kvelden",night:"på natten"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"på morgenen",afternoon:"på ettermiddagen",evening:"på kvelden",night:"på natten"}},SL=(r,e)=>Number(r)+".",EL={ordinalNumber:SL,era:ci({values:yL,defaultWidth:"wide"}),quarter:ci({values:mL,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ci({values:bL,defaultWidth:"wide"}),day:ci({values:_L,defaultWidth:"wide"}),dayPeriod:ci({values:wL,defaultWidth:"wide"})},xL=/^(\d+)\.?/i,AL=/\d+/i,TL={narrow:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,abbreviated:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,wide:/^(før Kristus|før vår tid|etter Kristus|vår tid)/i},RL={any:[/^f/i,/^e/i]},DL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? kvartal/i},CL={any:[/1/i,/2/i,/3/i,/4/i]},FL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mars?|apr|mai|juni?|juli?|aug|sep|okt|nov|des)\.?/i,wide:/^(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)/i},OL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^aug/i,/^s/i,/^o/i,/^n/i,/^d/i]},NL={narrow:/^[smtofl]/i,short:/^(sø|ma|ti|on|to|fr|lø)/i,abbreviated:/^(søn|man|tir|ons|tor|fre|lør)/i,wide:/^(søndag|mandag|tirsdag|onsdag|torsdag|fredag|lørdag)/i},ML={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},IL={narrow:/^(midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten)|[ap])/i,any:/^([ap]\.?\s?m\.?|midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten))/i},kL={any:{am:/^a(\.?\s?m\.?)?$/i,pm:/^p(\.?\s?m\.?)?$/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgen/i,afternoon:/ettermiddag/i,evening:/kveld/i,night:/natt/i}},PL={ordinalNumber:aD({matchPattern:xL,parsePattern:AL,valueCallback:r=>parseInt(r,10)}),era:fi({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:RL,defaultParseWidth:"any"}),quarter:fi({matchPatterns:DL,defaultMatchWidth:"wide",parsePatterns:CL,defaultParseWidth:"any",valueCallback:r=>r+1}),month:fi({matchPatterns:FL,defaultMatchWidth:"wide",parsePatterns:OL,defaultParseWidth:"any"}),day:fi({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:ML,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:IL,defaultMatchWidth:"any",parsePatterns:kL,defaultParseWidth:"any"})},UL={code:"nb",formatDistance:cL,formatLong:pL,formatRelative:vL,localize:EL,match:PL,options:{weekStartsOn:1,firstWeekContainsDate:4}},LL={"en-US":oD,"no-Nb":UL},BL=q8({format:VU,startOfWeek:is,getDay:WU,locales:LL});function jL({events:r}){const[e,n]=dt.useState("week"),i=dt.useMemo(()=>r.map(o=>({title:o.summary,start:TA(o.dtstart),end:TA(o.dtend),allDay:!1})),[r]);return pr.jsx("div",{style:{height:600},children:pr.jsx(k8,{localizer:BL,events:i,startAccessor:"start",endAccessor:"end",defaultView:"week",view:e,onView:o=>n(o),views:["month","week","day"],style:{height:"100%"}})})}function qL(){const[r,e]=dt.useState(null),[n,i]=dt.useState(""),[o,u]=dt.useState(["work","personal"]),[l,c]=dt.useState("work"),[g,p]=dt.useState([]),[v,y]=dt.useState(null),_=async()=>{const x=await n3(r,n);p(x)};dt.useEffect(()=>{(async()=>{var S;if((S=r==null?void 0:r.info)!=null&&S.isLoggedIn&&r.info.webId){const R=await A(r);y(R),i(`${R}/private/calendars/${l}/`)}})()},[r]);const A=async x=>{const S=await e3(x.info.webId,{fetch:x.fetch});return await o3(x,`${S[0]}/private/calendars/${l}/`),S[0]};return dt.useEffect(()=>{r&&_()},[r,l,n]),pr.jsxs("div",{style:{padding:"2rem",fontFamily:"sans-serif"},children:[pr.jsx("h1",{children:"Solid Calendar"}),pr.jsx(RN,{onLogin:x=>e(x)}),r&&pr.jsxs(pr.Fragment,{children:[pr.jsxs("p",{children:["Storing events in: ",pr.jsx("code",{children:n})]}),pr.jsx(s3,{session:r,podUrl:n,onEventSaved:()=>alert("Event saved!")})]}),r&&pr.jsxs(pr.Fragment,{children:[pr.jsxs("h2",{children:["Calendar: ",l]}),pr.jsx(jL,{events:g})]}),JSON.stringify(g)]})}gF.createRoot(document.getElementById("root")).render(pr.jsx(De.StrictMode,{children:pr.jsx(qL,{})}));
